(this.webpackJsonpwin_health=this.webpackJsonpwin_health||[]).push([[7],{210:function(e,t){},215:function(e,t,a){e.exports=a.p+"static/media/logoms2.d0d80492.jpg"},47:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(203),r=a.n(n),l="".concat("192.168.42.243",":8000"),c=("".concat("192.168.42.243",":8000"),"".concat("192.168.42.243",":8000")),o={timeout:1e3,url:"http://".concat(l),local:"http://".concat(c)},i=r()("http://".concat(l))},513:function(e,t){},515:function(e,t){},559:function(e,t){},560:function(e,t){},716:function(e,t,a){e.exports=a.p+"static/media/qr2.42d4692d.png"},718:function(e,t,a){},720:function(e,t,a){e.exports=a.p+"static/media/logo3.5f50cfa6.png"},722:function(e,t,a){},729:function(e,t,a){"use strict";a.r(t);var n=a(54),r=a(0),l=a.n(r),c=a(53),o=a(16),i=a(1),s=a(50),u=[{title:"Accueil",icon:"action-home",path:"/gap"},{title:"Admission",icon:"av-recent-actors",path:"/gap/admission"},{title:"Caisse",icon:"editor-attach-money",path:"/gap/caisse"},{title:"Assurance",icon:"action-account-child",path:"/gap/assurance"},{title:"Statistiques",icon:"action-assessment",path:"/gap/statistiques"},{title:"Encaissement",icon:"content-mail",path:"/gap/encaissement_mutuelles"},{title:"Administration GAP",icon:"hardware-security",path:"/gap/administration"},{title:"Parametres",icon:"action-settings",path:"/gap/settings"},{title:"Info",icon:"action-info-outline",path:"/gap/info"}],m=s.a.permissions.functions.map((function(e){return e.name})),d=(u.filter((function(e){return m.includes(e.title)})),u),f=s.a.permissions.functions.filter((function(e){return"Admission"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),p=[{target:"listPatient",title:"Liste des patients",icon:"action-subject"},{target:"dossiersPatient",title:"Dossiers Patients",icon:"file-folder"}],b=0!==f.length?p.filter((function(e){return f.includes(e.target)})):p,E=a(94),g=a(128),h=a(49),y=a(85),v=a(797),j=a(801),x=a(802),O=a(777),N=a(772),S=a(800),w=a(790),C=a(803),T=a(784),z=a(794),k=a(783),F=a(780),D=a(778),A=a(46),R=a(84),M=a.n(R),P=a(91),I=a.n(P),B=a(257),_=a.n(B),L=a(107),Y=a.n(L),U=a(710),V=a.n(U),q=a(788),G=a(106),W=a(781),H=a(806),K=a(52),J=a.n(K),X=a(86),Q=a(72),Z=a.n(Q),$=a(47),ee=a(73),te=a.n(ee),ae=a(79),ne={listSejour:[],currentSejour:null,currentFacture:null,detailsSejour:null,loadingSejour:!1},re=function(e){return{type:"SET_CURRENT_SEJOUR",currentSejour:e}},le=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}};function ce(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_LOADING_SEJOUR"}),J()({url:"".concat($.a.url,"/gap/list/sejours/").concat(e)}).then((function(e){var t=e.data.rows;a({type:"SET_LIST_SEJOUR",listSejour:t}),t[0]?a(oe(t[0].numerosejour)):re(null)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function oe(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_LOADING_SEJOUR"}),J()({url:"".concat($.a.url,"/gap/details/sejour/").concat(e)}).then((function(e){var t=e.data.rows;t[0]?(a(re(t[0])),a(le(t))):(a(re(null)),a(le(null)))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_SEJOUR":return Object(h.a)(Object(h.a)({},e),{},{listSejour:t.listSejour});case"SET_DETAILS_SEJOUR":return Object(h.a)(Object(h.a)({},e),{},{detailsSejour:t.detailsSejour});case"SET_LOADING_SEJOUR":return Object(h.a)(Object(h.a)({},e),{},{loadingSejour:t.loadingSejour});case"SET_CURRENT_SEJOUR":return Object(h.a)(Object(h.a)({},e),{},{currentSejour:t.currentSejour});case"SET_CURRENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{currentFacture:t.currentFacture});default:return e}},se=a(215),ue=a.n(se),me=a(502),de=a.n(me),fe=a(216),pe=a(124),be=a.n(pe);function Ee(e,t,a){if(t=void 0===t?3:t,a=void 0===a?"":a,void 0===e||null===e)return null;try{var n;e=null===(n=e)||void 0===n?void 0:n.toString()}catch(c){e=e}return e.length<=t?e+a:(a=" "+(null===(r=e)||void 0===r?void 0:r.substring(e.length-t,e.length))+a,Ee(e=null===(l=e)||void 0===l?void 0:l.slice(0,e.length-t),t,a));var r,l}var ge=["Afghanistan","Afrique du Sud","Albanie","Alg\xe9rie","Allemagne","Andorre","Angola","Antigua-et-Barbuda","Arabie saoudite","Argentine","Arm\xe9nie","Australie","Autriche","Azerba\xefdjan","Bahamas","Bahre\xefn","Bangladesh","Barbade","Belgique","Belize","B\xe9nin","Bhoutan","Bi\xe9lorussie","Birmanie","Bolivie","Bosnie-Herz\xe9govine","Botswana","Br\xe9sil","Brunei","Bulgarie","Burkina Faso","Burundi","Cambodge","Cameroun","Canada","Cap-Vert","Chili","Chine","Chypre","Colombie","Comores","Cor\xe9e du Nord","Cor\xe9e du Sud","Costa Rica","C\xf4te d Ivoire","Croati","Cuba","Danemark","Djibouti","Dominique","\xc9gypte","\xc9mirats arabes unis","\xc9quateur","\xc9rythr\xe9e","Espagne","Estonie","\xc9tats-Unis","\xc9thiopie","Fidji","Finlande","France","Gabon","Gambie","G\xe9orgie","Ghana","Gr\xe8ce","Grenade","Guatemala","Guin\xe9e","Guin\xe9e-Bissau","Guyana","Ha\xefti","Honduras","Hongrie","\xceles Marshall","Inde","Indon\xe9sie","Irak","Iran","Irlande","Islande","Isra\xebl","Italie","Jama\xefque","Japon","Jordanie","Kazakhstan","Kenya","Kirghizistan","Kiribati","Kowe\xeft","Laos","Lesotho","Lettonie","Liban","Liberia","Libye","Liechtenstein","Lituanie","Luxembourg","Mac\xe9doine","Madagascar","Malaisie","Malawi","Maldives","Mali","Malte","Maroc","Maurice","Mauritanie"," Mexique","Micron\xe9sie","Moldavie","Monaco","Mongolie","Mont\xe9n\xe9gro","Mozambique","Namibie","Nauru","N\xe9pal","Nicaragua","Niger","Nigeria","Norv\xe8ge","Nouvelle-Cal\xe9doni","Nouvelle-Z\xe9lande","Oman","Ouganda","Ouzb\xe9kistan","Pakistan","Palaos","Panama","Papouasie-Nouvelle-Guin\xe9e","Paraguay","Pays-Bas","P\xe9rou","Philippines","Pologne","Polyn\xe9sie fran\xe7ais","Portugal","Qatar","R\xe9publique centrafricaine","R\xe9publique d\xe9mocratique du Congo","R\xe9publique dominicaine","R\xe9publique du Congo","R\xe9publique tch\xe8que","Roumanie","Royaume-Uni","Russie","Rwanda","Saint-Christophe-et-Ni\xe9v\xe8s","Saint-Marin","Saint-Pierre-et-Miquelo","Saint-Vincent-et-les Grenadines","Sainte-Lucie","Salomon"," Salvador","Samoa","S\xe9n\xe9gal","Serbie","Seychelles","Sierra Leone","Singapour","Slovaquie","Slov\xe9nie","Somalie","Soudan","Soudan du Sud","Sri Lanka","Su\xe8de","Suisse","Suriname","Swaziland","Syrie","Tadjikistan","Ta\xefwa","Tanzanie","Tchad","Tha\xeflande","Timor oriental","Togo","Tom\xe9-et-Principe","Tonga","Trinit\xe9-et-Tobago","Tunisie","Turkm\xe9nistan","Turquie","Tuvalu","Ukraine","Uruguay","Vanuatu","Venezuela","Vi\xeat Nam","Wallis et Futun","Y\xe9men","Zambie","Zimbabwe"];function he(e){var t;switch(e){case 0:t="z\xe9ro";break;case 1:t="un";break;case 2:t="deux";break;case 3:t="trois";break;case 4:t="quatre";break;case 5:t="cinq";break;case 6:t="six";break;case 7:t="sept";break;case 8:t="huit";break;case 9:t="neuf"}return t}function ye(e){var t;switch(e){case 10:t="dix";break;case 11:t="onze";break;case 12:t="douze";break;case 13:t="treize";break;case 14:t="quatorze";break;case 15:t="quinze";break;case 16:t="seize";break;case 17:t="dix-sept";break;case 18:t="dix-huit";break;case 19:t="dix-neuf";break;case 20:t="vingt";break;case 30:t="trente";break;case 40:t="quarante";break;case 50:t="cinquante";break;case 60:t="soixante";break;case 70:t="soixante-dix";break;case 80:t="quatre-vingt";break;case 90:t="quatre-vingt-dix"}return t}function ve(e){var t,a,n,r="";if(e.toString().replace(/ /gi,"").length>15)return"d\xe9passement de capacit\xe9";if(isNaN(e.toString().replace(/ /gi,"")))return"Nombre non valide";if(n=parseFloat(e.toString().replace(/ /gi,"")),Math.ceil(n)!=n)return"Nombre avec virgule non g\xe9r\xe9.";switch(n.toString().length){case 1:r=he(n);break;case 2:n>19?(t=Math.floor(n/10),a=n%10,n<71||n>79&&n<91?(0==a&&(r=ye(10*t)),1==a&&(r=ye(10*t)+"-et-"+he(a)),a>1&&(r=ye(10*t)+"-"+he(a))):r=ye(10*(t-1))+"-"+ye(10+a)):r=ye(n);break;case 3:a=n%100,1==(t=Math.floor(n/100))&&0==a&&(r="cent"),1==t&&0!=a&&(r="cent "+ve(a)),t>1&&0==a&&(r=he(t)+" cents"),t>1&&0!=a&&(r=he(t)+" cent "+ve(a));break;case 4:case 5:case 6:a=n-1e3*(t=Math.floor(n/1e3)),1==t&&0==a&&(r="mille"),1==t&&0!=a&&(r="mille "+ve(a)),t>1&&0==a&&(r=ve(t)+" mille"),t>1&&0!=a&&(r=ve(t)+" mille "+ve(a));break;case 7:case 8:case 9:a=n%1e6,1==(t=Math.floor(n/1e6))&&0==a&&(r="un million"),1==t&&0!=a&&(r="un million "+ve(a)),t>1&&0==a&&(r=ve(t)+" millions"),t>1&&0!=a&&(r=ve(t)+" millions "+ve(a));break;case 10:case 11:case 12:a=n-1e9*(t=Math.floor(n/1e9)),1==t&&0==a&&(r="un milliard"),1==t&&0!=a&&(r="un milliard "+ve(a)),t>1&&0==a&&(r=ve(t)+" milliards"),t>1&&0!=a&&(r=ve(t)+" milliards "+ve(a));break;case 13:case 14:case 15:a=n-1e12*(t=Math.floor(n/1e12)),1==t&&0==a&&(r="un billion"),1==t&&0!=a&&(r="un billion "+ve(a)),t>1&&0==a&&(r=ve(t)+" billions"),t>1&&0!=a&&(r=ve(t)+" billions "+ve(a))}return"quatre-vingt"==r.substr(r.length-"quatre-vingt".length,"quatre-vingt".length)&&(r+="s"),r}fe.c.register({family:"Regular",src:"".concat($.a.local,"/font.ttf")}),fe.c.register({family:"Roboto-Bold",src:"".concat($.a.local,"/fonts/Roboto-Bold.ttf")}),fe.c.register({family:"Roboto-Light",src:"".concat($.a.local,"/fonts/Roboto-Light.ttf")});var je=function(e){e.etablissement;return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",paddingBottom:8,flexDirection:"row",fontFamily:"Regular"}},l.a.createElement(fe.h,{style:{flex:2}},l.a.createElement(fe.d,{src:ue.a,style:{height:"3cm",width:"3cm"}})),l.a.createElement(fe.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(fe.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(fe.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(fe.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(fe.g,null,"Email : info@altea-ci.com"),l.a.createElement(fe.g,null,"Abidjan BP 05 789"))))},xe=function(e){var t=e.facture,a=e.url;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(fe.b,null,l.a.createElement(fe.e,{size:"A4",style:{padding:15,display:"flex",flexDirection:"column"}},l.a.createElement(je,null),l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",fontSize:12}},l.a.createElement(fe.h,{style:Ne.content},l.a.createElement(fe.g,{style:Ne.title},"PATIENT(E)"),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"IPP : "),l.a.createElement(fe.g,null,t[0].ipppatient)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"NOM : "),l.a.createElement(fe.g,null,t[0].nompatient," ",t[0].prenomspatient)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"NAISSANCE :  "),l.a.createElement(fe.g,null,t[0].datenaissancepatient," \xe0 ",t[0].lieunaissancepatient)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"DOMICILE : "),l.a.createElement(fe.g,null,t[0].habitationpatient))),l.a.createElement(fe.h,{style:Ne.content},l.a.createElement(fe.g,{style:Ne.title},"SEJOUR DU ",t[0].datedebutsejour===t[0].datefinsejour?t[0].datedebutsejour:l.a.createElement(l.a.Fragment,null,t[0].datedebutsejour," AU ",t[0].datefinsejour)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"N\xb0 DE SEJOUR : "),l.a.createElement(fe.g,null,t[0].numerosejour)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"ENTR\xc9(E) \xc0 :  "),l.a.createElement(fe.g,null,t[0].heuredebutsejour)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"SORTI(E) \xc0 :  "),l.a.createElement(fe.g,null,t[0].heurefinsejour)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"TYPE DE SEJOUR : "),l.a.createElement(fe.g,null,t[0].typesejour))),""!==t[0].gestionnaire.trim()&&l.a.createElement(fe.h,{style:Ne.content},l.a.createElement(fe.g,{style:Ne.title},"ASSURANCE (",t[0].gestionnaire,")"),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"Organisme : "),l.a.createElement(fe.g,null,t[0].organisme)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"Assure Princ :  "),l.a.createElement(fe.g,null,t[0].assureprinc)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"N\xb0 Bon :  "),l.a.createElement(fe.g,null,t[0].numeropec)),l.a.createElement(fe.h,{style:Ne.l},l.a.createElement(fe.g,null,"Exon\xe9ration : "),l.a.createElement(fe.g,null,t[0].taux,"%")))),l.a.createElement(fe.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:14})},"FACTURE N\xb0 ",t[0].numerofacture," DU ",t[0].datefacture),l.a.createElement(fe.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},Ne.content),{},{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start"})},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},Ne.l),{},{justifyContent:"space-between"})},l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Designation"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.libelleacte)}))),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Coef"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.cotationacte)}))),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Med / Spec"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.medecinsejour," / ",e.specialitesejour)}))),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Date"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.datedebutsejour)}))),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Qte"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.quantite)}))),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Prix U"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.prixacte)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},"TOTAL G"),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},"Encaiss\xe9"),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},"Reste")),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Prix T"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.prixacte*e.quantite)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].montanttotalfacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].montanttotalfacture-t[0].restepatientfacture-t[0].resteassurancefacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].restepatientfacture+t[0].resteassurancefacture)),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Part Assu"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.plafondassurance*e.quantite*e.taux/100)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].partassurancefacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].partassurancefacture-t[0].resteassurancefacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].resteassurancefacture)),l.a.createElement(fe.h,{style:Ne.column},l.a.createElement(fe.g,{style:Ne.tr},"Part Patient"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},Ne.line)},e.prixacte*e.quantite-e.plafondassurance*e.quantite*e.taux/100)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].partpatientfacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].partpatientfacture-t[0].restepatientfacture),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.line),{},{fontFamily:"Roboto-Bold"})},t[0].restepatientfacture)))),l.a.createElement(fe.g,{style:{fontSize:8}},"Certifi\xe9 exact, la pr\xe9sente facture s'\xe9l\xe9vant \xe0 la somme de ",ve(t[0].montanttotalfacture)," francs CFA"))),l.a.createElement(Oe,{url:a,facture:t}))))},Oe=function(e){e.url;var t=e.facture;return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",flexDirection:"column"}},l.a.createElement(fe.h,{style:{flex:1,fontSize:8,display:"flex",marginTop:7,color:"grey",lineHeight:1.5,borderBottomColor:"grey",borderBottomStyle:"solid",borderBottomWidth:.5}},l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Ne.tr),{},{textAlign:"center"})},"COUPON \xc0 JOINDRE AU R\xc8GLEMENT"),l.a.createElement(fe.h,{style:{flex:1,display:"flex",flexDirection:"row"}},l.a.createElement(fe.h,{style:{flex:1,padding:3,display:"flex",flexDirection:"column"}},l.a.createElement(fe.g,null,"BANQUE : BGFI BANK "),l.a.createElement(fe.g,null,"IBAN : CI33CI1620100200211010440121 "),l.a.createElement(fe.g,null,"BIC : BGFIABXXX "),l.a.createElement(fe.g,null,"DOMICILE : BGFIBANK")),l.a.createElement(fe.h,{style:{flex:1,padding:3,display:"flex",flexDirection:"column"}},l.a.createElement(fe.g,null,"DESTINATAIRE : ",t[0].assureprinc," "),l.a.createElement(fe.g,null,"PATIENT : ",t[0].nompatient," ",t[0].prenomspatient," "),l.a.createElement(fe.g,null,"SEJOUR  : N\xb0 ",t[0].numerosejour," DU ",t[0].datedebutsejour,t[0].datefinsejour!==t[0].datedebutsejour?" AU "+t[0].datefinsejour:""," "),l.a.createElement(fe.g,null,"FACTURE : N\xb0 ",t[0].numerofacture," DU ",t[0].datefacture),l.a.createElement(fe.g,null,"MONTANT : ",Ee(t[0].montanttotalfacture)," F CFA")))),l.a.createElement(fe.h,{style:{flex:1,justifyContent:"flex-start",fontSize:8,marginTop:7,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Fait \xe0 Abidjan le ",t[0].datefacture),l.a.createElement(fe.g,null,"par ",t[0].auteurfacture)))},Ne=fe.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flex:"auto",flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.4},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.4,paddingTop:7}}),Se=function(e){var t=e.code,a=e.showPDF,c=e.facture,o=Object(r.useState)(null),i=Object(n.a)(o,2),s=i[0],u=i[1];return Object(r.useEffect)((function(){var e=document.getElementById("img").toDataURL("image/png").replace("image/png","image/octet-stream");u(e)}),[]),l.a.createElement("div",{className:"row"},l.a.createElement(de.a,{value:t,id:"img",fgColor:"#696969",includeMargin:!0,style:{display:"none"}}),s&&l.a.createElement(fe.a,{document:l.a.createElement(xe,{facture:c,url:t}),fileName:"somename.pdf"},(function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?l.a.createElement("small",null,"..."):l.a.createElement(O.a,{variant:"contained",className:"mb-2 mx-4 col",startIcon:l.a.createElement(be.a,null),onClick:function(){return a(t)},style:{textTransform:"none",fontSize:"11px"}},"Imprimer la facture")})))};function we(e){return l.a.createElement("div",Object.assign({className:"row"},e))}var Ce=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a),Te=Object(c.b)((function(e){var t=e.PatientReducer.currentPatient,a=e.sejourReducer;return{currentPatient:t,listSejour:a.listSejour,currentSejour:a.currentSejour,currentFacture:a.currentFacture}}),{thunkListSejour:ce,thunkAddSejour:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){var r;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=s.a.user,n({type:"SET_LOADING_SEJOUR"}),J()({method:"POST",url:"".concat($.a.url,"/gap/add/sejour/").concat(t),data:Object(h.a)(Object(h.a)({},e),{},{user:r}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){$.b.emit("facture_nouvelle"),n(ce(t))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDetailsSejour:oe})((function(e){var t,a=e.thunkListSejour,c=e.thunkAddSejour,o=e.thunkDetailsSejour,i=e.currentPatient,u=e.listSejour,m=e.currentSejour,d=e.currentFacture;Z.a.locales("fr");var f=Object(r.useContext)(s.b),p=Object(r.useState)(!1),b=Object(n.a)(p,2),A=b[0],R=b[1],P=Object(r.useState)(!1),B=Object(n.a)(P,2),L=B[0],U=B[1],K=Object(r.useState)(!1),Q=Object(n.a)(K,2),ee=Q[0],te=Q[1],ae=Object(r.useState)(!0),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ce=Object(r.useState)(!1),oe=Object(n.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(r.useState)([]),me=Object(n.a)(ue,2),de=me[0],fe=me[1],pe=Object(r.useState)(""),be=Object(n.a)(pe,2),Ee=be[0],ge=be[1],he=Object(r.useState)([]),ye=Object(n.a)(he,2),ve=(ye[0],ye[1],Object(r.useState)([])),je=Object(n.a)(ve,2),xe=je[0],Oe=je[1],Ne=Object(r.useState)([["",0,0,1,0]]),Te=Object(n.a)(Ne,2),ze=Te[0],ke=Te[1],Fe=Object(r.useState)({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),De=Object(n.a)(Fe,2),Ae=De[0],Re=De[1],Me=function(){Re({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",specialite:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),ke([["",0,0,1,0]]),te(!1)};function Pe(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{debutDate:e}))}function Ie(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{finDate:e}))}function Be(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{DebutHeure:e}))}function _e(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{finHeure:e}))}function Le(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{gestionnaire:e}))}function Ye(e){Re(Object(h.a)(Object(h.a)({},Ae),{},{organisme:e}))}function Ue(){c(Object(h.a)(Object(h.a)({},Ae),{},{actes:ze}),i.iddossier),Re({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",specialite:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),ke([["",0,0,1,0]]),te(!1)}return Object(r.useEffect)((function(){J()({url:"".concat($.a.url,"/gap/list/actes")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.codeacte,n=e.libelleacte;a.push({value:t,label:n})})),fe(t)})),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),Oe(a)}))}),[]),Object(r.useEffect)((function(){a(i.iddossier)}),[i.iddossier]),l.a.createElement("div",{className:"DossiersPatient row px-3"},null!==m&&l.a.createElement("div",{className:"col-12 white text-secondary mb-2"},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row",style:{fontSize:"14.5px"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("h6",null,"Sejour (",m.numerosejour,")"),l.a.createElement("small",null,l.a.createElement("b",null,"Date de debut :")," ",m.datedebutsejour," ",m.heuredebutsejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de fin :")," ",m.datefinsejour," ",m.heurefinsejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Sp\xe9cialit\xe9 :")," ",m.specialitesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type du s\xe9jour :")," ",m.typesejour)),l.a.createElement("div",{className:"col"},l.a.createElement("h6",null,"Facture (",m.numerofacture,")"),l.a.createElement("small",null,l.a.createElement("b",null,"Date de cr\xe9ation :")," ",m.datefacture," ",m.heurefacture),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total :")," ",m.montanttotalfacture," ","FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assu :")," ",m.partassurancefacture," ","FCFA, ",l.a.createElement("b",null,"Reste")," : ",m.resteassurancefacture," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Patient :")," ",m.partpatientfacture," ","FCFA, ",l.a.createElement("b",null,"Reste")," : ",m.restepatientfacture," FCFA"),l.a.createElement("br",null)),""!==m.gestionnaire.trim()&&l.a.createElement("div",{className:"col"},l.a.createElement("h6",null,"Assurance (",m.gestionnaire,")"),l.a.createElement("small",null,l.a.createElement("b",null,"B\xe9neficiaire :")," ",m.beneficiaire),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Assur\xe9 Principal :")," ",m.assureprinc),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Mat.:")," ",m.matriculeassure),", ",l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 PEC :")," ",m.numeropec),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Taux :")," ",m.taux,"%"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col d-flex align-items-end justify-content-end"},l.a.createElement("div",{className:"row"},l.a.createElement(Se,{facture:d,showPDF:function(e){U(e),R(!0)},code:"WINHEALTH"})))))),l.a.createElement("hr",{className:"bg-light"})),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("div",{className:"row mx-1 mb-1"},l.a.createElement(v.a,{className:"col-2 mr-1",variant:"outlined",size:"small",value:Ee,label:"Rechercher un s\xe9jour",onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");ge(t)}}),l.a.createElement(j.a,{className:"mx-1",label:"sejours(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:f.theme.primary}},u.length)}),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",className:"mx-1",startIcon:l.a.createElement(M.a,null),onClick:function(){le(!1),te(!0)},style:{textTransform:"none",backgroundColor:f.theme.primary,color:"white",fontSize:"11px"}},"Nouveau s\xe9jour")))),l.a.createElement("table",{className:"col-12 table-sm mt-2 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:f.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0 S\xe9jour","Date et heure de d\xe9but","Date et heure de fin","Type de s\xe9jour","Sp\xe9cialit\xe9","Medecin","Statut du s\xe9jour"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,u.filter((function(e){return""===Ee.trim()||RegExp(Ee,"i").test(e.numerosejour)})).map((function(e,t){var a=e.datedebutsejour,n=e.datefinsejour,r=e.heuredebutsejour,c=e.heurefinsejour,i=e.typesejour,s=e.statussejour,u=e.idsejour,d=e.numerosejour,f=e.medecinsejour,p=e.specialitesejour;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return o(d)},className:m&&m.idsejour===u?"bgcolor-primary font-weight-bold white-text":""},l.a.createElement("td",null,d),l.a.createElement("td",null,a," ",r),l.a.createElement("td",null,n," ",c),l.a.createElement("td",null,i),l.a.createElement("td",null,p),l.a.createElement("td",null,f),l.a.createElement("td",null,s))})))),l.a.createElement(z.a,{disableBackdropClick:!0,open:ee,onClose:Me,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"md"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau s\xe9jour")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",{className:"font-weight-bold"},"Informations du s\xe9jour"),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col-12 mt-3 mb-1"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de s\xe9jour"),l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{type:t}))},label:"Type de s\xe9jour",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col-12 mt-2"},l.a.createElement(S.a,{id:"specialite-label"},"Sp\xe9cialit\xe9"),l.a.createElement(w.a,{required:!0,labelId:"specialite-label",id:"specialite",onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{specialite:t}))},label:"Sp\xe9cialit\xe9",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"P\xe9diatrie"},"P\xe9diatrie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Gyn\xe9cologie"},"Gyn\xe9cologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"M\xe8decine g\xe9n\xe9rale"},"M\xe8decine g\xe9n\xe9rale"))),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col-12 mt-2"},l.a.createElement(S.a,{id:"medecin-label"},"M\xe9decin"),l.a.createElement(w.a,{required:!0,labelId:"medecin-label",id:"medecin",onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{medecin:t}))},label:"Type de s\xe9jour",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"KOFFI Edy"},"KOFFI Edy"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"N'DONGO Abdoulaye"},"N'DONGO Abdoulaye"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"GBADJE Wilfried"},"GBADJE Wilfried"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"ZAKI Audrey"},"ZAKI Audrey")))),l.a.createElement("div",{className:"col"},l.a.createElement("small",{className:"font-weight-bold"},"Debut du s\xe9jour"),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Date de d\xe9but",id:"datedebut",format:"dd/MM/yyyy",value:Ae.debutDate,onChange:Pe,className:"mt-3 col"}),l.a.createElement(H.a,{id:"heuredebut",label:"Heure de d\xe9but",ampm:!1,value:Ae.DebutHeure,onChange:Be,className:"mt-2 col"}))),l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",{className:"font-weight-bold"},"Fin du s\xe9jour"),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{id:"datefin",label:"Date de fin",format:"dd/MM/yyyy",autoOk:!0,value:Ae.finDate,onChange:Ie,className:"mt-3 col"}),l.a.createElement(H.a,{label:"Heure de fin",autoOk:!0,ampm:!1,id:"heurefin",value:Ae.finHeure,onChange:_e,className:"mt-2 col"})))),l.a.createElement("small",{className:"font-weight-bold"},"Informations pour patient assur\xe9"),l.a.createElement("div",{className:"row my-3"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"assurancesList",options:xe,onChange:function(e,t){Le(t?t.label:"")},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 mx-2",id:"assurancesList",options:xe,disabled:""===Ae.gestionnaire.trim(),onChange:function(e,t){Ye(t?t.label:"")},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Organisme",placeholder:"Ajouter ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col-3"},l.a.createElement(S.a,{id:"assurance-label"},"Taux"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"Taux",disabled:""===Ae.gestionnaire.trim(),onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{taux:t}))},style:{fontSize:"11px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:0},"0%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"row my-3"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(w.a,{disabled:""===Ae.organisme.trim(),labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;Re("assur\xe9"===t?Object(h.a)(Object(h.a)({},Ae),{},{beneficiaire:t,assurePrinc:"".concat(i.nompatient," ").concat(i.prenomspatient)}):Object(h.a)(Object(h.a)({},Ae),{},{beneficiaire:t}))},style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(Ce,{disabled:""===Ae.beneficiaire.trim(),className:"col-4 ml-2",variant:"filled",size:"small",defaultValue:" ",label:"Identit\xe9 de l'Assur\xe9",value:Ae.assurePrinc,onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{assurePrinc:t}))}}),l.a.createElement(Ce,{className:"col mx-2",variant:"filled",size:"small",label:"Matricule",onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{matriculeAssure:t}))},disabled:""===Ae.assurePrinc.trim()}),l.a.createElement(Ce,{className:"col",variant:"filled",size:"small",label:"N\xb0 PEC",onChange:function(e){var t=e.target.value;Re(Object(h.a)(Object(h.a)({},Ae),{},{numeroPEC:t}))},disabled:""===Ae.assurePrinc.trim()})),l.a.createElement("table",{className:"col-12 table-sm p-0 mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"row",style:{backgroundColor:f.theme.primary}},l.a.createElement("th",{className:"white-text col"},"Code"),l.a.createElement("th",{className:"white-text col-2"},"Prix U"),l.a.createElement("th",{className:"white-text col-2"},"Plafond Assu"),l.a.createElement("th",{className:"white-text col-1"},"Qte"),l.a.createElement("th",{className:"white-text col-2"},"Prix T"))),l.a.createElement("tbody",null,ze.map((function(e,t){return l.a.createElement("tr",{className:"row",key:t},l.a.createElement("td",{className:"col"},l.a.createElement(q.a,{size:"small",className:"p-0",id:"actesList",options:de,onChange:function(e,a){if(a){var n=Object(g.a)(ze);n[t]=[a.codeacte,a.prixacte,a.prixacte,1,a.prixacte],ke(n)}else{var r=Object(g.a)(ze);r[t]=["",0,0,1,0],ke(r)}},getOptionLabel:function(e){return"(".concat(e.codeacte,") ").concat(e.libelleacte)},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.libelleacte))},renderInput:function(e){return l.a.createElement(Ce,Object.assign({className:"col"},e,{placeholder:"acte ..."}))}})),l.a.createElement("td",{className:"col-2"}," ",l.a.createElement(Ce,{type:"number",value:ze[t][1],disabled:!0,size:"small"})),l.a.createElement("td",{className:"col-2"}," ",l.a.createElement(Ce,{type:"number",value:ze[t][2],onChange:function(e){var a=e.target.value,n=Object(g.a)(ze);n[t][2]=a,ke(n)},size:"small"})),l.a.createElement("td",{className:"col-1"}," ",l.a.createElement(Ce,{type:"number",value:ze[t][3],onChange:function(e){var a=e.target.value,n=Object(g.a)(ze);n[t][3]=a,n[t][4]=a*ze[t][1],ke(n)},size:"small"})),l.a.createElement("td",{className:"col-2 d-flex flex-row"}," ",l.a.createElement(Ce,{disabled:!0,value:ze[t][4],size:"small"}),t===ze.length-1&&l.a.createElement(T.a,{size:"small","aria-label":"delete",onClick:function(){var e=Object(g.a)(ze);e.splice(t,1),ke(e)}},l.a.createElement(I.a,null))))})))),l.a.createElement("div",{className:"col-12 d-flex p-0 mt-2 justify-content-end"},l.a.createElement(O.a,{size:"small",variant:"contained",className:"mb-2",startIcon:l.a.createElement(M.a,null),onClick:function(){ke([].concat(Object(g.a)(ze),[["",0,0,1,0]]))},style:(t={textTransform:"none",fontSize:"11px",backgroundColor:f.theme.primary},Object(E.a)(t,"fontSize","11px"),Object(E.a)(t,"color","white"),t)},"Ajouter"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(_.a,null),onClick:Me,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){console.log(ze),le(!0),Ue()},disabled:re||""===Ae.type.trim()||""===Ae.medecin||0!==ze.filter((function(e){return e[4]<=0})).length||""!==Ae.gestionnaire.trim()&&(""===Ae.organisme.trim()||""===Ae.taux.toString().trim()||""===Ae.beneficiaire.trim()||""===Ae.assurePrinc.trim()||""===Ae.numeroPEC.trim()),startIcon:l.a.createElement(V.a,null),style:{textTransform:"none",backgroundColor:f.theme.primary,fontSize:"11px",color:"white"}},"Generer la facture"))),l.a.createElement(z.a,{open:ie,onClose:function(){se(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center",id:"alert-dialog-title"},l.a.createElement("small",{className:"font-weight-bold"},"Ajouter un nouveau Controle")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{id:"datedebut",format:"dd/MM/yyyy",value:Ae.debutDate,onChange:Pe,className:"m-1 col"}),l.a.createElement(H.a,{id:"heuredebut",ampm:!1,value:Ae.DebutHeure,onChange:Be,className:"m-1 col"}))),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{id:"datefin",format:"dd/MM/yyyy",value:Ae.finDate,onChange:Ie,className:"m-1 col"}),l.a.createElement(H.a,{id:"heurefin",value:Ae.finHeure,ampm:!1,onChange:_e,className:"m-1 col"})))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-light",startIcon:l.a.createElement(_.a,null),onClick:Me,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:Ue,startIcon:l.a.createElement(Y.a,null),style:{textTransform:"none",backgroundColor:f.theme.primary,color:"white",fontSize:"11px"}},"Valider"))),l.a.createElement(z.a,{open:A,onClose:function(){return R(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:we},l.a.createElement("object",{data:L,className:"col-12",height:700,type:"application/pdf"})))})),ze=a(148),ke=a.n(ze),Fe=a(258),De=a.n(Fe),Ae=a(108),Re=a.n(Ae),Me={currentPage:b[0].target||null},Pe=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});default:return e}},Be={listPatients:[],currentPatient:{},modalModif:!1,modalAdd:!1,loading:!1},_e=function(e){return{type:"SET_LIST_PATIENTS",listPatients:e}},Le=function(e){return{type:"SET_MODAL_MODIF",modalModif:e}},Ye=function(e){return{type:"SET_MODAL_ADD",modalAdd:e}},Ue=function(e){return{type:"SET_CURRENT_PATIENT",currentPatient:e}},Ve=function(e){return{type:"SET_LOADING",loading:e}};function qe(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ve(!0)),J()({url:"".concat($.a.url,"/gap/list/patients")}).then((function(e){var a=e.data.rows;t(_e(a)),t(Ve(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ge(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ve(!0)),J()({url:"".concat($.a.url,"/gap/details/patient/").concat(e)}).then((function(e){var t=e.data.rows;a(Ue(t[0])),a(Pe("dossiersPatient")),a(Ve(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_PATIENTS":return Object(h.a)(Object(h.a)({},e),{},{listPatients:t.listPatients,loading:t.loading});case"SET_CURRENT_PATIENT":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading,currentPatient:t.currentPatient});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});case"SET_MODAL_MODIF":return Object(h.a)(Object(h.a)({},e),{},{modalModif:t.modalModif});case"SET_MODAL_ADD":return Object(h.a)(Object(h.a)({},e),{},{modalAdd:t.modalAdd});default:return e}},He=a(78),Ke=a.n(He),Je=a(77),Xe=a.n(Je),Qe=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a),Ze=function(e){return l.a.createElement(De.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(Qe,Object.assign({type:"tel"},e))}))},$e=Object(c.b)((function(e){var t=e.PatientReducer;return{currentPatient:t.currentPatient,modalModif:t.modalModif}}),{thunkModifPatient:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Ve(!0)),J()({url:"".concat($.a.url,"/gap/update/patient/").concat(t),method:"POST",data:Object(h.a)(Object(h.a)({},e),{},{user:s.a.user}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(qe()),n(Ge(t)),n(Le(!1)),n(Ve(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDeletePatient:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ve(!0)),J()({url:"".concat($.a.url,"/gap/delete/patient/").concat(e)}).then((function(e){e.data.rows;a(qe()),a(Ue({})),a(Le(!1)),a(Ve(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setModalModif:Le})((function(e){var t=e.currentPatient,a=e.thunkModifPatient,c=(e.thunkDeletePatient,e.setModalModif),o=e.modalModif,i=Object(r.useContext)(s.b),u=Object(r.useState)({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:"",assure:"",assurance:""}),m=Object(n.a)(u,2),d=m[0],f=m[1];function p(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nationalite:t}))}var b=function(){f({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:""}),c(!1)};return l.a.createElement("div",{className:"DetailsPatient bgcolor-primary text-white row p-3 border-left"},l.a.createElement("div",{className:"col-3",style:{fontSize:"14.5px"}},l.a.createElement("h6",{className:""},"Patient (",t.ipppatient,")"),l.a.createElement("small",null,"Nom et prenoms :"," ",l.a.createElement("b",null,t.nompatient," ",t.prenomspatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Sexe : ",l.a.createElement("b",null,t.sexepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Domicile : ",l.a.createElement("b",null,t.habitationpatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Contact : ",l.a.createElement("b",null,t.contactpatient)),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-3"},l.a.createElement("h6",null,"Personne \xe0 contacter"),l.a.createElement("small",null,"Nom et prenoms :"," ",l.a.createElement("b",null,t.nompersonnesurepatient," ",t.prenomspersonnesurepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Qualit\xe9 : ",l.a.createElement("b",null,t.qualitepersonnesurepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Contact : ",l.a.createElement("b",null,t.contactpersonnesurepatient)),l.a.createElement("br",null)),l.a.createElement("div",{className:"col d-flex justify-content-end align-items-end"},l.a.createElement(O.a,{style:{textTransform:"none",fontSize:"12px"},startIcon:l.a.createElement(Re.a,null),className:"mx-2 bg-light",size:"small","aria-label":"delete",variant:"contained",onClick:function(){c(!0)}},"Modifier")),l.a.createElement(z.a,{disableBackdropClick:!0,open:o,transitionDuration:0,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"sm",onEntered:function(){return f({nom:t.nompatient,prenoms:t.prenomspatient,civilite:t.civilitepatient,sexe:t.sexepatient,datenaissance:new Date(t.datenaissancepatient.split("-").reverse().join("-")),lieunaissance:t.lieunaissancepatient,nationalite:t.nationalitepatient,habitation:t.habitationpatient,contact:t.contactpatient,situation:t.situationmatrimonialepatient,religion:t.religionpatient,profession:t.professionpatient,nompere:t.nomperepatient,prenomspere:t.prenomsperepatient,contactpere:t.contactperepatient,nommere:t.nommerepatient,prenomsmere:t.prenomsmerepatient,contactmere:t.contactmerepatient,nomtuteur:t.nomtuteurpatient,prenomstuteur:t.prenomstuteurpatient,contacttuteur:t.contacttuteurpatient,nompersonnesure:t.nompersonnesurepatient,prenomspersonnesure:t.prenomspersonnesurepatient,contactpersonnesure:t.contactpersonnesurepatient,qualitepersonnesure:t.qualitepersonnesurepatient})}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",{className:"font-weight-bold"},"Informations du patient")),l.a.createElement(F.a,null,l.a.createElement("small",{className:"font-weight-bold bg-light"},"Patient (",t.ipppatient,")"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"civilite-label"},"Civilit\xe9"),l.a.createElement(w.a,{required:!0,labelId:"civilite-label",id:"civilite",label:"Civilit\xe9",value:d.civilite,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{civilite:t}))},error:0===d.civilite.trim().length,style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"M"},"M."),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mme"},"Mme"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mlle"},"Mlle"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Enf"},"Enfant"))),l.a.createElement(Qe,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Nom",onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nom:t}))},value:d.nom,error:0===d.nom.trim().length}),l.a.createElement(Qe,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Prenoms",value:d.prenoms,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{prenoms:t}))},error:0===d.prenoms.trim().length})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"sexe-label"},"Sexe"),l.a.createElement(w.a,{required:!0,labelId:"sexe-label",id:"sexe",label:"Sexe",value:d.sexe,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{sexe:t}))},error:0===d.sexe.trim().length,style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"M"},"M"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"F"},"F"))),l.a.createElement(Qe,{className:"m-1 col-4",variant:"standard",size:"small",label:"Lieu de naissance",value:d.lieunaissance,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{lieunaissance:t}))}}),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Date de naissance",id:"date-picker-dialog",format:"dd MMMM yyyy",autoOk:!0,value:d.datenaissance,onChange:function(e){f(Object(h.a)(Object(h.a)({},d),{},{datenaissance:e}))},className:"m-1 col-4"}))),l.a.createElement("div",{className:"row py-1"},l.a.createElement(q.a,{size:"small",className:"col p-0 mt-1",id:"payslist",defaultValue:{label:t.nationalite},options:ge.map((function(e){return{label:e}})),onChange:function(e,t){p(t?{target:{value:t.label}}:{target:{value:""}})},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"standard",label:"Nationalit\xe9",placeholder:"Ajouter ..."}))}}),l.a.createElement(Qe,{required:!0,className:"m-1 col",variant:"standard",size:"small",label:"Domicile",value:d.habitation,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{habitation:t}))},error:0===d.habitation.trim().length}),l.a.createElement(Ze,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contact,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{contact:t}))}})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"situation-label"},"Situation"),l.a.createElement(w.a,{labelId:"situation-label",id:"situation",label:"Situation",value:d.situation,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{situation:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mari\xe9"},"Mari\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"C\xe9libataire"},"C\xe9libataire"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Divorc\xe9"},"Divorc\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Concubinage"},"Concubinage"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Veuf"},"Veuf(ve)"))),l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"religion-label"},"R\xe9ligion"),l.a.createElement(w.a,{labelId:"religion-label",id:"religion",label:"R\xe9ligion",value:d.religion,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{religion:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Chr\xe9tient"},"Chr\xe9tient(ne)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Musulman"},"Musulman(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Boudiste"},"Boudiste"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Animiste"},"Animiste"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Autre"},"Autre r\xe9ligion"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Sans"},"Sans r\xe9ligion"))),l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"profession-label"},"Proffession"),l.a.createElement(w.a,{labelId:"profession-label",id:"profession",value:d.profession,label:"Profession",onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{profession:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"agriculteurs"},"Agriculteurs"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"artisans"},"Artisants"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"commer\xe7ant"},"Commer\xe7ants"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"chef d'entreprise"},"Chef d'entreprise"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"profession liberale"},"Professions liberales"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"etudiant"},"\xc9tudiant(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"retrait\xe9"},"Retrait\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"salari\xe9"},"Salari\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"sans activit\xe9"},"Sans activit\xe9")))),l.a.createElement("small",{className:"font-weight-bold bg-light"},"P\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nompere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nompere:t}))}}),l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomspere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{prenomspere:t}))}}),l.a.createElement(Ze,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contactpere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{contactpere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"M\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nommere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nommere:t}))}}),l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomsmere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{prenomsmere:t}))}}),l.a.createElement(Ze,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contactmere,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{contactmere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Tuteur"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nomtuteur,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nomtuteur:t}))}}),l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomstuteur,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{prenomstuteur:t}))}}),l.a.createElement(Ze,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contacttuteur,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{contacttuteur:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Personne \xe0 contacter en cas de besoins"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Qe,{className:"m-1 col-2",variant:"standard",size:"small",label:"Qualit\xe9",value:d.qualitepersonnesure,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{qualitepersonnesure:t}))}}),l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nompersonnesure,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{nompersonnesure:t}))}}),l.a.createElement(Qe,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomspersonnesure,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{prenomspersonnesure:t}))}}),l.a.createElement(Ze,{required:!0,className:"m-1 col-3",variant:"standard",size:"small",label:"Contact",value:d.contactpersonnesure,onChange:function(e){var t=e.target.value;f(Object(h.a)(Object(h.a)({},d),{},{contactpersonnesure:t}))},error:0===d.contactpersonnesure.trim().length})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center text-center mt-2"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"1) Veuillez Renseigner tous les champs Obligatoires avant la creation du patient ",l.a.createElement("br",null),"2) La suppression est sans confirmation et irreversible"))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:b,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){a(d,t.ipppatient),b()},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:i.theme.primary,color:"white",fontSize:"11px"}},"Modifier"))))})),et=Object(c.b)((function(e){return{currentPatient:e.PatientReducer.currentPatient}}))((function(e){var t=e.currentPatient;return l.a.createElement("div",{className:"Dossiers row"},t.iddossier?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"col-12 p-0"},l.a.createElement($e,null)),l.a.createElement("section",{className:"col-12 p-0"},l.a.createElement(Te,null))):l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun patient selectionn\xe9"),l.a.createElement("small",null,"Rendez vous dans liste des patients et selectionnez un patient")))})),tt=a(717),at=a.n(tt),nt=a(262),rt=a(716),lt=a.n(rt),ct=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a),ot=function(e){return l.a.createElement(De.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(ct,Object.assign({type:"tel"},e))}))},it=Object(c.b)((function(e){var t=e.PatientReducer;return{listPatients:t.listPatients,modalAdd:t.modalAdd,currentPatient:t.currentPatient}}),{thunkListPatient:qe,thunkAddPatient:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ve(!0)),J()({url:"".concat($.a.url,"/gap/add/patient"),method:"POST",data:Object(h.a)(Object(h.a)({},e),{},{user:s.a.user}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;t.message,t.rows;a(qe()),a(Ye(!1)),a(Ve(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkDetailsPatient:Ge,thunkSearchPatient:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ve(!0)),0===e.trim().length?a(qe()):J()({url:"".concat($.a.url,"/gap/search/patients/").concat(e)}).then((function(e){var t=e.data.rows;a(_e(t)),a(Ve(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setModalAdd:Ye})((function(e){var t=e.thunkListPatient,a=e.thunkAddPatient,c=e.thunkSearchPatient,o=e.listPatients,i=e.thunkDetailsPatient,u=e.modalAdd,m=e.setModalAdd,d=e.currentPatient,f=e.modalModif,p=Object(r.useContext)(s.b);Z.a.locale("fr");var b=Object(r.useState)(""),E=Object(n.a)(b,2),g=E[0],T=E[1],A=Object(r.useState)(null),R=Object(n.a)(A,2),P=R[0],I=R[1],B=Object(r.useState)({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:"",assure:"",assurance:""}),_=Object(n.a)(B,2),L=_[0],Y=_[1];function U(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nationalite:t}))}var V=function(){Y({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:""}),m(!1)};return Object(r.useEffect)((function(){t()}),[]),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(ct,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un patient",value:g,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");T(t),c(t.trim())}}),l.a.createElement("div",{className:"col"},l.a.createElement(j.a,{label:"patient(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:p.theme.primary}}," ",o.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(at.a,null),onClick:function(){I(!P)},style:{textTransform:"none",fontSize:"11px"},className:P?"bg-danger white-text":""},"Scanner le code QR"),l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(M.a,null),onClick:function(){m(!0)},style:{textTransform:"none",backgroundColor:p.theme.primary,color:"white",fontSize:"11px"},className:"ml-2"},"Ajouter un patient")))),l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},0===o.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h3",{className:"text-center lead"},"Aucun patient"),l.a.createElement("small",null," Pour en cr\xe9er un, cliquer le boutton 'ajouter un patient' puis rerenseignez les informations ")):l.a.createElement("table",{className:"table-sm table-hover col-12 table-striped"},l.a.createElement("thead",{style:{backgroundColor:p.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","IPP","Nom & prenoms","Sexe","Domicile","Date de naissance","Lieu de naissance","Nationalit\xe9","Contact"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,o.map((function(e,t){e.iddossier;var a=e.ipppatient,n=e.nompatient,r=e.prenomspatient,c=e.sexepatient,o=e.habitationpatient,s=e.datenaissancepatient,u=e.lieunaissancepatient,m=e.nationalitepatient,f=e.contactpatient,p=e.civilitepatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return i(a)},className:d&&d.ipppatient===a?"bgcolor-primary font-weight-bold white-text":""},l.a.createElement("td",null,t+1),l.a.createElement("td",null,l.a.createElement("b",null,a)),l.a.createElement("td",null,l.a.createElement("b",null,p," ",n," ",r)),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,s),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",null,f))}))))),l.a.createElement(z.a,{disableBackdropClick:!0,open:u,onClose:V,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"sm"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",{className:"font-weight-bold"},"Ajouter un Patient")),l.a.createElement(F.a,null,l.a.createElement("small",{className:"font-weight-bold bg-light"},"Patient"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"civilite-label"},"Civilit\xe9"),l.a.createElement(w.a,{required:!0,labelId:"civilite-label",id:"civilite",label:"Civilit\xe9",value:L.civilite,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{civilite:t}))},error:0===L.civilite.trim().length,style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"M"},"M."),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mme"},"Mme"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mlle"},"Mlle"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Enf"},"Enfant"))),l.a.createElement(ct,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Nom",onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nom:t}))},value:L.nom,error:0===L.nom.trim().length}),l.a.createElement(ct,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Prenoms",value:L.prenoms,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{prenoms:t}))},error:0===L.prenoms.trim().length})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"sexe-label"},"Sexe"),l.a.createElement(w.a,{required:!0,labelId:"sexe-label",id:"sexe",label:"Sexe",value:L.sexe,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{sexe:t}))},error:0===L.sexe.trim().length,style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"M"},"M"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"F"},"F"))),l.a.createElement(ct,{className:"m-1 col-4",variant:"standard",size:"small",label:"Lieu de naissance",value:L.lieunaissance,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{lieunaissance:t}))}}),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Date de naissance",id:"date-picker-dialog",format:"dd/MM/yyyy",value:L.datenaissance,onChange:function(e){Y(Object(h.a)(Object(h.a)({},L),{},{datenaissance:e}))},className:"m-1 col-4"}))),l.a.createElement("div",{className:"row py-1"},l.a.createElement(q.a,{size:"small",className:"col p-0 mt-1",id:"payslist",options:ge.map((function(e){return{label:e}})),onChange:function(e,t){U(t?{target:{value:t.label}}:{target:{value:""}})},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"standard",label:"Nationalit\xe9",placeholder:"Ajouter ..."}))}}),l.a.createElement(ct,{required:!0,className:"m-1 col",variant:"standard",size:"small",label:"Domicile",value:L.habitation,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{habitation:t}))},error:0===L.habitation.trim().length}),l.a.createElement(ot,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contact,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{contact:t}))}})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"situation-label"},"Situation"),l.a.createElement(w.a,{labelId:"situation-label",id:"situation",label:"Situation",value:L.situation,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{situation:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mari\xe9"},"Mari\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"C\xe9libataire"},"C\xe9libataire"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Divorc\xe9"},"Divorc\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Concubinage"},"Concubinage"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Veuf"},"Veuf(ve)"))),l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"religion-label"},"R\xe9ligion"),l.a.createElement(w.a,{labelId:"religion-label",id:"religion",label:"R\xe9ligion",value:L.religion,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{religion:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Chr\xe9tient"},"Chr\xe9tient(ne)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Musulman"},"Musulman(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Boudiste"},"Boudiste"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Animiste"},"Animiste"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Autre"},"Autre r\xe9ligion"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Sans"},"Sans r\xe9ligion"))),l.a.createElement(N.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(S.a,{id:"profession-label"},"Proffession"),l.a.createElement(w.a,{labelId:"profession-label",id:"profession",value:L.profession,label:"Profession",onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{profession:t}))},style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"agriculteurs"},"Agriculteurs"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"artisans"},"Artisants"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"commer\xe7ant"},"Commer\xe7ants"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"chef d'entreprise"},"Chef d'entreprise"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"profession liberale"},"Professions liberales"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"etudiant"},"\xc9tudiant(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"retrait\xe9"},"Retrait\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"salari\xe9"},"Salari\xe9(e)"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"sans activit\xe9"},"Sans activit\xe9")))),l.a.createElement("small",{className:"font-weight-bold bg-light"},"P\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nompere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nompere:t}))}}),l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomspere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{prenomspere:t}))}}),l.a.createElement(ot,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contactpere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{contactpere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"M\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nommere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nommere:t}))}}),l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomsmere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{prenomsmere:t}))}}),l.a.createElement(ot,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contactmere,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{contactmere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Tuteur"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nomtuteur,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nomtuteur:t}))}}),l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomstuteur,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{prenomstuteur:t}))}}),l.a.createElement(ot,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contacttuteur,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{contacttuteur:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Personne \xe0 contacter en cas de besoins"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(ct,{className:"m-1 col-2",variant:"standard",size:"small",label:"Qualit\xe9",value:L.qualitepersonnesure,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{qualitepersonnesure:t}))}}),l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nompersonnesure,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{nompersonnesure:t}))}}),l.a.createElement(ct,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomspersonnesure,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{prenomspersonnesure:t}))}}),l.a.createElement(ot,{required:!0,className:"m-1 col-3",variant:"standard",size:"small",label:"Contact",value:L.contactpersonnesure,onChange:function(e){var t=e.target.value;Y(Object(h.a)(Object(h.a)({},L),{},{contactpersonnesure:t}))},error:0===L.contactpersonnesure.trim().length})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center text-center mt-2"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Veuillez Renseigner tous les champs Obligatoires avant la creation du patient"))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:V,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){a(L),V()},disabled:!function(){var e=L.nom,t=L.prenoms,a=L.civilite,n=L.habitation,r=L.contactpersonnesure,l=L.sexe;return 0!==e.trim().length&&0!==a.trim().length&&0!==t.trim().length&&0!==n.trim().length&&0!==l.trim().length&&0!==r.trim().length}(),startIcon:l.a.createElement(M.a,null),style:{textTransform:"none",backgroundColor:p.theme.primary,fontSize:"11px",color:"white"}},"Creer le patient"))),P&&!f&&!u&&l.a.createElement("div",{style:{position:"fixed",zIndex:"10001",right:"0.5cm",bottom:"0.5cm"},className:"bg-light col-2 d-flex p-0 flex-column border justify-content-center text-center align-items-center"},l.a.createElement("img",{src:lt.a,height:125,width:125,alt:"",className:"animated infinite flash"}),l.a.createElement("small",{style:{fontSize:"10px"},className:"text-secondary"},"Scanner votre le Qr code pour identifier le patient"),l.a.createElement(nt.a,{delay:500,style:{width:"100%"},onError:function(e){alert(e)},onScan:function(e){null!=e&&J()({url:"".concat($.a.url,"/gap/details/patient/").concat(e)}).then((function(t){0===t.data.rows.length?alert("Ce patient n'existe pas ici"):i(e)}))}}))))})),st=a(795),ut=a(789),mt=[{id:"listPatient",Component:Object(c.b)((function(e){return{loading:e.PatientReducer.loading}}),{setLoading:Ve})((function(e){var t=e.loading,a=e.setLoading;return l.a.createElement("div",{className:"row p-2 Patients mt-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement(it,null)),l.a.createElement(st.a,{open:t,onClose:function(){return a(!1)}},l.a.createElement(ut.a,{variant:"standard",severity:"info"},"Chargement ...")))}))},{id:"dossiersPatient",Component:et}],dt=a(8),ft=a.n(dt),pt=(a(718),function(e){var t=e.links,a=e.currentPage,n=e.setCurrentPage;return l.a.createElement("div",{className:"row onglets bg-light"},t.map((function(e,t){var r=e.title,c=e.icon,o=e.target;return l.a.createElement("div",{key:t,onClick:function(){n(o)},style:{cursor:"pointer"},className:"px-3 text-center onglet py-2 ".concat(a===o?"white text-secondary actifOnglet":"text-secondary"," ")},l.a.createElement("i",{className:"mdi-".concat(c," mr-2")}),r)})))});pt.prototype={user:ft.a.object.isRequired,functions:ft.a.array.isRequired};var bt=pt,Et=Object(c.b)((function(e){return{currentPage:e.pageReducer.currentPage}}),{setCurrentPage:Pe})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage;return Object(r.useEffect)((function(){t("Admission")})),l.a.createElement("div",{className:"Admission row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:b,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3",style:{height:"90vh",overflowY:"scroll",overflowX:"hidden"}},mt.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))))})),gt=s.a.permissions.functions.filter((function(e){return"Caisse"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),ht=[{target:"attenteFacture",title:"Factures en attente",icon:"action-assignment"},{target:"patientFacture",title:"Factures par patient",icon:"action-assignment-ind"},{target:"avoirFacture",title:"Factures d'avoir",icon:"editor-wrap-text"},{target:"compte",title:"Compte",icon:"action-account-balance"}],yt=0!==gt.length?ht.filter((function(e){return gt.includes(e.target)})):ht,vt={listComptes:[],currentCompte:{},showMmodal:!1},jt=function(e){return{type:"SET_LIST_COMPTES",listComptes:e}},xt=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Ot=function(e){return{type:"SET_CURRENT_COMPTE",currentCompte:e}};function Nt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/comptes")}).then((function(e){var a=e.data.rows;t(jt(a))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_COMPTES":return Object(h.a)(Object(h.a)({},e),{},{listComptes:t.listComptes});case"SET_CURRENT_COMPTE":return Object(h.a)(Object(h.a)({},e),{},{currentCompte:t.currentCompte});case"SET_SHOW_MODAL":return Object(h.a)(Object(h.a)({},e),{},{showModal:t.showModal});default:return e}},wt=Object(c.b)((function(e){var t=e.compteReducer;return{listComptes:t.listComptes,currentCompte:t.currentCompte,showModal:t.showModal}}),{thunkListComptes:Nt,thunkAddcompte:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({method:"POST",url:"".concat($.a.url,"/gap/add/compte"),data:{ipp:e},headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;a(Nt())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkSetCurrentCompte:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/details/compte/").concat(e)}).then((function(e){var t=e.data.rows;a(Ot(t?t[0]:{})),a(xt(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowModal:xt,thunkAddTransaction:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:J()({method:"POST",url:"".concat($.a.url,"/gap/add/transaction"),data:Object(h.a)(Object(h.a)({},e),{},{compte:t}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(Nt()),n(xt(!1))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkSearchCompte:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e.trim().length?a(Nt()):J()({url:"".concat($.a.url,"/gap/search/compte/").concat(e)}).then((function(e){var t=e.data.rows;a(jt(t))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){e.thunkSearchCompte;var t=e.thunkListComptes,a=e.thunkAddcompte,c=e.setShowModal,o=e.thunkSetCurrentCompte,i=e.thunkAddTransaction,u=e.currentCompte,m=e.listComptes,d=e.showModal,f=Object(r.useState)(""),p=Object(n.a)(f,2),b=p[0],E=p[1],g=Object(r.useState)(),y=Object(n.a)(g,2),T=y[0],A=y[1],R=Object(r.useState)(!1),P=Object(n.a)(R,2),I=P[0],B=P[1],L=Object(r.useState)(),U=Object(n.a)(L,2),V=U[0],G=U[1],W=Object(r.useState)({mode:"",montant:"",type:""}),H=Object(n.a)(W,2),K=H[0],X=H[1];function Q(){B(!1),A("")}function Z(){X({mode:"",montant:"",type:""}),c(!1)}var ee=Object(r.useState)(["N\xb0","Numero de compte","Date","Heure","Patient","Montant"]),te=Object(n.a)(ee,1)[0],ae=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){J()({url:"".concat($.a.url,"/gap/list/patients_no_compte")}).then((function(e){var t=e.data.rows;G(t)})),t()}),[m]),l.a.createElement("div",{className:"AttenteFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un compte",value:b,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");E(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Comptes(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:ae.theme.primary}},m.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(M.a,null),onClick:function(){B(!0)},style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Nouveau compte")))),0===m.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun compte existant"),l.a.createElement("small",null,"Pour en ajouter un cliquez sur le boutton 'Nouveau compte' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:ae.theme.secondaryDark}},l.a.createElement("tr",null,te.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,m.filter((function(e){return""===b.trim()||RegExp(b,"i").test(e.numerocompte)})).map((function(e,t){var a=e.numerocompte,n=e.datecompte,r=e.heurecompte,c=e.nompatient,i=e.prenomspatient,s=e.civilitepatient,u=e.montantcompte;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return o(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",{className:"font-weight-bold"},s," ",c," ",i),l.a.createElement("td",{className:"font-weight-bold"},Ee(u)," FCFA"))})))),l.a.createElement(z.a,{disableBackdropClick:!0,open:I,onClose:Q,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau compte")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"listpatients",options:V,onChange:function(e,t){A(t?t.ipppatient:null)},getOptionLabel:function(e){return"(".concat(e.ipppatient,") ").concat(e.nompatient.toLowerCase()," ").concat(e.prenomspatient.toLowerCase())},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,"(",e.ipppatient,") ",e.nompatient," ",e.prenomspatient," n\xe9 le"," ",e.datenaissancepatient," \xe0"," ",e.lieunaissancepatient))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{label:"Patient",variant:"filled",placeholder:"Rechercher le patient ..."}))}}))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(_.a,null),onClick:Q,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){a(T),B(!1)},startIcon:l.a.createElement(Y.a,null),disabled:!T,style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Valider"))),l.a.createElement(z.a,{disableBackdropClick:!0,open:d,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Effectuer une transaction")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("small",null," ",l.a.createElement("b",null,"Patient : "," "," "),u.nompatient," ",u.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null," ",l.a.createElement("b",null,"N\xb0 compte : "," "," "),u.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null," ",l.a.createElement("b",null,"Solde : "," "," "),Ee(u.montantcompte)," FCFA"),l.a.createElement("br",null),l.a.createElement("div",{className:"row my-2 mx-1"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typetransaction-label"},"Type"),l.a.createElement(w.a,{labelId:"typetransaction-label",id:"typetransaction",value:K.type,onChange:function(e){var t=e.target.value;X(Object(h.a)(Object(h.a)({},K),{},{type:t}))},variant:"filled",label:"Type",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Remboursement"},"Remboursement"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"D\xe9pot"},"D\xe9pot")))),l.a.createElement("div",{className:"row my-2 mx-1"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col mr-2"},l.a.createElement(S.a,{id:"typesejour-label"},"Mode de paiement"),l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",variant:"filled",value:K.mode,onChange:function(e){var t=e.target.value;X(Object(h.a)(Object(h.a)({},K),{},{mode:t}))},label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(v.a,{className:"col",type:"number",variant:"filled",size:"small",label:"Montant",value:K.montant,onChange:function(e){!function(e){var t=e.target.value;X(Object(h.a)(Object(h.a)({},K),{},{montant:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(_.a,null),onClick:Z,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){i(Object(h.a)(Object(h.a)({},K),{},{montant:"Remboursement"===K.type?-Math.abs(K.montant):Math.abs(K.montant)}),u.numerocompte),X({mode:"",montant:"",type:""})},startIcon:l.a.createElement(Y.a,null),disabled:""===K.mode.trim()||""===K.type.trim()||""===K.montant.trim()||"Remboursement"===K.type&&K.montant.trim()>u.montantcompte,style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),Ct={listAssurances:[],currentAssurance:{},loading:!1,showModalDetails:!1},Tt=function(e){return{type:"SET_LIST_ASSURANCE",listAssurances:e,loading:!1}},zt=function(e){return{type:"SET_CURRENT_ASSURANCE",currentAssurance:e,loading:!1}},kt=function(e){return{type:"SET_LOADING",loading:e}},Ft=function(e){return{type:"SET_SHOW_MODAL_DETAILS",showModalDetails:e}};function Dt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(kt(!0)),J()({method:"GET",url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var a=e.data.rows;t(Tt(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_ASSURANCE":return Object(h.a)(Object(h.a)({},e),{},{listAssurances:t.listAssurances,loading:t.loading});case"SET_CURRENT_ASSURANCE":return Object(h.a)(Object(h.a)({},e),{},{currentAssurance:t.currentAssurance,loading:t.loading});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});case"SET_SHOW_MODAL_DETAILS":return Object(h.a)(Object(h.a)({},e),{},{showModalDetails:t.showModalDetails});default:return e}},Rt={listFactures:[],listFacturesPatient:[],listFacturesAttentes:[],currentFacture:{},currentPatient:{},categorieFactures:"tous",showModal:!1},Mt=function(e){return{type:"SET_CATEGORIE_FACTURES",categorieFactures:e}},Pt=function(e){return{type:"SET_LIST_FACTURES",listFactures:e}},It=function(e){return{type:"SET_LIST_FACTURES_ATTENTES",listFacturesAttentes:e}},Bt=function(e){return{type:"SET_LIST_FACTURES_PATIENT",listFacturesPatient:e}},_t=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Lt=function(e){return{type:"SET_CURRENT_PATIENT",currentPatient:e}},Yt=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}};function Ut(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(Yt(t?t[0]:{})),a(_t(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Vt(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n,r){var l,c;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l=r(),c=l.factureReducer,J()({method:"POST",url:"".concat($.a.url,"/gap/encaisser_patient/facture/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(Gt()),n(Ht(c.currentPatient)),n(_t(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function qt(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/annuler/facture/").concat(e)}).then((function(e){e.data.rows;a(Gt())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Gt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/factures_attentes")}).then((function(e){var a=e.data.rows;t(It(a||[]))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Wt(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e.trim().length?a(Gt()):J()({url:"".concat($.a.url,"/gap/search/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(It(t||[]))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ht(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a,n){var r;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),r.factureReducer,J()({url:"".concat($.a.url,"/gap/list/factures_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(Bt(n||[])),a(Lt(e)),a(Mt("tous"))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}function Kt(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/factures_avoir")}).then((function(e){var a=e.data.rows;t(Pt(a||[]))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Jt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(h.a)(Object(h.a)({},e),{},{listFactures:t.listFactures});case"SET_CATEGORIE_FACTURES":return Object(h.a)(Object(h.a)({},e),{},{categorieFactures:t.categorieFactures});case"SET_LIST_FACTURES_PATIENT":return Object(h.a)(Object(h.a)({},e),{},{listFacturesPatient:t.listFacturesPatient});case"SET_LIST_FACTURES_ATTENTES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesAttentes:t.listFacturesAttentes});case"SET_CURRENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_PATIENT":return Object(h.a)(Object(h.a)({},e),{},{currentPatient:t.currentPatient});case"SET_SHOW_MODAL":return Object(h.a)(Object(h.a)({},e),{},{showModal:t.showModal});default:return e}},Xt=Object(c.b)((function(e){var t=e.factureReducer;return{listFacturesAttentes:t.listFacturesAttentes,currentFacture:t.currentFacture,showModal:t.showModal}}),{thunkListFacturesAttentes:Gt,thunkEncaisserFactures:Vt,thunkAnnulerFactures:qt,thunkSearchFacture:Wt,thunkDetailsFacture:Ut,setShowModal:_t})((function(e){var t=e.listFacturesAttentes,a=e.currentFacture,c=e.showModal,o=e.thunkListFacturesAttentes,i=e.thunkDetailsFacture,u=e.thunkEncaisserFactures,m=(e.thunkAnnulerFactures,e.thunkSearchFacture),d=e.setShowModal,f=Object(r.useState)(!1),p=Object(n.a)(f,2),b=(p[0],p[1]),E=Object(r.useState)(""),g=Object(n.a)(E,2),y=g[0],j=g[1],x=Object(r.useState)({numeroFacture:"",statutFacture:"attente",debutFacture:new Date,finFacture:new Date}),T=Object(n.a)(x,2),A=(T[0],T[1],Object(r.useState)({modepaiement:"",montantrecu:"",numeroTransaction:""})),R=Object(n.a)(A,2),M=R[0],P=R[1],I=function(){b(!1),d(!1),P({modepaiement:"",montantrecu:"",numeroTransaction:""})};function B(e){var t=e.target.value;P(Object(h.a)(Object(h.a)({},M),{},{modepaiement:t}))}var _=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){o(),$.b.on("facture_nouvelle",(function(){o()})),$.b.on("valid_paiement",(function(e,t){u(e,{modepaiement:"Compte",montantrecu:t,compte:a.numerocompte}),I()}))}),[]),l.a.createElement("div",{className:"AttenteFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:y,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","").trim();j(t),m(t)}}))),l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:_.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,t.map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,s=e.auteurfacture,u=e.nompatient,m=e.prenomspatient,d=e.montanttotalfacture,f=e.partassurancefacture,p=e.resteassurancefacture,b=e.partpatientfacture,E=e.restepatientfacture;e.statutfacture;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){i(r)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",u," ",m),l.a.createElement("td",null,n),l.a.createElement("td",null,s),l.a.createElement("td",{className:"text-right"},Ee(d)),l.a.createElement("td",{className:"text-right"},Ee(f)),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"text-right"},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(E<0&&"flash animated infinite red-text font-weight-bold")},Ee(E)))})))),l.a.createElement(z.a,{disableBackdropClick:!0,transitionDuration:0,open:c,onClose:I,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",a.numerofacture),0===a.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("small",{className:"green-text font-weight-bold"},"(d\xe9j\xe0 pay\xe9e)"))),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),a.civilitepatient," "," ",a.nompatient," "," ",a.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",Ee(a.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",Ee(a.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:a.restefacture<0&&"flash animated infinite red-text font-weight-bold"},Ee(a.restepatientfacture)," FCFA")),l.a.createElement("br",null),null!==a.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",a.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",Ee(a.montantcompte)," FCFA")))),0!==a.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Mode de paiement"),a.montantcompte>0?l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:M.modepaiment,onChange:B,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:M.modepaiment,onChange:B,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(v.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant recu",value:M.montantrecu,onChange:function(e){!function(e){var t=e.target.value;P(Object(h.a)(Object(h.a)({},M),{},{montantrecu:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(v.a,{className:"col-12 mt-2",variant:"filled",size:"small",label:"Numero de Transaction",value:M.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(M.modepaiement),onChange:function(e){!function(e){var t=e.target.value;P(Object(h.a)(Object(h.a)({},M),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:I,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),0!==a.restepatientfacture&&l.a.createElement(O.a,{variant:"contained",className:"mb-2",disabled:""===M.modepaiement.trim()||""===M.montantrecu.trim()||parseInt(M.montantrecu.trim())>parseInt(a.restepatientfacture)||"Compte"===M.modepaiement&&parseInt(M.montantrecu.trim())>parseInt(a.montantcompte)||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(M.modepaiement)&&""===M.numeroTransaction.trim(),onClick:function(){return e=a.numerofacture,t=a.nompatient+" "+a.prenomspatient,u(e,Object(h.a)(Object(h.a)({},M),{},{compte:a.numerocompte,patient:t})),void I();var e,t},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:_.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),Qt=a(719),Zt=a.n(Qt),$t=Object(c.b)((function(e){var t=e.factureReducer;return{listFacturesPatient:t.listFacturesPatient,showModal:t.showModal,currentPatient:t.currentPatient,currentFacture:t.currentFacture,categorieFactures:t.categorieFactures}}),{thunkListFacturesPayeesPatient:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/list/factures_payees_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(Bt(n||[])),a(Lt(e)),a(Mt("pay\xe9"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFacturesImpayeesPatient:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/list/factures_impayees_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(Bt(n||[])),a(Lt(e)),a(Mt("impay\xe9"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFacturesPatient:Ht,thunkEncaisserFactures:Vt,thunkDetailsFacture:Ut,thunkEncaisserAllFactures:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a,n){var r,l;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),l=r.factureReducer,J()({method:"POST",data:e,headers:{"content-type":"application/x-www-form-urlencoded"},url:"".concat($.a.url,"/gap/encaisser_patient/all_factures")}).then((function(e){e.data.rows;a(Gt()),a(Ht(l.currentPatient)),a(_t(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},setShowModal:_t})((function(e){var t,a=e.currentPatient,c=e.currentFacture,o=e.categorieFactures,i=e.listFacturesPatient,u=e.thunkListFacturesPatient,m=e.thunkListFacturesPayeesPatient,d=e.thunkListFacturesImpayeesPatient,f=e.thunkEncaisserAllFactures,p=e.thunkEncaisserFactures,b=e.showModal,E=e.thunkDetailsFacture,g=e.setShowModal,y=Object(r.useState)({nbpaye:0,nbimppaye:0,nbTotal:0,montantTotal:0,reste:0,factureImpaye:[]}),j=Object(n.a)(y,2),x=j[0],T=j[1],A=Object(r.useState)([]),R=Object(n.a)(A,2),M=R[0],P=R[1],I=Object(r.useState)(!1),B=Object(n.a)(I,2),_=B[0],L=B[1],Y=Object(r.useState)({numerocompte:"",solde:""}),U=Object(n.a)(Y,2),V=U[0],G=U[1],W=Object(r.useState)(""),H=Object(n.a)(W,2),K=H[0],X=H[1],Q=Object(r.useState)([]),Z=Object(n.a)(Q,2),ee=Z[0],te=Z[1],ae=Object(r.useState)({modepaiement:"",montantrecu:"",numeroTransaction:""}),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ce=Object(r.useContext)(s.b),oe=function(){g(!1),le({modepaiement:"",montantrecu:"",numeroTransaction:""})};function ie(e){var t=e.target.value;le(Object(h.a)(Object(h.a)({},re),{},{modepaiement:t}))}return Object(r.useEffect)((function(){J()({url:"".concat($.a.url,"/gap/list/patients")}).then((function(e){var t=e.data.rows;P(t)}))}),[]),Object(r.useEffect)((function(){J()({url:"".concat($.a.url,"/gap/verify/compte/").concat(a.ipppatient)}).then((function(e){var t=e.data.rows;t[0]&&G({numerocompte:t[0].numerocompte,solde:t[0].montantcompte})}))}),[a,i]),Object(r.useEffect)((function(){"tous"===o?u(a):"pay\xe9"===o?m(a):d(a)}),[]),Object(r.useEffect)((function(){J()({url:"".concat($.a.url,"/gap/list/factures_patient/").concat(a.ipppatient)}).then((function(e){var t=e.data.rows;T({nbTotal:t.length,nbpaye:t.filter((function(e){return 0===e.restepatientfacture})).length,nbimppaye:t.filter((function(e){return e.restepatientfacture>0})).length,reste:0!==t.length?t.map((function(e){return e.restepatientfacture})).reduce((function(e,t){return e+t})):0,montantTotal:0!==t.length?t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})):0,factureImpaye:t.filter((function(e){return e.restepatientfacture>0}))}),te(0!==t.length?t.filter((function(e){return e.restepatientfacture>0})).map((function(e){return[re.modepaiement,"Patient",e.restepatientfacture,e.numerofacture]})):[])}))}),[a,o,i,re.modepaiement]),l.a.createElement("div",{className:"Dossiers row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(q.a,{size:"small",className:"col-3 p-0",id:"listpatients",value:a.nompatient?a:M[0],options:M,onChange:function(e,t){t&&u(t)},getOptionLabel:function(e){return"(".concat(e.ipppatient,") ").concat(e.nompatient.toUpperCase()," ").concat(e.prenomspatient.toUpperCase())},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,"(",e.ipppatient,") ",e.nompatient," ",e.prenomspatient," n\xe9 le"," ",e.datenaissancepatient))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{label:"Selectionnez un patient",variant:"outlined",placeholder:"Rechercher le patient ..."}))}}),l.a.createElement(v.a,{className:"col-2 ml-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:K,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");X(t)}}))),a.ipppatient&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-2 pr-3 p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{style:{cursor:0===x.nbTotal?"default":"pointer"},className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("tous"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==x.nbTotal&&u(a)}},l.a.createElement("small",null,"Toutes les factures"),l.a.createElement("span",{className:"badge ".concat("tous"===o?"textcolor-primary white":0!==x.nbTotal?"bgcolor-primary text-white":"badge-light","  badge-pill")},x.nbTotal)),l.a.createElement("li",{style:{cursor:0===x.nbpaye?"default":"pointer"},href:"#FacturesPay\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("pay\xe9"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==x.nbpaye&&m(a)}},l.a.createElement("small",null,"Factures pay\xe9es"),l.a.createElement("span",{className:"badge ".concat("pay\xe9"===o?"textcolor-primary white":0!==x.nbpaye?"bgcolor-primary text-white":"badge-light","  badge-pill")},x.nbpaye)),l.a.createElement("li",{style:{cursor:0===x.nbimppaye?"default":"pointer"},href:"#FacturesImpay\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("impay\xe9"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==x.nbimppaye&&d(a)}},l.a.createElement("small",null,"Factures impay\xe9es"),l.a.createElement("span",{className:"badge ".concat("impay\xe9"===o?"textcolor-primary white":0!==x.nbimppaye?"bgcolor-primary text-white":"badge-light","  badge-pill")},x.nbimppaye)),l.a.createElement("li",{style:{cursor:"default"},href:"#FacturesAnnul\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("annul\xe9"===o?"bgcolor-primary text-white":"text-secondary"," ")},l.a.createElement("small",null,"Factures Annul\xe9es"),l.a.createElement("span",{className:"badge ".concat("annul\xe9"===o?"textcolor-primary white":"badge-light","  badge-pill")},"0")))),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},l.a.createElement("small",{className:"font-weight-bold"},"Montant total"),l.a.createElement("span",{className:"badge badge-pill badge-success"},Ee(x.montantTotal)," FCFA")),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},l.a.createElement("small",{className:"font-weight-bold"},"Reste \xe0 payer"),l.a.createElement("span",{className:"badge badge-danger badge-pill"},Ee(x.reste)," FCFA"))),0!==x.reste&&l.a.createElement(O.a,{variant:"contained",className:"mt-2 col",disabled:0===x.reste,startIcon:l.a.createElement(Zt.a,null),onClick:function(){L(!0)},style:{textTransform:"none",backgroundColor:ce.theme.secondaryDark,color:"white",fontSize:"11px"}},"R\xe9gler toutes les factures"))))),0===i.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucune patient s\xe9lectionn\xe9"),l.a.createElement("small",null,"Veuillez en s\xe9lectionner un dans la liste d\xe9roulante")):l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"col-10 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:ce.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,i.filter((function(e){return""===K.trim()||RegExp(K,"i").test(e.numerofacture)})).map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,i=e.auteurfacture,s=e.nompatient,u=e.prenomspatient,m=e.montanttotalfacture,d=e.partassurancefacture,f=e.resteassurancefacture,p=e.partpatientfacture,b=e.restepatientfacture;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){E(r)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",s," ",u),l.a.createElement("td",null,n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"text-right"},Ee(m)),l.a.createElement("td",{className:"text-right"},Ee(d)),l.a.createElement("td",{className:"text-right"},Ee(f)),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(b<0&&"flash animated infinite red-text font-weight-bold")},Ee(b)))}))))),l.a.createElement(z.a,{disableBackdropClick:!0,transitionDuration:0,open:b,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",c.numerofacture),0===c.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("small",{className:"green-text font-weight-bold"},"(d\xe9j\xe0 pay\xe9e)"))),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),c.civilitepatient," "," ",c.nompatient," "," ",c.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",Ee(c.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",Ee(c.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:c.restefacture<0&&"flash animated infinite red-text font-weight-bold"},Ee(c.restepatientfacture)," FCFA")),l.a.createElement("br",null),""!==(null===(t=c.parentfacture)||void 0===t?void 0:t.trim())&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{className:"blue-text"},l.a.createElement("b",null,"Facture d'avoir")," :"," ",l.a.createElement("span",null,c.parentfacture," "," ","(",Ee(c.prixavoirfacture)," FCFA)")),l.a.createElement("br",null)),null!==c.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",c.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",Ee(c.montantcompte)," FCFA")))),0!==c.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Mode de paiement"),c.montantcompte>0?l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(v.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant recu",value:re.montantrecu,onChange:function(e){!function(e){var t=e.target.value;le(Object(h.a)(Object(h.a)({},re),{},{montantrecu:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(v.a,{className:"col-12 mt-2",variant:"filled",size:"small",label:"Numero de Transaction",value:re.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(re.modepaiement),onChange:function(e){!function(e){var t=e.target.value;le(Object(h.a)(Object(h.a)({},re),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:oe,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),0!==c.restepatientfacture&&l.a.createElement(O.a,{variant:"contained",className:"mb-2",disabled:""===re.modepaiement.trim()||""===re.montantrecu.trim()||parseInt(re.montantrecu.trim())>parseInt(c.restepatientfacture)||"Compte"===re.modepaiement&&parseInt(re.montantrecu.trim())>parseInt(c.montantcompte)||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(re.modepaiement)&&""===re.numeroTransaction.trim(),onClick:function(){return e=c.numerofacture,p(e,Object(h.a)(Object(h.a)({},re),{},{compte:c.numerocompte,patient:t})),void oe();var e,t},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:ce.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))),l.a.createElement(z.a,{disableBackdropClick:!0,open:_,transitionDuration:0,onClose:function(){L(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ventilation globale")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),a.civilitepatient," "," ",a.nompatient," "," ",a.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",Ee(x.montantTotal)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:x.reste<0&&"flash animated infinite red-text font-weight-bold"},Ee(x.reste)," FCFA")),null!==V.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("div",{className:"col-12 p-0 mb-2"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",V.numerocompte," "),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",Ee(V.solde)," FCFA")," "))),l.a.createElement("br",null),l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-active"},l.a.createElement("thead",{style:{backgroundColor:ce.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0 facture","Date"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Part patient","Montant restant"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,x.factureImpaye.map((function(e,t){var a=e.numerofacture,n=e.datefacture,r=e.heurefacture,c=e.partpatientfacture,o=e.restepatientfacture;return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,n," ",r),l.a.createElement("td",{className:"text-right"},Ee(c)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(o)))}))))),0!==x.reste&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Mode de paiement"),V.solde>0&&V.solde>x.reste?l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(v.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant",disabled:!0,defaultValue:x.reste})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){L(!1),le({modepaiement:"",montantrecu:""})},style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",disabled:""===re.modepaiement.trim(),className:"mb-2",onClick:function(){return ee.push(V.numerocompte),f(ee),L(!1),void le({modepaiement:"",montantrecu:"",numeroTransaction:""})},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:ce.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),ea=[{id:"compte",Component:wt},{id:"attenteFacture",Component:Xt},{id:"avoirFacture",Component:Object(c.b)((function(e){var t=e.factureReducer;return{listFactures:t.listFactures,currentFacture:t.currentFacture,showModal:t.showModal}}),{thunkListAvoirFactures:Kt,thunkEncaisserFactures:Vt,thunkAnnulerFactures:qt,thunkSearchFacture:Wt,thunkDetailsFacture:Ut,setShowModal:_t,setCurrentFacture:Yt,thunkAddAvoirFacture:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n,r){var l;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l=r(),l.factureReducer,J()({method:"POST",url:"".concat($.a.url,"/gap/add/facture_avoir/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(Kt()),n(_t(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var t=e.currentFacture,a=e.showModal,c=e.thunkListAvoirFactures,o=e.thunkDetailsFacture,i=(e.thunkSearchFacture,e.setShowModal),u=e.setCurrentFacture,m=e.listFactures,d=e.thunkAddAvoirFacture,f=Object(r.useState)(""),p=Object(n.a)(f,2),b=p[0],E=p[1],g=Object(r.useState)([]),y=Object(n.a)(g,2),N=y[0],S=y[1],w=Object(r.useState)({facture:"",montant:"",commentaire:""}),C=Object(n.a)(w,2),T=C[0],A=C[1],R=function(){i(!1),A({commentaire:"",montant:"",facture:""}),u({})};var P=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){c(),u({}),J()({url:"".concat($.a.url,"/gap/list/factures")}).then((function(e){var t=e.data.rows,a=[];t.filter((function(e){return 0!==e.restepatientfacture&&""===e.parentfacture.trim()&&"original"===e.typefacture})).forEach((function(e){var t=e.numerofacture;a.push({numero:t})})),S(a)}))}),[]),l.a.createElement("div",{className:"AvoirFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture d'avoir",value:b,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");E(t)}}),l.a.createElement("div",{className:"col"},l.a.createElement(j.a,{label:"Facture(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:P.theme.primary}},m.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(M.a,null),onClick:function(){i(!0)},style:{textTransform:"none",backgroundColor:P.theme.primary,color:"white",fontSize:"13px"}},"Nouvelle facture d'avoir")))),0===m.filter((function(e){return""===b.trim()||RegExp(b,"i").test(e.numerofacture)})).length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucune facture d'avoir")):l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:P.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient","Facture parent"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,m.filter((function(e){return"avoir"===e.typefacture})).map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,i=e.auteurfacture,s=e.nompatient,u=e.prenomspatient,m=e.montanttotalfacture,d=e.partassurancefacture,f=e.resteassurancefacture,p=e.partpatientfacture,b=e.restepatientfacture,E=e.parentfacture,g=e.commentairefacture;return l.a.createElement("tr",{key:t,style:{cursor:"default"},title:g},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",s," ",u),l.a.createElement("td",null,n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"text-right"},Ee(m)),l.a.createElement("td",{className:"text-right"},Ee(d)),l.a.createElement("td",{className:"text-right"},Ee(f)),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(b<0&&"flash animated infinite red-text font-weight-bold")},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-info text-right"},E))})))),l.a.createElement(z.a,{open:a,onClose:R,disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Nouvelle facture d'avoir")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),t.nompatient," "," ",t.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",Ee(t.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",Ee(t.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:t.restefacture<0&&"flash animated infinite red-text font-weight-bold"},Ee(t.restepatientfacture)," FCFA")),l.a.createElement("br",null))),0!==t.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"FactureList",options:N,onChange:function(e,t){t?(!function(e){A(Object(h.a)(Object(h.a)({},T),{},{facture:e}))}(t.numero),o(t.numero)):(u({}),A({montant:"",facture:"",commentairefacture:""}))},getOptionLabel:function(e){return e.numero},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.numero))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Facture",placeholder:"Selectionner ..."}))}}),l.a.createElement(v.a,{className:"col-7 ml-2",variant:"filled",size:"small",type:"number",label:"Montant",defaultValue:t.restepatientfacture,value:T.montant,onChange:function(e){!function(e){A(Object(h.a)(Object(h.a)({},T),{},{montant:e}))}(e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=",""))}})),l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(v.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",onChange:function(e){var t=e.target.value;A(Object(h.a)(Object(h.a)({},T),{},{commentaire:t}))}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour la cr\xe9ation d'une facture d'avoir")))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:R,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",disabled:""===T.montant.trim()||parseInt(T.montant.trim())>parseInt(t.restepatientfacture)||""===T.facture.trim(),onClick:function(){return d(t.numerofacture,T)},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:P.theme.primary,color:"white",fontSize:"13px"}},"Valider"))))}))},{id:"patientFacture",Component:$t}],ta=function(e){var t=e.title,a=e.cancel,n=e.valid,r=e.children;return l.a.createElement("div",{className:"row rounded shadow-lg white p-3 text-secondary"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h6",null,l.a.createElement("i",{className:"mdi-social-notifications mr-2"}),t)),l.a.createElement("p",null,r),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},a&&l.a.createElement("button",{onClick:function(){return a()},className:"btn-sm btn btn-light mr-1"},"Fermer"),n&&l.a.createElement("button",{onClick:function(){return n()},className:"btn-sm btn btn-primary "},"Consulter")))},aa={currentPage:yt[0].target||null,notification:!1},na=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},ra=function(e){return{type:"SET_NOTIFICATION",notification:e}},la=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});default:return e}},ca=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:na,setNotification:ra})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Caisse"),$.b.on("facture_nouvelle",(function(){new Audio("".concat($.a.url,"/son.mp3")).play(),c(!0)}))})),l.a.createElement("div",{className:"Caisse row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:yt,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},ea.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(ta,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),oa=s.a.permissions.functions.filter((function(e){return"Assurance"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),ia=[{target:"listeAssurances",title:"Listes des assurances",icon:"action-assignment"},{target:"facturesRecues",title:"Factures re\xe7ues",icon:"file-file-download "},{target:"facturesValides",title:"Factures valides",icon:"action-done"},{target:"bordereaux",title:"Borderaux",icon:"action-account-balance"}],sa=0!==oa.length?ia.filter((function(e){return oa.includes(e.target)})):ia,ua=function(e){return l.a.createElement(De.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(v.a,Object.assign({variant:"filled",type:"tel"},e))}))},ma=Object(c.b)((function(e){var t=e.assuranceReducer;return{listAssurances:t.listAssurances,showModalDetails:t.showModalDetails,currentAssurance:t.currentAssurance,loading:t.loading}}),{thunkAddAssurance:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(kt(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/add/assurance"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(Dt())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListAssurances:Dt,thunkDeleteAssurance:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({method:"GET",url:"".concat($.a.url,"/gap/delete/assurance/").concat(e)}).then((function(e){e.data.rows;a(Dt()),a(Ft(!1))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkUpdateAssurance:function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(kt(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/update/assurance/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){n(Dt()),n(Ft(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDetailsAssurance:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({method:"GET",url:"".concat($.a.url,"/gap/details/assurance/").concat(e)}).then((function(e){var t=e.data.rows;t[0]?a(zt(t[0])):a(zt({})),a(Ft(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkSearchAssurance:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===e.trim()?a(Dt()):J()({method:"GET",url:"".concat($.a.url,"/gap/search/assurance/").concat(e)}).then((function(e){var t=e.data.rows;a(Tt(t))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowModalDetails:Ft})((function(e){var t=e.thunkAddAssurance,a=e.thunkListAssurances,c=e.thunkDeleteAssurance,o=e.thunkUpdateAssurance,i=e.thunkDetailsAssurance,u=e.thunkSearchAssurance,m=e.currentAssurance,d=(e.loading,e.listAssurances),f=e.showModalDetails,p=e.setShowModalDetails,b=Object(r.useState)(""),E=Object(n.a)(b,2),g=E[0],y=E[1],T=Object(r.useState)(!1),A=Object(n.a)(T,2),R=A[0],P=A[1],B=Object(r.useContext)(s.b),_=Object(r.useState)(["N\xb0","Nom","Code","Type","Adresse","T\xe9l\xe9phone","Fax","Mail","Site web"]),L=Object(n.a)(_,1)[0],Y=Object(r.useState)({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""}),U=Object(n.a)(Y,2),V=U[0],q=U[1],G=function(){P(!1),q({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""})},W=function(){p(!1),q({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""})};function H(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{nom:t}))}function K(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{code:t}))}function J(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{type:t}))}function X(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{adresse:t}))}function Q(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{telephone:t}))}function Z(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{fax:t}))}function $(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{mail:t}))}function ee(e){var t=e.target.value;q(Object(h.a)(Object(h.a)({},V),{},{site_web:t}))}return Object(r.useEffect)((function(){a(),console.log(d)}),[]),l.a.createElement("div",{className:"Assurance row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une assurance",value:g,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");y(t),u(t.trim())}}),l.a.createElement("div",{className:"col"},l.a.createElement(j.a,{label:"Assurance(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:B.theme.primary}},d.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(M.a,null),onClick:function(){P(!0)},style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Ajouter une assurance")))),0===d.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucune assurance existante"),l.a.createElement("small",null,"pour en ajouter une cliquez sur le boutton 'Ajouter assurance' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:B.theme.secondaryDark}},l.a.createElement("tr",null,L.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,d.map((function(e,t){var a=e.idassurance,n=e.nomassurance,r=e.codeassurance,c=e.typeassurance,o=e.localassurance,s=e.telassurance,u=e.faxassurance,m=e.mailassurance,d=e.siteassurance;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){i(a)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,s),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",null,d))})))),l.a.createElement(z.a,{disableBackdropClick:!0,open:R,onClose:G,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter une assurance")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement(v.a,{className:"col mr-2",variant:"filled",size:"small",label:"Nom",onChange:H}),l.a.createElement(v.a,{className:"col",variant:"filled",size:"small",label:"Code",onChange:K})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typeAssurance-label"},"Type d'assurance"),l.a.createElement(w.a,{labelId:"typeAssurance-label",id:"typeAssurance",onChange:J,label:"Type d'assurance",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Gestionnaire"},"Gestionnaire"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Organisme"},"Organisme"))),l.a.createElement(v.a,{className:"col-6 ml-2",variant:"filled",size:"small",label:"Adresse",onChange:X})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(ua,{className:"col mr-2",variant:"filled",size:"small",label:"Telephone",value:V.telephone,onChange:Q}),l.a.createElement(ua,{className:"col",variant:"filled",size:"small",label:"Fax",value:V.fax,onChange:Z})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(v.a,{className:"col mr-2",variant:"filled",size:"small",label:"Mail",onChange:$}),l.a.createElement(v.a,{className:"col",variant:"filled",size:"small",label:"Site web",onChange:ee})),l.a.createElement("div",{className:"col-12 d-flex mt-2"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour la creation d'assuurance"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:G,style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",disabled:""===V.nom.trim()||""===V.type.trim(),onClick:function(){return t(V),void G()},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider"))),l.a.createElement(z.a,{disableBackdropClick:!0,open:f,onClose:W,onEntered:function(){return q({nom:m.nomassurance,code:m.codeassurance,type:m.typeassurance,adresse:m.localassurance,telephone:m.telassurance,fax:m.faxassurance,mail:m.mailassurance,site_web:m.siteassurance})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Effectuer une modification")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement(v.a,{className:"col mr-2",variant:"filled",size:"small",label:"Nom",defaultValue:m.nomassurance,onChange:H}),l.a.createElement(v.a,{className:"col",variant:"filled",size:"small",label:"Code",defaultValue:m.codeassurance,onChange:K})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typeAssurance-label"},"Type d'assurance"),l.a.createElement(w.a,{labelId:"typeAssurance-label",id:"typeAssurance",onChange:J,defaultValue:m.typeassurance,label:"Type d'assurance",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Gestionnaire"},"Gestionnaire"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Organisme"},"Organisme"))),l.a.createElement(v.a,{className:"col-6 ml-2",variant:"filled",size:"small",label:"Adresse",defaultValue:m.localassurance,onChange:X})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(ua,{className:"col mr-2",variant:"filled",size:"small",label:"Telephone",value:V.telephone,onChange:Q}),l.a.createElement(ua,{className:"col",variant:"filled",size:"small",label:"Fax",value:V.fax,onChange:Z})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(v.a,{className:"col mr-2",variant:"filled",size:"small",label:"Mail",defaultValue:m.mailassurance,onChange:$}),l.a.createElement(v.a,{className:"col",variant:"filled",size:"small",label:"Site web",defaultValue:m.siteassurance,onChange:ee})),l.a.createElement("div",{className:"col-12 d-flex mt-2 justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"La suppression est sans confirmation et irr\xe9versible"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:W,style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(I.a,null),onClick:function(){c(m.idassurance)},style:{textTransform:"none",fontSize:"12px"}},"Supprimer"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){return o(m.idassurance,V)},startIcon:l.a.createElement(ke.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider la modification"))))}));fe.c.register({family:"Regular",src:"".concat($.a.local,"/font.ttf")}),fe.c.register({family:"Roboto-Bold",src:"".concat($.a.local,"/fonts/Roboto-Bold.ttf")}),fe.c.register({family:"Roboto-Light",src:"".concat($.a.local,"/fonts/Roboto-Light.ttf")});var da=function(e){e.etablissement;return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",paddingBottom:8,flexDirection:"row",padding:10}},l.a.createElement(fe.h,{style:{flex:2}},l.a.createElement(fe.d,{src:ue.a,style:{height:"3cm",width:"3cm"}})),l.a.createElement(fe.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(fe.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(fe.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(fe.g,null,"Abidjan BP 05 789"),l.a.createElement(fe.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(fe.g,null,"Email : info@altea-ci.com"))))},fa=function(e){var t=e.bordereau,a=e.cie;return l.a.createElement(fe.b,null,l.a.createElement(fe.e,{size:"A4",style:{padding:0,display:"flex",flexDirection:"column"}},l.a.createElement(da,null),l.a.createElement(fe.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},ba.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:17})},"Bordereau de factures N\xb0 ",t[0].numerobordereau),l.a.createElement(fe.h,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.content),{},{justifyContent:"flex-start"})},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{fontSize:9})},l.a.createElement(fe.g,{style:{fontFamily:"Roboto-Bold"}},t[0].gestionnairebordereau),l.a.createElement(fe.g,null," / ",t[0].organismebordereau)),l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{fontSize:8})},l.a.createElement(fe.g,{style:{fontFamily:"Roboto-Bold"}},t.length," facture(s)"))),l.a.createElement(fe.h,{style:ba.content},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{fontSize:9})},l.a.createElement(fe.g,null,"Date : ",t[0].datecreationbordereau)),l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{fontSize:9})},l.a.createElement(fe.g,null,"Heure : ",t[0].heurecreationbordereau)),l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{fontSize:8})},l.a.createElement(fe.g,{style:{fontFamily:"Roboto-Bold"}},t[0].typesejourbordereau)))),l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.content),{},{fontSize:9})},l.a.createElement(fe.g,null,"Veuillez trouver en annexe les factures mentionn\xe9es ci-dessous dont le r\xe8glement devra nous parvenir, avec votre amabilit\xe9. Rappelez s'il vous pla\xeet la r\xe9f\xe9rence du relev\xe9 au r\xe8glement.")),l.a.createElement(fe.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.content),{},{flex:1,display:"flex",flexDirection:"column"})},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},ba.l),{},{justifyContent:"space-between",flexFlow:"row wrap",alignItems:"stretch"})},l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Date"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.datefacture)}))),a?l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Nom et prenom de l'agent"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.assureprinc)}))):l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Nom et pr\xe9nom du patient"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.nompatient," ",e.prenomspatient)}))),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"N\xb0 Facture"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.numerofacture)}))),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"N\xb0 BON"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.numeropec)}))),a?l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Nom et pr\xe9nom du patient"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.nompatient," ",e.prenomspatient)}))):l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Nom et prenom du medecin"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.medecinsejour)}))),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Matricule"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.matriculeassure)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},ba.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},"TOTAL")),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Montant factur\xe9"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.montanttotalfacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},ba.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Part Patient"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.partpatientfacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},ba.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(fe.h,{style:ba.column},l.a.createElement(fe.g,{style:ba.tr},"Net \xe0 payer"),t.map((function(e){return l.a.createElement(fe.g,{style:Object(h.a)({},ba.line)},e.partassurancefacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},ba.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t}))))),l.a.createElement(fe.h,null,l.a.createElement(fe.g,{style:{fontSize:8}},"Certifi\xe9 exact, la pr\xe9sente facture s'\xe9l\xe9vant \xe0 la somme de ",ve(t[0].montanttotalfacture)," francs CFA"))))),l.a.createElement(pa,{bordereau:t})))},pa=function(e){var t=e.bordereau;return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",flexDirection:"row",alignItems:"center",padding:10}},l.a.createElement(fe.h,{style:{flex:1,justifyContent:"flex-start",fontSize:8,marginTop:7,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Fait \xe0 Abidjan le ",t[0].datecreationbordereau),l.a.createElement(fe.g,null,"par ",t[0].auteurbordereau)))},ba=fe.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flex:"auto",flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.4},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.4,paddingTop:7}}),Ea=function(e){var t=e.bordereau,a=e.showPDF,n=e.cie;return l.a.createElement("div",{className:"row"},l.a.createElement(fe.a,{document:l.a.createElement(fa,{bordereau:t,cie:n})},(function(e){e.blob;var t=e.url,r=e.loading;e.error;return r?l.a.createElement("small",null,"..."):l.a.createElement("div",{className:"pr-3"},l.a.createElement(O.a,{variant:"contained",className:"mb-2 white-text mx-2 col",startIcon:l.a.createElement(be.a,null),onClick:function(){return a(t)},style:{textTransform:"none",fontSize:"13px",backgroundColor:s.a.theme.primary}},"Imprimer le bordereau ",n&&"(CIE)"))})))},ga={listFactures:[],listFacturesByAssurance:[],listFacturesRecues:[],listFacturesValides:[],listBordereaux:[],currentBordereau:[{}],currentFacture:{},showModal:!1,showDetailsFacture:!1,showCommentFacture:!1,loading:!1,typeBordereaux:"tous"},ha=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}},ya=function(e){return{type:"SET_CURRENT_BORDEREAU",currentBordereau:e}},va=function(e){return{type:"SET_LIST_FACTURES_BY_ASSURANCE",listFacturesByAssurance:e}},ja=function(e){return{type:"SET_LIST_FACTURES_VALIDES",listFacturesValides:e}},xa=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Oa=function(e){return{type:"SET_SHOW_DETAILS_FACTURE",showDetailsFacture:e}},Na=function(e){return{type:"SET_SHOW_COMMENT_FACTURE",showCommentFacture:e}},Sa=function(e){return{type:"SET_LOADING",loading:e}};function wa(e){var t=e.nomassurance,a=e.nomgarant,n=e.debutDateString,r=e.finDateString,l=e.typeSejour;return function(){var e=Object(ae.a)(te.a.mark((function e(c){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Sa(!0)),J()({method:"GET",url:"".concat($.a.url,"/gap/list/factures/").concat(t,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(l)}).then((function(e){var t=e.data.rows;c(va(t||[])),c(Sa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ca(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({url:"".concat($.a.url,"/gap/retrait/facture_recue/").concat(e)}).then((function(){a(Da()),a(Oa(!1)),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ta(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({url:"".concat($.a.url,"/gap/retrait/facture_valide/").concat(e)}).then((function(){a(Da()),a(Oa(!1)),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function za(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/add/bordereau"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(ka()),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ka(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Sa(!0)),J()({url:"".concat($.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_BORDEREAUX",listBordereaux:a}),t(Sa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Fa(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({url:"".concat($.a.url,"/gap/details/bordereau/").concat(e)}).then((function(e){var t=e.data.rows;a(ya(t)),a(Sa(!1)),a(xa(!0))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Da(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Sa(!0)),J()({url:"".concat($.a.url,"/gap/list/factures_assurances")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_FACTURES",listFactures:a}),t(Sa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Aa(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({url:"".concat($.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(ha(t?t[0]:{})),a(Oa(!0)),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ra(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({url:"".concat($.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(ha(t?t[0]:{})),a(Na(!0)),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ma(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n,r){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/update/sejour/").concat(e,"/").concat(r().bordereauReducer.currentFacture.numerofacture),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){switch(r().pageReducer.currentPage){case"bordereaux":n(Fa(r().bordereauReducer.currentBordereau[0].numerobordereau));break;case"facturesValides":case"facturesRecues":n(Da())}n(Oa(!1)),n(Sa(!1)),n(Pa(r().bordereauReducer.currentFacture.numerofacture,{erreur:"",comment:""}))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function Pa(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n,r){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/report/facture/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){switch(r().pageReducer.currentPage){case"bordereaux":n(ka()),n(Fa(r().bordereauReducer.currentBordereau[0].numerobordereau)),n(Na(!1)),n(Oa(!1));break;case"facturesValides":case"facturesRecues":n(Da())}}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}var Ia,Ba=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(h.a)(Object(h.a)({},e),{},{listFactures:t.listFactures});case"SET_LIST_BORDEREAUX":return Object(h.a)(Object(h.a)({},e),{},{listBordereaux:t.listBordereaux});case"SET_TYPE_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{typeBordereaux:t.typeBordereaux});case"SET_LIST_FACTURES_BY_ASSURANCE":return Object(h.a)(Object(h.a)({},e),{},{listFacturesByAssurance:t.listFacturesByAssurance});case"SET_LIST_FACTURES_RECUES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesRecues:t.listFacturesRecues});case"SET_LIST_FACTURES_VALIDES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesValides:t.listFacturesValides});case"SET_CURRENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{currentBordereau:t.currentBordereau});case"SET_SHOW_MODAL":return Object(h.a)(Object(h.a)({},e),{},{showModal:t.showModal});case"SET_SHOW_DETAILS_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{showDetailsFacture:t.showDetailsFacture});case"SET_SHOW_COMMENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{showCommentFacture:t.showCommentFacture});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});default:return e}},_a=a(188),La=a.n(_a),Ya=a(785),Ua=l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))}));function Va(e){return l.a.createElement("div",Object.assign({className:"row"},e))}function qa(e){return l.a.createElement(ut.a,Object.assign({elevation:6,variant:"filled"},e))}var Ga=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a),Wa=Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentBordereau:t.currentBordereau,showModal:t.showModal,listBordereaux:t.listBordereaux,loading:t.loading,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,typeBordereaux:t.typeBordereaux,showCommentFacture:t.showCommentFacture}}),(Ia={thunkAddBordereau:za,thunkListBorderaux:ka},Object(E.a)(Ia,"thunkAddBordereau",za),Object(E.a)(Ia,"thunkModifyFacture",Ma),Object(E.a)(Ia,"thunkListFacturesByAssurances",wa),Object(E.a)(Ia,"thunkDeleteFacturesValides",Ta),Object(E.a)(Ia,"setListFacturesValides",ja),Object(E.a)(Ia,"setListFacturesByAssurance",va),Object(E.a)(Ia,"setShowModal",xa),Object(E.a)(Ia,"setShowCommentFacture",Na),Object(E.a)(Ia,"thunkDetailsBorderau",Fa),Object(E.a)(Ia,"setLoading",Sa),Object(E.a)(Ia,"thunkUpdateBordereau",(function(e,t){return function(){var a=Object(ae.a)(te.a.mark((function a(n,r){return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/update/statut_bordereau/").concat(t),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){n(Fa(r().bordereauReducer.currentBordereau[0].numerobordereau)),n(ka()),n(Sa(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()})),Object(E.a)(Ia,"thunkDetailsFacture",Aa),Object(E.a)(Ia,"thunkDeleteFacturesRecues",Ca),Object(E.a)(Ia,"setShowDetailsFacture",Oa),Object(E.a)(Ia,"thunkCommentFacture",Ra),Object(E.a)(Ia,"thunkReportFacture",Pa),Object(E.a)(Ia,"thunkDelBordereau",(function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/delete/bordereau"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(ka()),a(Sa(!1)),a(xa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),Object(E.a)(Ia,"setTypeBordereaux",(function(e){return{type:"SET_TYPE_BORDEREAU",typeBordereaux:e}})),Ia))((function(e){var t,a,c,o=e.thunkDetailsFacture,i=e.thunkListFacturesByAssurances,u=e.thunkModifyFacture,m=e.thunkListBorderaux,d=e.thunkAddBordereau,f=(e.thunkDeleteFacturesValides,e.listBordereaux),p=e.listFacturesByAssurance,b=e.listFacturesValides,T=e.setListFacturesValides,A=e.currentBordereau,R=e.thunkDetailsBorderau,P=e.thunkCommentFacture,B=e.showModal,_=e.setShowModal,L=e.showCommentFacture,U=e.setShowCommentFacture,V=e.loading,H=e.setLoading,K=e.currentFacture,Q=e.thunkUpdateBordereau,ee=e.showDetailsFacture,te=e.setShowDetailsFacture,ae=e.setListFacturesByAssurance,ne=e.setTypeBordereaux,re=e.thunkReportFacture,le=e.thunkDelBordereau,ce=e.typeBordereaux,oe=Object(r.useState)(""),ie=Object(n.a)(oe,2),se=ie[0],ue=ie[1],me=Object(r.useState)(""),de=Object(n.a)(me,2),fe=de[0],pe=de[1],be=Object(r.useState)(""),ge=Object(n.a)(be,2),he=ge[0],ye=ge[1],ve=Object(r.useState)(""),je=Object(n.a)(ve,2),xe=je[0],Oe=je[1],Ne=Object(r.useState)(!1),Se=Object(n.a)(Ne,2),we=Se[0],Ce=Se[1],Te=Object(r.useState)(!1),ze=Object(n.a)(Te,2),ke=ze[0],Fe=ze[1],De=Object(r.useState)(!1),Ae=Object(n.a)(De,2),Me=Ae[0],Pe=Ae[1],Ie=Object(r.useState)(!1),Be=Object(n.a)(Ie,2),_e=Be[0],Le=Be[1],Ye=Object(r.useState)(!1),Ue=Object(n.a)(Ye,2),Ve=Ue[0],qe=Ue[1],Ge=Object(r.useState)([]),We=Object(n.a)(Ge,2),He=We[0],Je=We[1],Qe=Object(r.useState)(null),Ze=Object(n.a)(Qe,2),$e=Ze[0],et=Ze[1],tt=Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""}),at=Object(n.a)(tt,2),nt=at[0],rt=at[1],lt=Object(r.useState)({erreur:"",comment:""}),ct=Object(n.a)(lt,2),ot=ct[0],it=ct[1],ut=Object(r.useState)({nomassurance:"",nomgarant:"",typeSejour:"",montanttotal:0,partAssurance:0,partPatient:0,debutDateString:Z()().format("YYYY-MM-DD"),finDateString:Z()().format("YYYY-MM-DD"),limiteDateString:Z()().format("YYYY-MM-DD"),debutDate:new Date,finDate:new Date,limiteDate:new Date}),mt=Object(n.a)(ut,2),dt=mt[0],ft=mt[1],pt=function(){Pe(!1),ft({nomassurance:"",nomgarant:"",typeSejour:"",montanttotal:0,partAssurance:0,partPatient:0,debutDateString:Z()().format("YYYY-MM-DD"),finDateString:Z()().format("YYYY-MM-DD"),limiteDateString:Z()().format("YYYY-MM-DD"),debutDate:new Date,finDate:new Date,limiteDate:new Date}),T([]),ae([]),Oe(!1)};function bt(e){switch(e){case"tous":return["Cr\xe9ation","Rejet\xe9","D\xe9charge","Envoie"];case"creation":return["Cr\xe9ation"];case"rejete":return["Rejet\xe9"];case"decharge":return["D\xe9charge"];case"envoie":return["Envoie"]}}var Et=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){m(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),Je([{value:"Tous",label:"Tous"}].concat(a))}))}),[]),Object(r.useEffect)((function(){Oe(!1)}),[p]),Object(r.useEffect)((function(){T([]),H(!1)}),[dt.nomassurance,dt.typeSejour,dt.nomgarant,dt.debutDate,dt.finDate]),l.a.createElement("div",{className:"Bordereau row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un borderau",value:se,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");ue(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Bordereau(x)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Et.theme.primary}},f.filter((function(e){return""===se.trim()||RegExp(se,"i").test(e.numerobordereau)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",onClick:function(){return Pe(!0)},startIcon:l.a.createElement(M.a,null),style:{textTransform:"none",backgroundColor:Et.theme.primary,color:"white",fontSize:"12px"}},"Ajouter un borderau")))),l.a.createElement("div",{className:"col-2 p-0 my-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{onClick:function(){0!==f.filter((function(e){return bt("tous").includes(e.statutbordereau)})).length&&ne("tous")},style:{cursor:0===f.filter((function(e){return bt("tous").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("tous"===ce?"bgcolor-primary text-white":"text-secondary","\n                            ")},l.a.createElement("small",null,"Tous les bordereaux"),l.a.createElement("span",{className:"badge badge-light badge-pill"},f.filter((function(e){return bt("tous").includes(e.statutbordereau)})).length)),l.a.createElement("li",{onClick:function(){0!==f.filter((function(e){return bt("creation").includes(e.statutbordereau)})).length&&ne("creation")},style:{cursor:0===f.filter((function(e){return bt("creation").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("creation"===ce?"bgcolor-primary text-white":"text-secondary","\n                                ")},l.a.createElement("small",null,"Bordereaus en Cr\xe9ation"),l.a.createElement("span",{className:"badge badge-light badge-pill"},f.filter((function(e){return"Cr\xe9ation"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==f.filter((function(e){return bt("envoie").includes(e.statutbordereau)})).length&&ne("envoie")},style:{cursor:0===f.filter((function(e){return bt("envoie").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("envoie"===ce?"bgcolor-primary text-white":"text-secondary","\n                                ")},l.a.createElement("small",null,"Bordereaus envoy\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},f.filter((function(e){return"Envoie"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==f.filter((function(e){return bt("decharge").includes(e.statutbordereau)})).length&&ne("decharge")},style:{cursor:0===f.filter((function(e){return bt("decharge").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                         list-group-item d-flex justify-content-between align-items-center\n                                         ".concat("decharge"===ce?"bgcolor-primary text-white":"text-secondary","\n                                 ")},l.a.createElement("small",null,"Bordereaux d\xe9charg\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},f.filter((function(e){return"D\xe9charge"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==f.filter((function(e){return bt("rejete").includes(e.statutbordereau)})).length&&ne("rejete")},style:{cursor:0===f.filter((function(e){return bt("rejete").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                         list-group-item d-flex justify-content-between align-items-center\n                                         ".concat("rejete"===ce?"bgcolor-primary text-white":"text-secondary","\n                                 ")},l.a.createElement("small",null,"Bordereaux rejet\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},f.filter((function(e){return"Rejet\xe9"===e.statutbordereau})).length)))))),l.a.createElement("div",{className:"col-10 pl-4 my-2"},l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:Et.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero Bordereau","Gestionnaire","Organisme","Type de sejour","Date d'envoie","Date limite","Status du bordereau","Nombre de facture","Montant total","Part Assurance","Part Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,f.filter((function(e){return""===se.trim()||RegExp(se,"i").test(e.numerobordereau)})).filter((function(e){return bt(ce).includes(e.statutbordereau)})).map((function(e,t){var a=e.numerobordereau,n=e.datecreationbordereau,r=e.gestionnairebordereau,c=e.datelimitebordereau,o=e.organismebordereau,i=e.typesejourbordereau,s=e.statutbordereau,u=e.nbfacture,m=e.montanttotal,d=e.partassurance,f=e.partpatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){R(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",null,Z()(n).format("DD/MM/YYYY")),l.a.createElement("td",{title:"reste ".concat(Z()(c).diff(Z()(),"days")," jours"),className:Z()(c).subtract(10,"days")<=Z()()?"bg-warning":""},Z()(c).format("DD/MM/YYYY")),l.a.createElement("td",{className:"font-weight-bold ".concat("Rejet\xe9"===s?"red-text animated infinite flash":"D\xe9charge"===s?"blue-text":"Envoie"===s?"green-text":"")},s),l.a.createElement("td",null,u),l.a.createElement("td",null,Ee(m)),l.a.createElement("td",null,Ee(d)),l.a.createElement("td",null,Ee(f)))})))))),l.a.createElement(z.a,{TransitionComponent:Ua,open:Me,onClose:pt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau bordereau")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList",options:He,onChange:function(e,t){t&&function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{nomassurance:e}))}(t.label),t&&""!==dt.typeSejour.trim()&&""!==dt.nomgarant.trim()&&i(Object(h.a)(Object(h.a)({},dt),{},{nomassurance:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 mx-2",options:He,onChange:function(e,t){t&&function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{nomgarant:e}))}(t.label),t&&""!==dt.typeSejour.trim()&&""!==dt.nomassurance.trim()&&i(Object(h.a)(Object(h.a)({},dt),{},{nomgarant:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",onChange:function(e){var t=e.target.value;!function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{typeSejour:e}))}(t),""!==dt.nomassurance.trim()&&""!==dt.nomgarant.trim()&&i(Object(h.a)(Object(h.a)({},dt),{},{typeSejour:t}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Du",id:"datedebut",value:dt.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{debutDate:e,debutDateString:Z()(e.toString()).format("YYYY-MM-DD")}))}(e),i(Object(h.a)(Object(h.a)({},dt),{},{debutDate:e,debutDateString:Z()(e.toString()).format("YYYY-MM-DD")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Au",id:"datefin",value:dt.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{finDate:e,finDateString:Z()(e.toString()).format("YYYY-MM-DD")}))}(e),i(Object(h.a)(Object(h.a)({},dt),{},{finDate:e,finDateString:Z()(e.toString()).format("YYYY-MM-DD")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:Et.theme.secondaryDark}},["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)}))),l.a.createElement("tbody",null,p.filter((function(e){return"valide"===e.statutfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,E=e.montanttotalfacture,h=e.partassurancefacture,y=e.resteassurancefacture,v=e.partpatientfacture,j=e.typesejour;return l.a.createElement("tr",{key:t,className:b.includes(a)?"bgcolor-primary font-weight-bold white-text":"",style:{cursor:"pointer"},onClick:function(){b.includes(a)?(b.splice(b.indexOf(a),1),T(Object(g.a)(b)),Oe(!1)):([].concat(Object(g.a)(b),[a]).length===p.filter((function(e){return"valide"===e.statutfacture})).length&&Oe(!0),T([].concat(Object(g.a)(b),[a])))}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},j),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(y)),l.a.createElement("td",{className:"text-right"},Ee(v)))})))),0!==p.filter((function(e){return"valide"===e.statutfacture})).length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:function(){xe?(T([]),Oe(!1)):(T(p.filter((function(e){return"valide"===e.statutfacture})).map((function(e){return e.numerofacture}))),Oe(!0))},style:{display:"inline"}},l.a.createElement(j.a,{className:"mr-2 ".concat(xe?"bgcolor-secondaryDark text-white font-weight-bold":""),style:{cursor:"pointer"},label:"Tous selectionner"})),l.a.createElement(j.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Et.theme.primary}}," ",b.length," ")}),l.a.createElement("div",{className:"col-12 p-0 mt-2 justify-content-end d-flex"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{id:"datelimite",label:"Date limite de depot",inputVariant:"filled",value:dt.limiteDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ft(Object(h.a)(Object(h.a)({},dt),{},{limiteDate:e,limiteDateString:Z()(e.toString()).format("YYYY-MM-DD")}))}(e)}}))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",onClick:pt,startIcon:l.a.createElement(Ke.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",onClick:function(){var e=p.filter((function(e){return"valide"===e.statutfacture})).filter((function(e){return b.includes(e.numerofacture)}));0!==e.length?d(Object(h.a)(Object(h.a)({},dt),{},{montanttotal:e.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})),partAssurance:e.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})),partPatient:e.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})),factures:b})):d(Object(h.a)(Object(h.a)({},dt),{},{montanttotal:0,partAssurance:0,partPatient:0,factures:b})),pt()},disabled:0===b.length,startIcon:l.a.createElement(La.a,null),style:{textTransform:"none",backgroundColor:Et.theme.primary,color:"white",fontSize:"12px"}},"Generer le bordereau"))),l.a.createElement(z.a,{open:B,TransitionComponent:Ua,onClose:function(){_(!1),qe(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"lg",onEntered:function(){et(A[0].statutbordereau)}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Bordereau N\xb0 ",A[0].numerobordereau),l.a.createElement("br",null),""!==(null===(t=A[0].commentairebordereau)||void 0===t?void 0:t.trim())&&l.a.createElement("small",null,'"',A[0].commentairebordereau,'"')),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-auto p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Bordereau : "),A[0].numerobordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),A[0].typesejourbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de creation : "),A[0].datecreationbordereau," ",A[0].heurecreationbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date limite d'envoi : "),A[0].datelimitebordereau),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-auto"},""!==A[0].gestionnairebordereau&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",A[0].gestionnairebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",A[0].organismebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(A.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Statut : ")," ",A[0].statutbordereau),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row d-flex justify-content-between mt-3"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:fe,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");pe(t)}}),l.a.createElement(j.a,{className:"ml-2",label:"Facture(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Et.theme.primary}},A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerobordereau)})).length)}),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",className:"text-white",startIcon:l.a.createElement(Re.a,null),style:{textTransform:"none",fontSize:"12px",backgroundColor:Et.theme.primary},onClick:function(){Le(!0)}},"Modifier")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:Et.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,i=e.numeropec,s=e.assureprinc,u=e.taux,m=e.datefacture,d=e.heurefacture,f=e.nompatient,p=e.prenomspatient,b=e.montanttotalfacture,E=e.partassurancefacture,g=e.resteassurancefacture,h=e.partpatientfacture,y=e.typesejour,v=e.erreurfacture,j=e.commentairefacture;return l.a.createElement("tr",{key:a,title:j,style:{cursor:"pointer"},className:"warning"===v?"bg-warning":"",onClick:function(){""===v.trim()?P(a):o(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,m),l.a.createElement("td",null,d),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},y),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},u,"%"),l.a.createElement("td",{className:"font-weight-bold"},f," ",p),l.a.createElement("td",{className:"font-weight-bold"},s),l.a.createElement("td",{className:"text-right"},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(g)),l.a.createElement("td",{className:"text-right"},Ee(h)))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:11}),l.a.createElement("td",{className:"text-white font-weight-bold bgcolor-primary"},"TOTAL : "),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).length&&Ee(A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).length&&Ee(A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).length&&Ee(A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).map((function(e){return e.resteassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).length&&Ee(A.filter((function(e){return""===fe.trim()||RegExp(fe,"i").test(e.numerofacture)})).map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t}))))))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center mt-4"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles")),l.a.createElement("div",{onClick:function(){return qe(!Ve)},style:{display:"inline"}},l.a.createElement(j.a,{className:"mr-2 ".concat(Ve?"bgcolor-secondaryDark text-white font-weight-bold":""),style:{cursor:"pointer"},label:"Factures CIE/SODECI"})))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",disabled:0===A.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"===A[0].statutbordereau||0!==A.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"!==A[0].statutbordereau,startIcon:l.a.createElement(Ke.a,null),onClick:function(){_(!1),qe(!1)},style:{textTransform:"none",fontSize:"12px"}},"Fermer"),0===A.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"!==A[0].statutbordereau&&l.a.createElement(Ea,{showPDF:function(e){Fe(e),Ce(!0)},bordereau:A,cie:Ve}),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white ml-3",startIcon:l.a.createElement(I.a,null),onClick:function(){le({numerobordereau:A[0].numerobordereau,factures:A.map((function(e){return e.numerofacture}))})},style:{textTransform:"none",fontSize:"12px"}},"Supprimer"))),l.a.createElement(z.a,{open:we,onClose:function(){return Ce(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:Va},l.a.createElement("object",{data:ke,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(z.a,{open:L,onClose:function(){U(!1),it({erreur:"",comment:""})},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return it({erreur:K.erreurfacture,comment:K.commentairefacture})},maxWidth:"xs",transitionDuration:0},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",K.numerofacture)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),K.nompatient," "," ",K.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),K.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),K.datefacture," ",K.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==K.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(K.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",Ee(K.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(v.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",defaultValue:K.commentairefacture,onChange:function(e){var t=e.target.value;it(Object(h.a)(Object(h.a)({},ot),{},{comment:t}))}})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){U(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(I.a,null),disabled:""===ot.comment.trim(),onClick:function(){re(K.numerofacture,Object(h.a)(Object(h.a)({},ot),{},{erreur:"refuse"}))},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-warning",startIcon:l.a.createElement(Re.a,null),disabled:""===ot.comment.trim(),onClick:function(){re(K.numerofacture,Object(h.a)(Object(h.a)({},ot),{},{erreur:"warning"}))},style:{textTransform:"none",fontSize:"12px"}},"Signaler"))),l.a.createElement(z.a,{open:ee,onClose:function(){te(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return rt({gestionnaire:K.gestionnaire,organisme:K.organisme,beneficiaire:K.beneficiaire,matriculeAssure:K.matriculeassure,assurePrinc:K.assureprinc,numeroPEC:K.numeropec,taux:K.taux})},maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",K.numerofacture)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),K.nompatient," "," ",K.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),K.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),K.datefacture," ",K.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==K.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(K.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",Ee(K.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row mx-1 my-3 bg-warning p-2"},l.a.createElement("pre",null,K.commentairefacture)),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"assurancesList",disabled:!0,options:He,defaultValue:{value:K.idassurance,label:K.gestionnaire},onChange:function(e,t){!function(e){rt(Object(h.a)(Object(h.a)({},nt),{},{gestionnaire:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"outlined",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",disabled:!0,className:"col p-0 ml-2",id:"assurancesList",defaultValue:{value:K.idassurance,label:K.organisme},options:He,onChange:function(e,t){!function(e){rt(Object(h.a)(Object(h.a)({},nt),{},{organisme:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"outlined",label:"Organisme",placeholder:"Ajouter ..."}))}})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(N.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;rt(Object(h.a)(Object(h.a)({},nt),{},{beneficiaire:t}))},defaultValue:K.beneficiaire,style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(Ga,(a={className:"col-7 ml-2",variant:"outlined",size:"small",defaultValue:" ",label:"Identit\xe9 de l'Assur\xe9"},Object(E.a)(a,"defaultValue",K.assureprinc),Object(E.a)(a,"onChange",(function(e){var t=e.target.value;rt(Object(h.a)(Object(h.a)({},nt),{},{assurePrinc:t}))})),a))),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(Ga,{className:"col-4",variant:"outlined",size:"small",label:"Matricule",defaultValue:K.matriculeassure,onChange:function(e){var t=e.target.value;rt(Object(h.a)(Object(h.a)({},nt),{},{matriculeAssure:t}))}}),l.a.createElement(Ga,{className:"col-4 mx-2",variant:"outlined",size:"small",label:"N\xb0 PEC",defaultValue:K.numeropec,onChange:function(e){var t=e.target.value;rt(Object(h.a)(Object(h.a)({},nt),{},{numeroPEC:t}))}}),l.a.createElement(N.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"Taux"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"Taux",defaultValue:K.taux,onChange:function(e){var t=e.target.value;rt(Object(h.a)(Object(h.a)({},nt),{},{taux:t}))},style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){te(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(I.a,null),onClick:function(){re(K.numerofacture,Object(h.a)(Object(h.a)({},ot),{},{erreur:"refuse"}))},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(O.a,(c={variant:"contained",className:"mb-2",onClick:function(){},startIcon:l.a.createElement(Re.a,null)},Object(E.a)(c,"onClick",(function(){u(K.numerosejour,nt)})),Object(E.a)(c,"style",{textTransform:"none",backgroundColor:Et.theme.primary,color:"white",fontSize:"12px"}),c),"Valider la modification"))),l.a.createElement(z.a,{open:_e,onClose:function(){Le(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",transitionDuration:0},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Modification de bordereau")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement(N.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(S.a,{id:"statutbordereau-label"},"Statut du bordereau  "),l.a.createElement(w.a,{labelId:"statutbordereau-label",id:"statutbordereau",defaultValue:A[0].statutbordereau,onChange:function(e){var t=e.target.value;et(t)},label:"Statut du bordereau ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Envoie"},"Envoie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"D\xe9charge"},"D\xe9charge r\xe9\xe7ue"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Rejet\xe9"},"Rejet\xe9")))),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(v.a,{style:{fontSize:"12px"},className:"col ",variant:"outlined",size:"small",label:"Commentaire",defaultValue:A[0].commentairebordereau,onChange:function(e){var t=e.target.value;ye(t)}}))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(Ke.a,null),onClick:function(){Le(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"text-white",startIcon:l.a.createElement(Y.a,null),style:{textTransform:"none",fontSize:"12px",backgroundColor:Et.theme.primary},onClick:function(){Q({statut:$e,commentaire:he},A[0].numerobordereau),Le(!1)}},"Valider"))),l.a.createElement(st.a,{open:V,onClose:function(){return H(!1)}},l.a.createElement(qa,{variant:"standard",severity:"info"},"Chargement ...")))}));fe.c.register({family:"Regular",src:"".concat($.a.local,"/font.ttf")}),fe.c.register({family:"Roboto-Bold",src:"".concat($.a.local,"/fonts/Roboto-Bold.ttf")}),fe.c.register({family:"Roboto-Light",src:"".concat($.a.local,"/fonts/Roboto-Light.ttf")});var Ha=function(e){e.etablissement;return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",paddingBottom:8,padding:20,flexDirection:"row"}},l.a.createElement(fe.h,{style:{flex:2}},l.a.createElement(fe.d,{src:ue.a,style:{height:"2cm",width:"3cm"}})),l.a.createElement(fe.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(fe.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(fe.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(fe.g,null,"Abidjan BP 05 789"),l.a.createElement(fe.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(fe.g,null,"Email : info@altea-ci.com"))))},Ka=function(){return l.a.createElement(fe.h,{style:{flex:"auto",display:"flex",flexDirection:"row",alignItems:"center"}},l.a.createElement(fe.h,{style:{flex:"auto",fontSize:7,paddingLeft:5,color:"grey",lineHeight:1.5}},l.a.createElement(fe.g,null,"Fait \xe0 Abidjan le 25 juin 2019"),l.a.createElement(fe.g,null,"par Audrey Bogui"),l.a.createElement(fe.g,null,"Email : info@altea-ci.com"),l.a.createElement(fe.g,null,"Site web : www.altea.ci")))},Ja=function(e){var t=e.facture;return l.a.createElement(fe.b,null,l.a.createElement(fe.e,{size:"A4",style:{padding:0,display:"flex",flexDirection:"column"}},l.a.createElement(Ha,null),l.a.createElement(fe.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Xa.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:17})},"Liste des factures non re\xe7ues"),l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},Xa.content),{},{fontSize:9})},l.a.createElement(fe.g,{style:{textAlign:"center"}},"Veuillez trouver ci-dessous les factures dont la reception n'a pas \xe9t\xe9 effectu\xe9e.")),l.a.createElement(fe.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},Xa.content),{},{flex:1,display:"flex",flexDirection:"column"})},l.a.createElement(fe.h,{style:Object(h.a)(Object(h.a)({},Xa.l),{},{justifyContent:"space-between",flexFlow:"row wrap",alignItems:"stretch"})},l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Date"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.datefacture)}))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"N\xb0 Facture"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.numerofacture)}))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"N\xb0 PEC"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.numeropec)}))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Matricule"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.matriculeassure)}))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Patient"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.nompatient," ",e.prenomspatient)}))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Assur\xe9 Princ"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.assureprinc)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Xa.line),{},{fontFamily:"Roboto-Bold",borderRight:"none"})},"TOTAL")),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Montant Total"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.montanttotalfacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Xa.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Net \xe0 payer"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.partassurancefacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Xa.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement(fe.h,{style:Xa.column},l.a.createElement(fe.g,{style:Xa.tr},"Part Patient"),t.map((function(e,t){return l.a.createElement(fe.g,{key:t,style:Object(h.a)({},Xa.line)},e.partpatientfacture)})),l.a.createElement(fe.g,{style:Object(h.a)(Object(h.a)({},Xa.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})))))))),l.a.createElement(Ka,null)))},Xa=fe.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.5},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.5,paddingTop:7}}),Qa=function(e){e.code;var t=e.facture,a=e.showPDF;return l.a.createElement("div",{className:"row"},l.a.createElement(fe.a,{document:l.a.createElement(Ja,{facture:t}),fileName:"somename.pdf"},(function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?l.a.createElement("small",null,"..."):l.a.createElement("div",{className:"pr-4"},l.a.createElement(O.a,{variant:"contained",onClick:function(){return a(t)},startIcon:l.a.createElement(be.a,null),className:"bg-danger text-white ",style:{textTransform:"none",fontSize:"13px"}},"Imprimer les factures non re\xe7ues"))})))},Za=a(417),$a=a.n(Za),en=l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))})),tn=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a);function an(e){return l.a.createElement("div",Object.assign({className:"row"},e))}var nn=Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesRecues:t.listFacturesRecues,listFactures:t.listFactures,showDetailsFacture:t.showDetailsFacture,currentFacture:t.currentFacture,loading:t.loading}}),{thunkSendFacturesRecues:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/add/factures_recues"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(Da()),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFactures:Da,thunkAddBordereau:za,thunkListFacturesByAssurances:wa,thunkDetailsFacture:Aa,thunkDeleteFacturesRecues:Ca,thunkModifyFacture:Ma,setListFacturesRecues:function(e){return{type:"SET_LIST_FACTURES_RECUES",listFacturesRecues:e}},setListFacturesByAssurance:va,setShowDetailsFacture:Oa,setLoading:Sa})((function(e){var t,a,c=e.thunkListFacturesByAssurances,o=e.thunkSendFacturesRecues,i=e.thunkListFactures,u=e.thunkDeleteFacturesRecues,m=e.thunkModifyFacture,d=e.listFactures,f=e.currentFacture,p=e.listFacturesByAssurance,b=e.listFacturesRecues,T=e.setListFacturesRecues,A=e.showDetailsFacture,R=e.thunkDetailsFacture,P=e.setShowDetailsFacture,B=e.setLoading,_=e.loading,L=e.setListFacturesByAssurance,Y=Object(r.useContext)(s.b),U=Object(r.useState)(""),V=Object(n.a)(U,2),H=V[0],K=V[1],Q=Object(r.useState)(""),ee=Object(n.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(!1),re=Object(n.a)(ne,2),le=re[0],ce=re[1],oe=Object(r.useState)([]),ie=Object(n.a)(oe,2),se=ie[0],ue=ie[1],me=Object(r.useState)(!1),de=Object(n.a)(me,2),fe=de[0],pe=de[1],be=Object(r.useState)(!1),ge=Object(n.a)(be,2),he=ge[0],ye=ge[1],ve=Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""}),je=Object(n.a)(ve,2),xe=je[0],Oe=je[1],Ne=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:Z()("2020-01-01").format("DD-MM-YYYY"),finDateString:Z()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),Se=Object(n.a)(Ne,2),we=Se[0],Ce=Se[1],Te=function(){ce(!1),Ce({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:Z()("2020-01-01").format("DD-MM-YYYY"),finDateString:Z()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),T([]),L([]),ae(!1)};var ze=["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"];return Object(r.useEffect)((function(){i(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),ue(a)}))}),[]),Object(r.useEffect)((function(){ae(!1)}),[p]),Object(r.useEffect)((function(){T([])}),[we.nomassurance,we.typeSejour,we.nomgarant,we.debutDate,we.finDate]),l.a.createElement("div",{className:"FacturesRecues row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:H,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");K(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Facture(s) recue(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Y.theme.primary}},d.filter((function(e){return"recu"===e.statutfacture||"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===H.trim()||RegExp(H,"i").test(e.numerofacture)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{size:"small",variant:"contained",onClick:function(){return ce(!0)},startIcon:l.a.createElement(M.a,null),style:{textTransform:"none",backgroundColor:Y.theme.primary,color:"white",fontSize:"12px"}},"Nouvelles factures re\xe7ues")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:Y.theme.secondaryDark}},l.a.createElement("tr",null,ze.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,d.filter((function(e){return"recu"===e.statutfacture||"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===H.trim()||RegExp(H,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.statutfacture,v=e.erreurfacture,j=e.commentairefacture;return l.a.createElement("tr",{title:j,key:t,className:"warning"===v?"bg-warning":"refuse"===v?"bg-danger text-white":"",style:{cursor:"recu"===y?"pointer":"default"},onClick:function(){"recu"===y&&R(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(E)),l.a.createElement("td",{className:"text-right"},Ee(g)))})))),l.a.createElement(z.a,{TransitionComponent:en,open:le,disableBackdropClick:!0,onClose:Te,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:350,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg",onEnter:function(){c(we)}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter des factures recues")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList1",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(se)),onChange:function(e,t){t&&function(e){Ce(Object(h.a)(Object(h.a)({},we),{},{nomassurance:e}))}(t.label),t&&""!==we.typeSejour.trim()&&""!==we.nomgarant.trim()&&c(Object(h.a)(Object(h.a)({},we),{},{nomassurance:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",id:"AssuranceList2",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(se)),onChange:function(e,t){t&&function(e){Ce(Object(h.a)(Object(h.a)({},we),{},{nomgarant:e}))}(t.label),t&&""!==we.typeSejour.trim()&&""!==we.nomassurance.trim()&&c(Object(h.a)(Object(h.a)({},we),{},{nomgarant:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{defaultValue:"Tous",labelId:"typesejour-label",id:"typesejour",onChange:function(e){var t=e.target.value;!function(e){Ce(Object(h.a)(Object(h.a)({},we),{},{typeSejour:e}))}(t),""!==we.nomassurance.trim()&&""!==we.nomgarant.trim()&&c(Object(h.a)(Object(h.a)({},we),{},{typeSejour:t}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Du",id:"datedebut",value:we.debutDate,defaultValue:new Date("2020-01-01"),format:"dd/MM/yyyy",onChange:function(e){!function(e){Ce(Object(h.a)(Object(h.a)({},we),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),c(Object(h.a)(Object(h.a)({},we),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Au",id:"datefin",value:we.finDate,defaultValue:new Date("2020-12-31"),format:"dd/MM/yyyy",onChange:function(e){!function(e){Ce(Object(h.a)(Object(h.a)({},we),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),c(Object(h.a)(Object(h.a)({},we),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:Y.theme.secondaryDark}},l.a.createElement("tr",null,ze.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,p.filter((function(e){return"attente"===e.statutfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,E=e.montanttotalfacture,h=e.partassurancefacture,y=e.resteassurancefacture,v=e.partpatientfacture,j=e.typesejour;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},className:b.includes(a)?"bgcolor-primary white-text":"",onClick:function(){b.includes(a)?(b.splice(b.indexOf(a),1),T(Object(g.a)(b)),ae(!1)):([].concat(Object(g.a)(b),[a]).length===p.filter((function(e){return"attente"===e.statutfacture})).length&&ae(!0),T([].concat(Object(g.a)(b),[a])))}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},j),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(y)),l.a.createElement("td",{className:"text-right"},Ee(v)))})))),0!==p.filter((function(e){return"attente"===e.statutfacture})).length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:function(){te?(T([]),ae(!1)):(T(p.filter((function(e){return"attente"===e.statutfacture})).map((function(e){return e.numerofacture}))),ae(!0))},style:{display:"inline"}},l.a.createElement(j.a,{className:"mr-2 ".concat(te?"bgcolor-secondaryDark text-white":""),style:{cursor:"pointer"},label:"Tous selectionner"})),l.a.createElement(j.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Y.theme.primary}},b.length,"/",p.filter((function(e){return"attente"===e.statutfacture})).length)}))),l.a.createElement(k.a,null,0!==p.filter((function(e){return"attente"===e.statutfacture&&!b.includes(e.numerofacture)})).length&&l.a.createElement(Qa,{showPDF:function(e){ye(e),pe(!0)},code:"edy koffi",facture:d.filter((function(e){return"attente"===e.statutfacture&&!b.includes(e.numerofacture)}))}),l.a.createElement(O.a,{variant:"contained",onClick:Te,startIcon:l.a.createElement(Ke.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",onClick:function(){o(b),Te()},disabled:0===b.length,startIcon:l.a.createElement($a.a,null),style:{textTransform:"none",backgroundColor:Y.theme.primary,color:"white",fontSize:"12px"}},"Valider"))),l.a.createElement(z.a,{open:A,onClose:function(){P(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,onEntered:function(){return Oe({gestionnaire:f.gestionnaire,organisme:f.organisme,beneficiaire:f.beneficiaire,matriculeAssure:f.matriculeassure,assurePrinc:f.assureprinc,numeroPEC:f.numeropec,taux:f.taux})},maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",f.numerofacture)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),f.nompatient," "," ",f.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),f.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),f.datefacture," ",f.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==f.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(f.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",Ee(f.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),f.commentairefacture&&""!==f.commentairefacture.trim()&&l.a.createElement("div",{className:"row mx-1 my-3 bg-danger p-2"},l.a.createElement("pre",{className:"text-white"},f.commentairefacture)),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"assurancesList1",options:se,defaultValue:{value:f.idassurance,label:f.gestionnaire},onChange:function(e,t){!function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{gestionnaire:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 ml-2",id:"assurancesList2",defaultValue:{value:f.idassurance,label:f.organisme},options:se,onChange:function(e,t){!function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{organisme:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Organisme",placeholder:"Ajouter ..."}))}})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;Oe(Object(h.a)(Object(h.a)({},xe),{},{beneficiaire:t}))},defaultValue:f.beneficiaire,style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(tn,(t={className:"col-7 ml-2",variant:"filled",size:"small",defaultValue:" ",label:"Identit\xe9 de l'Assur\xe9"},Object(E.a)(t,"defaultValue",f.assureprinc),Object(E.a)(t,"onChange",(function(e){var t=e.target.value;Oe(Object(h.a)(Object(h.a)({},xe),{},{assurePrinc:t}))})),t))),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(tn,{className:"col-4",variant:"filled",size:"small",label:"Matricule",defaultValue:f.matriculeassure,onChange:function(e){var t=e.target.value;Oe(Object(h.a)(Object(h.a)({},xe),{},{matriculeAssure:t}))}}),l.a.createElement(tn,{className:"col-4 mx-2",variant:"filled",size:"small",label:"N\xb0 PEC",defaultValue:f.numeropec,onChange:function(e){var t=e.target.value;Oe(Object(h.a)(Object(h.a)({},xe),{},{numeroPEC:t}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"Taux"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"Taux",defaultValue:f.taux,onChange:function(e){var t=e.target.value;Oe(Object(h.a)(Object(h.a)({},xe),{},{taux:t}))},style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){P(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(I.a,null),onClick:function(){u(f.numerofacture)},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(O.a,(a={variant:"contained",className:"mb-2",onClick:function(){},startIcon:l.a.createElement(Re.a,null)},Object(E.a)(a,"onClick",(function(){m(f.numerosejour,xe)})),Object(E.a)(a,"style",{textTransform:"none",backgroundColor:Y.theme.primary,color:"white",fontSize:"12px"}),a),"Valider la modification"))),l.a.createElement(z.a,{open:fe,onClose:function(){return pe(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:an},l.a.createElement("object",{data:he,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(st.a,{open:_,onClose:function(){return B(!1)}},l.a.createElement(ut.a,{variant:"standard",severity:"info"},"Chargement ...")))})),rn=a(786),ln=a(791),cn=l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))})),on=[{id:"listeAssurances",Component:ma},{id:"bordereaux",Component:Wa},{id:"facturesRecues",Component:nn},{id:"facturesValides",Component:Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,loading:t.loading,showCommentFacture:t.showCommentFacture}}),{thunkSendFacturesValides:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Sa(!0)),J()({method:"POST",url:"".concat($.a.url,"/gap/add/factures_valides"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(Da()),a(Sa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFactures:Da,thunkAddBordereau:za,thunkListFacturesByAssurances:wa,thunkDeleteFacturesValides:Ta,setListFacturesValides:ja,thunkReportFacture:Pa,setListFacturesByAssurance:va,setShowCommentFacture:Na,setShowDetailsFacture:Oa,thunkDetailsFacture:Aa,setLoading:Sa,thunkCommentFacture:Ra})((function(e){var t=e.thunkListFacturesByAssurances,a=e.thunkListFactures,c=e.thunkSendFacturesValides,o=e.thunkDeleteFacturesValides,i=e.listFactures,u=e.listFacturesByAssurance,m=e.listFacturesValides,d=e.setListFacturesValides,f=e.currentFacture,p=e.showDetailsFacture,b=e.thunkDetailsFacture,E=e.setShowDetailsFacture,T=e.setLoading,A=e.loading,R=e.setListFacturesByAssurance,M=e.setShowCommentFacture,P=e.showCommentFacture,B=e.thunkCommentFacture,_=e.thunkReportFacture,L=Object(r.useState)(""),Y=Object(n.a)(L,2),U=Y[0],V=Y[1],H=Object(r.useState)(!1),K=Object(n.a)(H,2),Q=K[0],ee=K[1],te=Object(r.useState)([]),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],le=Object(r.useState)({erreur:"",comment:""}),ce=Object(n.a)(le,2),oe=ce[0],ie=ce[1],se=Object(r.useState)({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1}),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],fe=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:Z()("2020-01-01").format("DD-MM-YYYY"),finDateString:Z()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),pe=Object(n.a)(fe,2),be=pe[0],ge=pe[1],he=function(){ee(!1),ge({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:Z()("2020-01-01").format("DD-MM-YYYY"),finDateString:Z()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),d([]),R([])};var ye=["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"],ve=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){a(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),re([{value:"Tous",label:"Tous"}].concat(a))}))}),[]),Object(r.useEffect)((function(){d([])}),[be.nomassurance,be.typeSejour,be.nomgarant,be.debutDate,be.finDate]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:U,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");V(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Facture(s) valide(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:ve.theme.primary}},i.filter((function(e){return"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",onClick:function(){return ee(!0)},startIcon:l.a.createElement($a.a,null),style:{textTransform:"none",backgroundColor:ve.theme.primary,color:"white",fontSize:"12px"}},"Valider des factures")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:ve.theme.secondaryDark}},l.a.createElement("tr",null,ye.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,i.filter((function(e){return"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,E=e.partassurancefacture,g=e.resteassurancefacture,h=e.partpatientfacture,y=e.typesejour,v=e.statutfacture,j=e.erreurfacture,x=e.commentairefacture;return l.a.createElement("tr",{title:x,key:t,className:"warning"===j?"bg-warning":"refuse"===j?"bg-danger text-white":"",style:{cursor:"valide"===v?"pointer":"default"},onClick:function(){return"valide"===v?b(a):null}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},y),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(g)),l.a.createElement("td",{className:"text-right"},Ee(h)))})))),l.a.createElement(z.a,{TransitionComponent:cn,open:Q,onClose:he,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0,transitionDuration:350,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg",onEntering:function(){t(be)}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Valider les factures conformes")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList",defaultValue:{value:"Tous",label:"Tous"},options:ne,onChange:function(e,a){a&&function(e){ge(Object(h.a)(Object(h.a)({},be),{},{nomassurance:e}))}(a.label),a&&""!==be.typeSejour.trim()&&""!==be.nomgarant.trim()&&t(Object(h.a)(Object(h.a)({},be),{},{nomassurance:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:ne,onChange:function(e,a){a&&function(e){ge(Object(h.a)(Object(h.a)({},be),{},{nomgarant:e}))}(a.label),a&&""!==be.typeSejour.trim()&&""!==be.nomassurance.trim()&&t(Object(h.a)(Object(h.a)({},be),{},{nomgarant:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){var a=e.target.value;!function(e){ge(Object(h.a)(Object(h.a)({},be),{},{typeSejour:e}))}(a),""!==be.nomassurance.trim()&&""!==be.nomgarant.trim()&&t(Object(h.a)(Object(h.a)({},be),{},{typeSejour:a}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Du",id:"datedebut",defaultValue:new Date("2020-01-01"),value:be.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ge(Object(h.a)(Object(h.a)({},be),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(h.a)(Object(h.a)({},be),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{label:"Au",id:"datefin",defaultValue:new Date("2020-12-31"),value:be.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ge(Object(h.a)(Object(h.a)({},be),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(h.a)(Object(h.a)({},be),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:ve.theme.secondaryDark}},l.a.createElement("tr",null,ye.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,f=e.heurefacture,p=e.nompatient,b=e.prenomspatient,E=e.montanttotalfacture,h=e.partassurancefacture,y=e.resteassurancefacture,v=e.partpatientfacture,j=e.typesejour;e.erreurfacture,e.statutfacture;return l.a.createElement("tr",{key:t,className:m.includes(a)?"bgcolor-primary font-weight-bold white-text":"",style:{cursor:"pointer"},onClick:function(){m.includes(a)?(m.splice(m.indexOf(a),1),d(Object(g.a)(m))):B(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,f),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},j),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},p," ",b),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(y)),l.a.createElement("td",{className:"text-right"},Ee(v)))})))),0!==u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).length&&l.a.createElement(j.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:ve.theme.primary}},m.length,"/",u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).length," ")})),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",onClick:he,startIcon:l.a.createElement(Ke.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",onClick:function(){c(m),he()},disabled:0===m.length,startIcon:l.a.createElement($a.a,null),style:{textTransform:"none",backgroundColor:ve.theme.primary,color:"white",fontSize:"12px"}},"Valider les factures"))),l.a.createElement(z.a,{open:p,onClose:function(){E(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",f.numerofacture)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),f.nompatient," "," ",f.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),f.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),f.datefacture," ",f.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==f.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",f.gestionnaire),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",f.organisme),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Assure princ : ")," ",f.assureprinc),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Taux : ")," ",f.taux,"%"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(f.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",Ee(f.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center mt-4"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait de la facture est une action sans confirmation et irr\xe9versibles"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){E(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(I.a,null),onClick:function(){o(f.numerofacture)},style:{textTransform:"none",fontSize:"12px"}},"Retirer"))),l.a.createElement(z.a,{open:P,onClose:function(){M(!1),ie({erreur:"",comment:""})},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return ie({erreur:f.erreurfacture,comment:f.commentairefacture})},maxWidth:"xs",transitionDuration:0},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",f.numerofacture),l.a.createElement("br",null),l.a.createElement("small",null,"Checklist de la v\xe9rification de facture")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.gestionnaire,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{gestionnaire:t}))}}),label:l.a.createElement("small",null,"Gestionnaire : ",l.a.createElement("b",null,f.gestionnaire))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.organisme,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{organisme:t}))}}),label:l.a.createElement("small",null,"Organisme : ",l.a.createElement("b",null,f.organisme))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.noBon,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{noBon:t}))}}),label:l.a.createElement("small",null,"N\xb0 de Bon : ",l.a.createElement("b",null,f.numeropec))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.assurePrinc,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{assurePrinc:t}))}}),label:l.a.createElement("small",null,"Assur\xe9 principal : ",l.a.createElement("b",null,f.assureprinc))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.montantTotal,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{montantTotal:t}))}}),label:l.a.createElement("small",null,"Montant Total : ",l.a.createElement("b",null,Ee(f.montanttotalfacture)," FCFA"))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.tauxAssurance,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{tauxAssurance:t}))}}),label:l.a.createElement("small",null,"Taux : ",l.a.createElement("b",null,f.taux,"%"))}),l.a.createElement(rn.a,{className:"col-12 p-0 m-0",control:l.a.createElement(ln.a,{checked:me.partAssurance,onChange:function(e){var t=e.target.checked;de(Object(h.a)(Object(h.a)({},me),{},{partAssurance:t}))}}),label:l.a.createElement("small",null,"Part Assurance : ",l.a.createElement("b",null,Ee(f.partassurancefacture)," FCFA"))})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(v.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",defaultValue:f.commentairefacture,onChange:function(e){var t=e.target.value;ie(Object(h.a)(Object(h.a)({},oe),{},{comment:t}))}})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Veuillez v\xe9rifier toutes les informations avant de valider la facture"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){M(!1),de({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1})},style:{textTransform:"none",fontSize:"12px"}},"Fermer"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 bg-warning",startIcon:l.a.createElement(Re.a,null),disabled:""===oe.comment.trim(),onClick:function(){_(f.numerofacture,Object(h.a)(Object(h.a)({},oe),{},{erreur:"warning"})),M(!1)},style:{textTransform:"none",fontSize:"12px"}},"Signaler"),l.a.createElement(O.a,{className:"mb-2",variant:"contained",onClick:function(){d([].concat(Object(g.a)(m),[f.numerofacture])),M(!1),de({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1})},disabled:0!==Object(g.a)(Object.keys(me)).filter((function(e){return!1===me[e]})).length,startIcon:l.a.createElement($a.a,null),style:{textTransform:"none",backgroundColor:ve.theme.secondaryDark,color:"white",fontSize:"12px"}},"Facture conforme"))),l.a.createElement(st.a,{open:A,onClose:function(){return T(!1)}},l.a.createElement(ut.a,{variant:"standard",severity:"info"},"Chargement ...")))}))}],sn={currentPage:sa[0].target||null,notification:!1},un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});default:return e}},mn=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setNotification:function(e){return{type:"SET_NOTIFICATION",notification:e}}})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage;e.setNotification,e.notification;return Object(r.useEffect)((function(){t("Assurances")})),l.a.createElement("div",{className:"Assurance row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:sa,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},on.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))))})),dn=a(720),fn=a.n(dn),pn=function(e){var t=e.sendTitle;return Object(r.useEffect)((function(){t("GAP Accueil")})),l.a.createElement("div",{className:"Accueil d-flex justify-content-center align-items-center flex-column row p-3",style:{height:"90vh"}},l.a.createElement("img",{src:fn.a,className:"col-3",style:{opacity:.9},alt:""}),l.a.createElement("h6",{className:"small bg-light p-1"},"Bienvenue sur le GAP de Winhealth"))},bn=s.a.permissions.functions.filter((function(e){return"Statistique"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),En=[{target:"bordereaux",title:"Bordereaux",icon:"action-assignment-ind"}],gn=0!==bn.length?En.filter((function(e){return bn.includes(e.target)})):En,hn=(a(418),a(419)),yn=a.n(hn),vn=a(728),jn={listFactures:[],listFacturesByAssurance:[],listFacturesRecues:[],listFacturesValides:[],listBordereaux:[],currentBordereau:[{}],currentFacture:{},showModal:!1,showDetailsFacture:!1,loading:!1,typeBordereaux:"tous"},xn=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}},On=function(e){return{type:"SET_LIST_FACTURES_BY_ASSURANCE",listFacturesByAssurance:e}},Nn=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Sn=function(e){return{type:"SET_SHOW_DETAILS_FACTURE",showDetailsFacture:e}},wn=function(e){return{type:"SET_LOADING",loading:e}};var Cn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(h.a)(Object(h.a)({},e),{},{listFactures:t.listFactures});case"SET_LIST_BORDEREAUX":return Object(h.a)(Object(h.a)({},e),{},{listBordereaux:t.listBordereaux});case"SET_TYPE_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{typeBordereaux:t.typeBordereaux});case"SET_LIST_FACTURES_BY_ASSURANCE":return Object(h.a)(Object(h.a)({},e),{},{listFacturesByAssurance:t.listFacturesByAssurance});case"SET_LIST_FACTURES_RECUES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesRecues:t.listFacturesRecues});case"SET_LIST_FACTURES_VALIDES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesValides:t.listFacturesValides});case"SET_CURRENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{currentBordereau:t.currentBordereau});case"SET_SHOW_MODAL":return Object(h.a)(Object(h.a)({},e),{},{showModal:t.showModal});case"SET_SHOW_DETAILS_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{showDetailsFacture:t.showDetailsFacture});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});default:return e}},Tn=a(259),zn=(a(189),l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))})));function kn(e){return l.a.createElement("div",Object.assign({className:"row"},e))}function Fn(e){return l.a.createElement(ut.a,Object.assign({elevation:6,variant:"filled"},e))}Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a);var Dn=[{id:"bordereaux",Component:Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentBordereau:t.currentBordereau,showModal:t.showModal,listBordereaux:t.listBordereaux,loading:t.loading,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,typeBordereaux:t.typeBordereaux}}),{thunkListBorderaux:function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_BORDEREAUX",listBordereaux:a})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},thunkListFacturesByAssurances:function(e){var t=e.nomassurance,a=e.nomgarant,n=e.debutDateString,r=e.finDateString,l=e.typeSejour;return e.statutBordereau,function(){var e=Object(ae.a)(te.a.mark((function e(c){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(wn(!0)),J()({method:"GET",url:"".concat($.a.url,"/gap/list/bordereaux/").concat(t,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(l)}).then((function(e){var t=e.data.rows;c(On(t||[])),c(wn(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setShowModal:Nn,thunkDetailsBorderau:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(wn(!0)),J()({url:"".concat($.a.url,"/gap/details/bordereau/").concat(e)}).then((function(e){var t=e.data.rows;a({type:"SET_CURRENT_BORDEREAU",currentBordereau:t}),a(wn(!1)),a(Nn(!0))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLoading:wn,thunkDetailsFacture:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(xn(t?t[0]:{})),a(Sn(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowDetailsFacture:Sn,setTypeBordereaux:function(e){return{type:"SET_TYPE_BORDEREAU",typeBordereaux:e}}})((function(e){var t=e.thunkListFacturesByAssurances,a=e.thunkListBorderaux,c=e.listBordereaux,o=e.listFacturesByAssurance,i=(e.listFacturesValides,e.setListFacturesValides,e.currentBordereau),u=e.showModal,m=e.thunkDetailsBorderau,d=e.setShowModal,f=e.loading,p=e.setLoading,b=(e.currentFacture,e.showDetailsFacture,e.setShowDetailsFacture,e.setListFacturesByAssurance,e.setTypeBordereaux,e.typeBordereaux,Object(r.useRef)(null)),E=Object(r.useRef)(null),T=Object(r.useRef)(null),A=Object(r.useState)(""),R=Object(n.a)(A,2),M=R[0],P=R[1],I=Object(r.useState)(""),B=Object(n.a)(I,2),_=B[0],L=B[1],Y=Object(r.useState)(""),U=Object(n.a)(Y,2),V=(U[0],U[1],Object(r.useState)(!1)),H=Object(n.a)(V,2),K=H[0],Q=H[1],ee=Object(r.useState)(!1),te=Object(n.a)(ee,2),ae=te[0],ne=(te[1],Object(r.useState)(!1)),re=Object(n.a)(ne,2),le=(re[0],re[1],Object(r.useState)([])),ce=Object(n.a)(le,2),oe=ce[0],ie=ce[1],se=Object(r.useState)(null),ue=Object(n.a)(se,2),me=(ue[0],ue[1]),de=Object(r.useState)(null),fe=Object(n.a)(de,2),pe=fe[0],be=fe[1],ge=Object(r.useState)(null),he=Object(n.a)(ge,2),ye=he[0],ve=he[1],je=Object(r.useState)(null),xe=Object(n.a)(je,2),Oe=xe[0],Ne=xe[1],Se=(Object(Tn.useSpeechSynthesis)().speak,Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""})),we=Object(n.a)(Se,2),Ce=(we[0],we[1],Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",statutBordereau:"tous",debutDateString:Z()("01/01/2020").format("DD-MM-YYYY"),finDateString:Z()("12/31/2020").format("DD-MM-YYYY"),debutDate:new Date("01/01/2020"),finDate:new Date("12/31/2020")})),Te=Object(n.a)(Ce,2),ze=Te[0],ke=Te[1];function Fe(e){switch(e){case"tous":return["Cr\xe9ation","Rejet\xe9","Valid\xe9","D\xe9charge","Envoie"];case"creation":return["Cr\xe9ation"];case"rejete":return["Rejet\xe9"];case"decharge":return["D\xe9charge"];case"envoie":return["Envoie"]}}var De=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){t(ze),a(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),ie(a)}))}),[]),Object(r.useEffect)((function(){p(!1)}),[ze.nomassurance,ze.typeSejour]),Object(r.useEffect)((function(){var e=E.current.getContext("2d"),t=b.current.getContext("2d"),a=T.current.getContext("2d");null!==Oe&&Oe.destroy(),Ne(new yn.a(t,{type:"bar",data:{labels:["Consultation","Hospitalisation","Urgence","Biologie","Imagerie","Soins"],datasets:oe.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){return{label:e.label,data:[c.filter((function(t){return t.gestionnairebordereau===e.label&&"Consultation"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Hospitalisation"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Urgence"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Biologie"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Imagerie"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Soins"===t.typesejourbordereau})).length],borderColor:"transparent",backgroundColor:vn.a[t]}}))},options:{}})),null!==pe&&pe.destroy(),be(new yn.a(a,{type:"doughnut",data:{labels:["Envoy\xe9","D\xe9charge","Rejet\xe9","Encaiss\xe9"],datasets:[{data:[c.filter((function(e){return"Envoie"===e.statutbordereau})).length,c.filter((function(e){return"D\xe9charge"===e.statutbordereau})).length,c.filter((function(e){return"Rejet\xe9"===e.statutbordereau})).length,c.filter((function(e){return"Encaisse"===e.statutbordereau})).length],backgroundColor:[vn.a[0],vn.a[1],vn.a[3],vn.a[2]],borderWidth:0}]},options:{}})),null!==ye&&ye.destroy(),ve(new yn.a(e,{type:"horizontalBar",data:{labels:["Encaiss\xe9","Rejet\xe9","D\xe9charge","Envoy\xe9"],datasets:oe.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){return{label:e.label,data:[c.filter((function(t){return t.gestionnairebordereau===e.label&&"Encaiss\xe9"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Rejet\xe9"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"D\xe9charge"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Envoie"===t.statutbordereau})).length],borderColor:"transparent",backgroundColor:vn.a[t]}}))},options:{}}))}),[c,oe]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(oe)),onChange:function(e,a){a&&function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{nomassurance:e}))}(a.label),a&&""!==ze.typeSejour.trim()&&""!==ze.nomgarant.trim()&&t(Object(h.a)(Object(h.a)({},ze),{},{nomassurance:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(oe)),onChange:function(e,a){a&&function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{nomgarant:e}))}(a.label),a&&""!==ze.typeSejour.trim()&&""!==ze.nomassurance.trim()&&t(Object(h.a)(Object(h.a)({},ze),{},{nomgarant:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){var a=e.target.value;!function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{typeSejour:e}))}(a),""!==ze.nomassurance.trim()&&""!==ze.nomgarant.trim()&&t(Object(h.a)(Object(h.a)({},ze),{},{typeSejour:a}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(S.a,{id:"statutbordereau-label"},"Statut du borderau"),l.a.createElement(w.a,{labelId:"statutbordereau-label",id:"statutbordereau",defaultValue:ze.statutBordereau,onChange:function(e){var t=e.target.value;""!==ze.nomassurance.trim()&&""!==ze.nomgarant.trim()&&function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{statutBordereau:e}))}(t)},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"envoie"},"Envoie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"decharge"},"D\xe9charge"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"rejete"},"Rejet"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"creation"},"Cr\xe9ation"))),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col mx-2",label:"Du",id:"datedebut",defaultValue:new Date("01/01/2020"),value:ze.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(h.a)(Object(h.a)({},ze),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}})),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col",label:"Au",id:"datefin",defaultValue:new Date("12/31/2020"),value:ze.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ke(Object(h.a)(Object(h.a)({},ze),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(h.a)(Object(h.a)({},ze),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}})))),l.a.createElement("div",{className:"col-12 mb-2 p-0 stats"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:b})),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:E})),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:T})))),l.a.createElement("table",{className:"table-sm col-12 table-hover mb-2"},l.a.createElement("thead",{style:{backgroundColor:De.theme.primary}},l.a.createElement("tr",null,["Assurance","Nombre bordereaux","Nombre Factures","Montant total","Part assurance","Pay\xe9s","Impay\xe9s"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,oe.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){var a,n,r,o,i,s,u,m;return l.a.createElement("tr",null,l.a.createElement("td",null,e.label),l.a.createElement("td",null,c.filter((function(t){return t.gestionnairebordereau===e.label})).length),l.a.createElement("td",null,null===(a=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===a||null===(n=a.map((function(e){return parseInt(e.nbfacture)})))||void 0===n?void 0:n.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(r=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===r||null===(o=r.map((function(e){return e.montanttotal})))||void 0===o?void 0:o.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(i=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===i||null===(s=i.map((function(e){return e.partassurance})))||void 0===s?void 0:s.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,"0"),l.a.createElement("td",null,null===(u=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===u||null===(m=u.map((function(e){return e.partassurance})))||void 0===m?void 0:m.reduce((function(e,t){return e+t}))))})))),l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un borderau",value:M,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");P(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Bordereau(x)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:De.theme.primary}},o.filter((function(e){return""===M.trim()||RegExp(M,"i").test(e.numerobordereau)})).filter((function(e){return Fe(ze.statutBordereau).includes(e.statutbordereau)})).length)})))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:De.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero Bordereau","Gestionnaire","Organisme","Type de sejour","Date d'envoie","Date limite","Status du bordereau","Nombre de factures","Montant total","Part Assurance","Part Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,o.filter((function(e){return""===M.trim()||RegExp(M,"i").test(e.numerobordereau)})).filter((function(e){return Fe(ze.statutBordereau).includes(e.statutbordereau)})).map((function(e,t){var a=e.numerobordereau,n=e.datecreationbordereau,r=e.gestionnairebordereau,c=e.datelimitebordereau,o=e.organismebordereau,i=e.typesejourbordereau,s=e.statutbordereau,u=e.nbfactures,d=e.montanttotal,f=e.partassurance,p=e.partpatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){m(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",null,n),l.a.createElement("td",null,c),l.a.createElement("td",{className:"font-weight-bold ".concat("Rejet\xe9"===s?"red-text animated infinite flash":"D\xe9charge"===s?"blue-text":"Envoie"===s?"green-text":"")},s),l.a.createElement("td",null,u),l.a.createElement("td",null,Ee(d)),l.a.createElement("td",null,Ee(f)),l.a.createElement("td",null,Ee(p)))})))),l.a.createElement(z.a,{TransitionComponent:zn,open:u,onClose:function(){d(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"lg",onEntered:function(){me(i[0].statutbordereau)}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Bordereau N\xb0 ",i[0].numerobordereau)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-auto p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Bordereau : "),i[0].numerobordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),i[0].typesejourbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de creation : "),i[0].datecreationbordereau," ",i[0].heurecreationbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date limite d'envoi : "),i[0].datelimitebordereau),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-auto"},""!==i[0].gestionnairebordereau&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",i[0].gestionnairebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",i[0].organismebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(i.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Statut : ")," ",i[0].statutbordereau),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row d-flex justify-content-between mt-3"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:_,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");L(t)}}),l.a.createElement(j.a,{className:"ml-2",label:"Facture(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:De.theme.primary}},i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerobordereau)})).length)}))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:De.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.erreurfacture,v=e.commentairefacture;return l.a.createElement("tr",{key:a,style:{cursor:"default"},className:"warning"===y?"bg-warning":"",title:v},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(E)),l.a.createElement("td",{className:"text-right"},Ee(g)))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:11}),l.a.createElement("td",{className:"text-white font-weight-bold bgcolor-primary"},"TOTAL : "),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&Ee(i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&Ee(i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&Ee(i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.resteassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&Ee(i.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t}))))))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){d(!1)},style:{textTransform:"none",fontSize:"13px"}},"Fermer"))),l.a.createElement(z.a,{open:K,onClose:function(){return Q(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:kn},l.a.createElement("object",{data:ae,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(st.a,{open:f,onClose:function(){return p(!1)}},l.a.createElement(Fn,{variant:"standard",severity:"info"},"Chargement ...")))}))}],An=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:na,setNotification:ra})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Statistiques")})),l.a.createElement("div",{className:"Statistiques row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:gn,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Dn.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(ta,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),Rn=s.a.permissions.functions.filter((function(e){return"Encaissement"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),Mn=[{target:"encaissement",title:"Encaissement Mutuelles",icon:"action-assignment"},{target:"ventilation",title:"Ventilation des encaissements",icon:"action-assignment-ind"}],Pn=(0!==Rn.length&&Mn.filter((function(e){return Rn.includes(e.target)})),Mn),In={listEncaissement:[]};function Bn(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/encaissements")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_ENCAISSEMENT",listEncaissement:a})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var _n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_ENCAISSEMENT":return Object(h.a)(Object(h.a)({},e),{},{listEncaissement:t.listEncaissement});default:return e}},Ln=Object(c.b)((function(e){return{listEncaissement:e.encaissementReducer.listEncaissement}}),{thunkAddEncaissement:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({method:"POST",url:"".concat($.a.url,"/gap/add/encaissement"),data:Object(h.a)(Object(h.a)({},e),{},{recepteur:s.a.user.nomuser+" "+s.a.user.prenomsuser}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;a(Bn())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListEncaissement:Bn})((function(e){var t=e.listEncaissement,a=e.thunkAddEncaissement,c=e.thunkListEncaissement,o=Object(r.useContext)(s.b),i=Object(r.useState)(""),u=Object(n.a)(i,2),m=u[0],d=u[1],f=Object(r.useState)(!1),p=Object(n.a)(f,2),b=p[0],E=p[1],g=Object(r.useState)({mode:"",montant:"",assurance:"",numeroTransaction:""}),y=Object(n.a)(g,2),T=y[0],A=y[1],R=Object(r.useState)([]),P=Object(n.a)(R,2),I=P[0],B=P[1];function L(){A({mode:"",montant:"",assurance:"",numeroTransaction:""}),E(!1)}var U=Object(r.useState)(["N\xb0","Numero d'encaissement","Assurance","Mode de paiement","Date","Heure","Recepteur","Montant"]),V=Object(n.a)(U,1)[0];return Object(r.useEffect)((function(){c(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),B(a)}))}),[]),l.a.createElement("div",{className:"Encaissement row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un encaissement",value:m,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");d(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Encaissements(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:o.theme.primary}},t.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(O.a,{variant:"contained",startIcon:l.a.createElement(M.a,null),onClick:function(){E(!0)},style:{textTransform:"none",backgroundColor:o.theme.primary,color:"white",fontSize:"13px"}},"Nouvel encaissement")))),0===t.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun Encaissement existant"),l.a.createElement("small",null,"Pour en ajouter un cliquez sur le boutton 'Nouvel encaissement' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:o.theme.secondaryDark}},l.a.createElement("tr",null,V.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,t.filter((function(e){return""===m.trim()||RegExp(m,"i").test(e.numeroencaissement)})).map((function(e,t){var a=e.numeroencaissement,n=e.dateencaissement,r=e.heureencaissement,c=e.modepaiementencaissement,o=e.assuranceencaissement,i=e.recepteurencaissement,s=e.montantencaissement;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",null,o),l.a.createElement("td",null,c),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"font-weight-bold"},Ee(s))))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:7}),l.a.createElement("td",{className:"font-weight-bold white-text ",style:{backgroundColor:o.theme.primary}},Ee(t.filter((function(e){return""===m.trim()||RegExp(m,"i").test(e.numeroencaissement)})).map((function(e){return e.montantencaissement})).reduce((function(e,t){return e+t}))))))),l.a.createElement(z.a,{disableBackdropClick:!0,open:b,onClose:L,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouvel encaissement")),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList1",options:I,onChange:function(e,t){t&&function(e){A(Object(h.a)(Object(h.a)({},T),{},{assurance:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(S.a,{id:"typesejour-label"},"Mode de paiement"),l.a.createElement(w.a,{labelId:"typesejour-label",id:"typesejour",variant:"filled",value:T.mode,onChange:function(e){var t=e.target.value;A(Object(h.a)(Object(h.a)({},T),{},{mode:t}))},label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(C.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")))),l.a.createElement("div",{className:"row my-2"},l.a.createElement(v.a,{className:"col",type:"number",variant:"filled",size:"small",label:"Montant",value:T.montant,onChange:function(e){!function(e){var t=e.target.value;A(Object(h.a)(Object(h.a)({},T),{},{montant:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(v.a,{className:"col ml-2",variant:"filled",size:"small",label:"Numero de Transaction",value:T.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(T.mode),onChange:function(e){!function(e){var t=e.target.value;A(Object(h.a)(Object(h.a)({},T),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(_.a,null),onClick:L,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){a(T),L()},startIcon:l.a.createElement(Y.a,null),disabled:""===T.assurance.trim()||""==T.mode.trim()||""===T.montant.trim()||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(T.mode)&&""===T.numeroTransaction.trim(),style:{textTransform:"none",backgroundColor:o.theme.primary,color:"white",fontSize:"13px"}},"Valider"))))})),Yn={listFactures:[],listFacturesByAssurance:[],listFacturesRecues:[],listFacturesValides:[],listBordereaux:[],currentBordereau:[{}],currentFacture:{},showModal:!1,showDetailsFacture:!1,loading:!1,typeBordereaux:"tous"},Un=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}},Vn=function(e){return{type:"SET_LIST_FACTURES_BY_ASSURANCE",listFacturesByAssurance:e}},qn=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Gn=function(e){return{type:"SET_SHOW_DETAILS_FACTURE",showDetailsFacture:e}},Wn=function(e){return{type:"SET_LOADING",loading:e}};var Hn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(h.a)(Object(h.a)({},e),{},{listFactures:t.listFactures});case"SET_LIST_BORDEREAUX":return Object(h.a)(Object(h.a)({},e),{},{listBordereaux:t.listBordereaux});case"SET_TYPE_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{typeBordereaux:t.typeBordereaux});case"SET_LIST_FACTURES_BY_ASSURANCE":return Object(h.a)(Object(h.a)({},e),{},{listFacturesByAssurance:t.listFacturesByAssurance});case"SET_LIST_FACTURES_RECUES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesRecues:t.listFacturesRecues});case"SET_LIST_FACTURES_VALIDES":return Object(h.a)(Object(h.a)({},e),{},{listFacturesValides:t.listFacturesValides});case"SET_CURRENT_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_BORDEREAU":return Object(h.a)(Object(h.a)({},e),{},{currentBordereau:t.currentBordereau});case"SET_SHOW_MODAL":return Object(h.a)(Object(h.a)({},e),{},{showModal:t.showModal});case"SET_SHOW_DETAILS_FACTURE":return Object(h.a)(Object(h.a)({},e),{},{showDetailsFacture:t.showDetailsFacture});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});default:return e}},Kn=l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))}));function Jn(e){return l.a.createElement("div",Object.assign({className:"row"},e))}function Xn(e){return l.a.createElement(ut.a,Object.assign({elevation:6,variant:"filled"},e))}var Qn=Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a),Zn=[{id:"encaissement",Component:Ln},{id:"ventilation",Component:Object(c.b)((function(e){var t=e.ventilationReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentBordereau:t.currentBordereau,showModal:t.showModal,listBordereaux:t.listBordereaux,loading:t.loading,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,typeBordereaux:t.typeBordereaux}}),{thunkListBorderaux:function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:J()({url:"".concat($.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_BORDEREAUX",listBordereaux:a})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},thunkListFacturesByAssurances:function(e){var t=e.nomassurance,a=e.nomgarant,n=e.debutDateString,r=e.finDateString,l=e.typeSejour;return e.statutBordereau,function(){var e=Object(ae.a)(te.a.mark((function e(c){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Wn(!0)),J()({method:"GET",url:"".concat($.a.url,"/gap/list/bordereaux/").concat(t,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(l)}).then((function(e){var t=e.data.rows;c(Vn(t||[])),c(Wn(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setShowModal:qn,thunkDetailsBorderau:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Wn(!0)),J()({url:"".concat($.a.url,"/gap/details/bordereau/").concat(e)}).then((function(e){var t=e.data.rows;a({type:"SET_CURRENT_BORDEREAU",currentBordereau:t}),a(Wn(!1)),a(qn(!0))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLoading:Wn,thunkDetailsFacture:function(e){return function(){var t=Object(ae.a)(te.a.mark((function t(a){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:J()({url:"".concat($.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(Un(t?t[0]:{})),a(Gn(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowDetailsFacture:Gn,setTypeBordereaux:function(e){return{type:"SET_TYPE_BORDEREAU",typeBordereaux:e}}})((function(e){var t,a=e.thunkListFacturesByAssurances,c=e.thunkListBorderaux,o=e.listBordereaux,i=e.listFacturesByAssurance,u=(e.listFacturesValides,e.setListFacturesValides,e.currentBordereau),m=e.showModal,d=e.thunkDetailsBorderau,f=e.setShowModal,p=e.loading,b=e.setLoading,T=e.currentFacture,A=e.showDetailsFacture,R=e.setShowDetailsFacture,M=(e.setListFacturesByAssurance,e.setTypeBordereaux,e.typeBordereaux,Object(r.useRef)(null),Object(r.useRef)(null),Object(r.useRef)(null),Object(r.useState)("")),P=Object(n.a)(M,2),B=P[0],_=P[1],L=Object(r.useState)(""),Y=Object(n.a)(L,2),U=Y[0],V=Y[1],H=Object(r.useState)(""),K=Object(n.a)(H,2),Q=(K[0],K[1],Object(r.useState)(!1)),ee=Object(n.a)(Q,2),te=ee[0],ae=ee[1],ne=Object(r.useState)(!1),re=Object(n.a)(ne,2),le=re[0],ce=(re[1],Object(r.useState)(!1)),oe=Object(n.a)(ce,2),ie=(oe[0],oe[1],Object(r.useState)([])),se=Object(n.a)(ie,2),ue=se[0],me=se[1],de=Object(r.useState)(null),fe=Object(n.a)(de,2),pe=(fe[0],fe[1]),be=(Object(Tn.useSpeechSynthesis)().speak,Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""})),ge=Object(n.a)(be,2),he=ge[0],ye=ge[1],ve=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",statutBordereau:"tous",debutDateString:Z()("01/01/2020").format("DD-MM-YYYY"),finDateString:Z()("12/31/2020").format("DD-MM-YYYY"),debutDate:new Date("01/01/2020"),finDate:new Date("12/31/2020")}),je=Object(n.a)(ve,2),xe=je[0],Oe=je[1];function Ne(e){switch(e){case"tous":return["Cr\xe9ation","Rejet\xe9","Valid\xe9","D\xe9charge","Envoie"];case"creation":return["Cr\xe9ation"];case"rejete":return["Rejet\xe9"];case"decharge":return["D\xe9charge"];case"envoie":return["Envoie"]}}var Se=Object(r.useContext)(s.b);return Object(r.useEffect)((function(){a(xe),c(),J()({url:"".concat($.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),me(a)}))}),[]),Object(r.useEffect)((function(){b(!1)}),[xe.nomassurance,xe.typeSejour]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"AssuranceList",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(ue)),onChange:function(e,t){t&&function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{nomassurance:e}))}(t.label),t&&""!==xe.typeSejour.trim()&&""!==xe.nomgarant.trim()&&a(Object(h.a)(Object(h.a)({},xe),{},{nomassurance:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(g.a)(ue)),onChange:function(e,t){t&&function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{nomgarant:e}))}(t.label),t&&""!==xe.typeSejour.trim()&&""!==xe.nomassurance.trim()&&a(Object(h.a)(Object(h.a)({},xe),{},{nomgarant:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){var t=e.target.value;!function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{typeSejour:e}))}(t),""!==xe.nomassurance.trim()&&""!==xe.nomgarant.trim()&&a(Object(h.a)(Object(h.a)({},xe),{},{typeSejour:t}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Hospitalisation"},"Hospitalisation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(S.a,{id:"statutbordereau-label"},"Statut du borderau"),l.a.createElement(w.a,{labelId:"statutbordereau-label",id:"statutbordereau",defaultValue:xe.statutBordereau,onChange:function(e){var t=e.target.value;""!==xe.nomassurance.trim()&&""!==xe.nomgarant.trim()&&function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{statutBordereau:e}))}(t)},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"envoie"},"Envoie"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"decharge"},"D\xe9charge"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"rejete"},"Rejet"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"encaiss\xe9"},"Encaiss\xe9"))),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col mx-2",label:"Du",id:"datedebut",defaultValue:new Date("01/01/2020"),value:xe.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),a(Object(h.a)(Object(h.a)({},xe),{},{debutDate:e,debutDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}})),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col",label:"Au",id:"datefin",defaultValue:new Date("12/31/2020"),value:xe.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){Oe(Object(h.a)(Object(h.a)({},xe),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}(e),a(Object(h.a)(Object(h.a)({},xe),{},{finDate:e,finDateString:Z()(e.toString()).format("DD-MM-YYYY")}))}})))),l.a.createElement("table",{className:"table-sm col-12 table-hover mb-2"},l.a.createElement("thead",{style:{backgroundColor:Se.theme.primary}},l.a.createElement("tr",null,["Assurance","Nombre bordereaux","Nombre Factures","Montant total","Part assurance","Pay\xe9s","Impay\xe9s"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,ue.filter((function(e){return o.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){var a,n,r,c,i,s,u,m;return l.a.createElement("tr",null,l.a.createElement("td",null,e.label),l.a.createElement("td",null,o.filter((function(t){return t.gestionnairebordereau===e.label})).length),l.a.createElement("td",null,null===(a=o.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===a||null===(n=a.map((function(e){return parseInt(e.nbfacture)})))||void 0===n?void 0:n.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(r=o.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===r||null===(c=r.map((function(e){return e.montanttotal})))||void 0===c?void 0:c.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(i=o.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===i||null===(s=i.map((function(e){return e.partassurance})))||void 0===s?void 0:s.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,"0"),l.a.createElement("td",null,null===(u=o.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===u||null===(m=u.map((function(e){return e.partassurance})))||void 0===m?void 0:m.reduce((function(e,t){return e+t}))))})))),l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un borderau",value:B,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");_(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(j.a,{label:"Bordereau(x)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Se.theme.primary}},i.filter((function(e){return""===B.trim()||RegExp(B,"i").test(e.numerobordereau)})).filter((function(e){return Ne(xe.statutBordereau).includes(e.statutbordereau)})).length)})))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:Se.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero Bordereau","Gestionnaire","Organisme","Type de sejour","Date d'envoie","Date limite","Status du bordereau","Nombre de factures","Montant total","Part Assurance","Part Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,i.filter((function(e){return""===B.trim()||RegExp(B,"i").test(e.numerobordereau)})).filter((function(e){return Ne(xe.statutBordereau).includes(e.statutbordereau)})).map((function(e,t){var a=e.numerobordereau,n=e.datecreationbordereau,r=e.gestionnairebordereau,c=e.datelimitebordereau,o=e.organismebordereau,i=e.typesejourbordereau,s=e.statutbordereau,u=e.nbfactures,m=e.montanttotal,f=e.partassurance,p=e.partpatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){d(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",null,n),l.a.createElement("td",null,c),l.a.createElement("td",{className:"font-weight-bold ".concat("Rejet\xe9"===s?"red-text animated infinite flash":"D\xe9charge"===s?"blue-text":"Envoie"===s?"green-text":"")},s),l.a.createElement("td",null,u),l.a.createElement("td",null,Ee(m)),l.a.createElement("td",null,Ee(f)),l.a.createElement("td",null,Ee(p)))})))),l.a.createElement(z.a,{TransitionComponent:Kn,open:m,onClose:function(){f(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"lg",onEntered:function(){pe(u[0].statutbordereau)}},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Bordereau N\xb0 ",u[0].numerobordereau)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-auto p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Bordereau : "),u[0].numerobordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),u[0].typesejourbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de creation : "),u[0].datecreationbordereau," ",u[0].heurecreationbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date limite d'envoi : "),u[0].datelimitebordereau),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-auto"},""!==u[0].gestionnairebordereau&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",u[0].gestionnairebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",u[0].organismebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",Ee(u.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Statut : ")," ",u[0].statutbordereau),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row d-flex justify-content-between mt-3"},l.a.createElement(v.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:U,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");V(t)}}),l.a.createElement(j.a,{className:"ml-2",label:"Facture(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:Se.theme.primary}},u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerobordereau)})).length)}))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:Se.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.erreurfacture,v=e.commentairefacture;return l.a.createElement("tr",{key:a,style:{cursor:"default"},className:"warning"===y?"bg-warning":"",title:v},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},Ee(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},Ee(E)),l.a.createElement("td",{className:"text-right"},Ee(g)))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:11}),l.a.createElement("td",{className:"text-white font-weight-bold bgcolor-primary"},"TOTAL : "),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).length&&Ee(u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).length&&Ee(u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).length&&Ee(u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e){return e.resteassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).length&&Ee(u.filter((function(e){return""===U.trim()||RegExp(U,"i").test(e.numerofacture)})).map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t}))))))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){f(!1)},style:{textTransform:"none",fontSize:"13px"}},"Fermer"))),l.a.createElement(z.a,{open:te,onClose:function(){return ae(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:Jn},l.a.createElement("object",{data:le,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(z.a,{open:A,onClose:function(){R(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,onEntered:function(){return ye({gestionnaire:T.gestionnaire,organisme:T.organisme,beneficiaire:T.beneficiaire,matriculeAssure:T.matriculeassure,assurePrinc:T.assureprinc,numeroPEC:T.numeropec,taux:T.taux})},maxWidth:"xs"},l.a.createElement(D.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",T.numerofacture)),l.a.createElement(F.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-6 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),T.nompatient," "," ",T.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),T.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),T.datefacture," ",T.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==T.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",T.montanttotalfacture," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",T.partassurancefacture," FCFA"),l.a.createElement("br",null))),l.a.createElement("div",{className:"col-6 text-right"})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(q.a,{size:"small",className:"col p-0",id:"assurancesList",options:ue,defaultValue:{value:T.idassurance,label:T.gestionnaire},onChange:function(e,t){!function(e){ye(Object(h.a)(Object(h.a)({},he),{},{gestionnaire:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"outlined",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(q.a,{size:"small",className:"col p-0 ml-2",id:"assurancesList",defaultValue:{value:T.idassurance,label:T.organisme},options:ue,onChange:function(e,t){!function(e){ye(Object(h.a)(Object(h.a)({},he),{},{organisme:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(v.a,Object.assign({},e,{variant:"outlined",label:"Organisme",placeholder:"Ajouter ..."}))}})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(N.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;ye(Object(h.a)(Object(h.a)({},he),{},{beneficiaire:t}))},defaultValue:T.beneficiaire,style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(Qn,(t={className:"col-7 ml-2",variant:"outlined",size:"small",defaultValue:" ",label:"Identit\xe9 de l'Assur\xe9"},Object(E.a)(t,"defaultValue",T.assureprinc),Object(E.a)(t,"onChange",(function(e){var t=e.target.value;ye(Object(h.a)(Object(h.a)({},he),{},{assurePrinc:t}))})),t))),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(Qn,{className:"col-4",variant:"outlined",size:"small",label:"Matricule",defaultValue:T.matriculeassure,onChange:function(e){var t=e.target.value;ye(Object(h.a)(Object(h.a)({},he),{},{matriculeAssure:t}))}}),l.a.createElement(Qn,{className:"col-4 mx-2",variant:"outlined",size:"small",label:"N\xb0 PEC",defaultValue:T.numeropec,onChange:function(e){var t=e.target.value;ye(Object(h.a)(Object(h.a)({},he),{},{numeroPEC:t}))}}),l.a.createElement(N.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(S.a,{id:"assurance-label"},"Taux"),l.a.createElement(w.a,{labelId:"assurance-label",id:"assurance",label:"Taux",defaultValue:T.taux,onChange:function(e){var t=e.target.value;ye(Object(h.a)(Object(h.a)({},he),{},{taux:t}))},style:{fontSize:"11px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Xe.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(k.a,null,l.a.createElement(O.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ke.a,null),onClick:function(){R(!1)},style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(O.a,{variant:"contained",className:"mb-2 red text-white",startIcon:l.a.createElement(I.a,null),onClick:function(){},style:{textTransform:"none",fontSize:"13px"}},"Retirer"),l.a.createElement(O.a,{variant:"contained",className:"mb-2",onClick:function(){},startIcon:l.a.createElement(Re.a,null),style:{textTransform:"none",backgroundColor:Se.theme.primary,color:"white",fontSize:"13px"}},"Valider la modification"))),l.a.createElement(st.a,{open:p,onClose:function(){return b(!1)}},l.a.createElement(Xn,{variant:"standard",severity:"info"},"Chargement ...")))}))}],$n={currentPage:Pn[0].target||null,notification:!1},er=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});default:return e}},tr=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setNotification:function(e){return{type:"SET_NOTIFICATION",notification:e}}})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Encaissements")})),l.a.createElement("div",{className:"Encaissement row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:Pn,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Zn.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(ta,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),ar=s.a.permissions.functions.filter((function(e){return"Administration"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),nr=[{target:"logs",title:"Logs",icon:"action-polymer"}],rr=(0!==ar.length&&nr.filter((function(e){return ar.includes(e.target)})),nr),lr={listLogs:[],loading:!1};var cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_LOGS":return Object(h.a)(Object(h.a)({},e),{},{listLogs:t.listLogs});case"SET_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:t.loading});default:return e}};l.a.forwardRef((function(e,t){return l.a.createElement(Ya.a,Object.assign({direction:"up",ref:t},e))}));function or(e){return l.a.createElement(ut.a,Object.assign({elevation:6,variant:"filled"},e))}Object(A.a)({root:{"& label.Mui-focused":{color:s.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:s.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:s.a.theme.primary}}}})(v.a);var ir=[{id:"logs",Component:Object(c.b)((function(e){return{listLogs:e.logsReducer.listLogs}}),{thunkListLogs:function(){return function(){var e=Object(ae.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING",loading:!0}),J()({url:"".concat($.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_LOGS",listLogs:a})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.listLogs,a=e.loading,c=(e.thunkListLogs,e.setLoading),o=Object(r.useContext)(s.b),i=Object(r.useState)({}),u=Object(n.a)(i,2),m=u[0];u[1];return l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(N.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(S.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(w.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){e.target.value},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Cr\xe9ation"},"Cr\xe9ation"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Suppression"},"Suppression"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Modification"},"Modification"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"Validation"},"Validation"))),l.a.createElement(N.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(S.a,{id:"objetlog-label"},"Objet"),l.a.createElement(w.a,{labelId:"objetlog-label",id:"objetlog",defaultValue:m.objetlog,onChange:function(e){e.target.value},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(C.a,{style:{fontSize:"12px"},value:"tous"},"Tous"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"patient"},"Patients"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"s\xe9jour"},"S\xe9jours"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"facture"},"Factures"),l.a.createElement(C.a,{style:{fontSize:"12px"},value:"bordereau"},"Bordereaux"))),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col mx-2",label:"Du",id:"datedebut",defaultValue:new Date("01/01/2020"),value:m.debutDate,format:"dd/MM/yyyy",onChange:function(e){}})),l.a.createElement(G.a,{utils:y.a,locale:X.a},l.a.createElement(W.a,{className:"col",label:"Au",id:"datefin",defaultValue:new Date("12/31/2020"),value:m.finDate,format:"dd/MM/yyyy",onChange:function(e){}})),l.a.createElement(j.a,{className:"col",label:"Log(s)",avatar:l.a.createElement(x.a,{className:"white-text",style:{backgroundColor:o.theme.primary}},t.length)}))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:o.theme.secondaryDark}},l.a.createElement("tr",null,[].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,t.map((function(e,t){var a=e.datelog,n=e.heurelog,r=e.typelog,c=e.actionlog,o=(e.operationlog,e.auteurlog);return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",null,o))})))),l.a.createElement(st.a,{open:a,onClose:function(){return c(!1)}},l.a.createElement(or,{variant:"standard",severity:"info"},"Chargement ...")))}))}],sr=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:na,setNotification:ra})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Administration")})),l.a.createElement("div",{className:"Administration row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(bt,{links:rr,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},ir.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(st.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(ta,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),ur=a(100),mr=a(127),dr=Object(ur.c)({pageReducer:Ie,PatientReducer:We,sejourReducer:ie}),fr=Object(ur.d)(dr,Object(ur.a)(mr.a)),pr=Object(ur.c)({pageReducer:la,factureReducer:Jt,compteReducer:St}),br=Object(ur.d)(pr,Object(ur.a)(mr.a)),Er=Object(ur.c)({pageReducer:un,assuranceReducer:At,bordereauReducer:Ba}),gr=Object(ur.d)(Er,Object(ur.a)(mr.a)),hr={currentPage:gn[0].target||null,notification:!1},yr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});default:return e}},vr=Object(ur.c)({pageReducer:yr,bordereauReducer:Cn}),jr=Object(ur.d)(vr,Object(ur.a)(mr.a)),xr=Object(ur.c)({pageReducer:er,encaissementReducer:_n,ventilationReducer:Hn}),Or=Object(ur.d)(xr,Object(ur.a)(mr.a)),Nr={currentPage:rr[0].target||null,notification:!1},Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});default:return e}},wr=Object(ur.c)({pageReducer:Sr,logsReducer:cr}),Cr=[{title:"Admission",path:"/gap/admission",Component:Et,store:fr},{title:"Caisse",path:"/gap/caisse",Component:ca,store:br},{title:"Assurance",path:"/gap/assurance",Component:mn,store:gr},{title:"Statistques",path:"/gap/statistiques",Component:An,store:jr},{title:"Encaissement",path:"/gap/encaissement_mutuelles",Component:tr,store:Or},{title:"Administration",path:"/gap/administration",Component:sr,store:Object(ur.d)(wr,Object(ur.a)(mr.a))},{title:"Acceuil",path:"/gap",Component:pn}],Tr=a(17);a(722);ft.a.object.isRequired;var zr=function(e){var t=e.icon,a=e.text,n=e.actif,r=e.active;return l.a.createElement("div",{title:a,className:"row Sideitem text-center d-flex justify-content-center ".concat(n?"text-info active":"text-light"),onClick:function(){return r()}},l.a.createElement("i",{style:{fontSize:"9px"},className:"mdi-".concat(t," mdi-3x col-9")})," ")};zr.prototype={icon:ft.a.string.isRequired,text:ft.a.string.isRequired};var kr=function(e){var t=e.children;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},t))},Fr=function(e){e.user;var t=e.fonctions,a=Object(r.useState)(0),c=Object(n.a)(a,2),o=c[0],i=c[1];return l.a.createElement("div",{className:"col-12 page Sidebar"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(kr,null,t.map((function(e,t){var a=e.title,n=e.icon,r=e.path;return l.a.createElement(Tr.b,{key:t,exact:!0,to:r},l.a.createElement(zr,{text:a,icon:n,actif:o===t,active:function(){return i(t)}}))})))))))};Fr.prototype={user:ft.a.object.isRequired,functions:ft.a.array.isRequired};var Dr=Fr,Ar=new o.a,Rr=function(){Ar.get("user_winhealth")&&Ar.get("currentPage")&&(Ar.remove("user_winhealth",{path:"/"}),Ar.remove("currentPage",{path:"/"}),window.location="/connexion")},Mr=a(731),Pr=a(725),Ir=a.n(Pr),Br=a(723),_r=a.n(Br),Lr=a(724),Yr=a.n(Lr),Ur=function(e){var t=e.toggleFullscreen,a=e.title,c=e.fullscreen,o=e.user;Z.a.locale("fr");var i=Object(r.useState)(Z()().format("ddd DD MMMM YYYY - HH : mm : ss")),s=Object(n.a)(i,2),u=s[0],m=s[1],d=l.a.useState(null),f=Object(n.a)(d,2),p=f[0],b=f[1];return Object(r.useEffect)((function(){var e=setInterval((function(){m(Z()().format("ddd DD MMMM YYYY - HH : mm : ss"))}),1e3);return function(){clearInterval(e)}}),[]),l.a.createElement("div",{className:"row p-1"},l.a.createElement("div",{className:"col-3"},l.a.createElement("small",{className:"font-weight-bold"},a)),l.a.createElement("div",{className:"col-6 text-center"},l.a.createElement("small",null,u)),l.a.createElement("div",{className:"col-3 text-center"},l.a.createElement(T.a,{size:"small",onClick:t},c?l.a.createElement(Yr.a,null):l.a.createElement(_r.a,null)),l.a.createElement(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",size:"small",onClick:function(e){b(e.currentTarget)}},l.a.createElement(Ir.a,null)),l.a.createElement(Mr.a,{elevation:1,id:"simple-menu",anchorEl:p,keepMounted:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(p),onClose:function(){b(null)}},l.a.createElement(C.a,{style:{fontSize:"13px"},onClick:Rr},"D\xe9connexion")),l.a.createElement("small",null,o)))};Ur.prototype={toggleFullscreen:ft.a.func.isRequired,fullscreen:ft.a.bool.isRequired,title:ft.a.string.isRequired};var Vr=Ur;t.default=function(){new o.a;var e=Object(r.useState)("Accueil"),t=Object(n.a)(e,2),a=t[0],u=t[1],m=Object(r.useState)(!1),f=Object(n.a)(m,2),p=f[0],b=f[1];return l.a.createElement("div",{className:"col-12 page",id:"gap"},l.a.createElement("div",{className:"row"},l.a.createElement("section",{id:"navbar",style:{flex:"none"}},l.a.createElement(Dr,{user:s.a.user,fonctions:d})),l.a.createElement("section",{className:"white",id:"principal",style:{flex:1,height:"100vh",overflowY:"hidden",overflowX:"hidden"}},l.a.createElement("section",{className:"col-12 bg-light",id:"Topbar"},l.a.createElement(Vr,{title:a,user:"".concat(s.a.user.nomuser," ").concat(s.a.user.prenomsuser," - ").concat(s.a.user.labelprofil),toggleFullscreen:function(){document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),b(!1)):(document.documentElement.requestFullscreen(),b(!0))},fullscreen:p})),l.a.createElement("section",{className:"col-12"},Cr.map((function(e,t){var a=e.path,n=e.Component,r=e.store;return l.a.createElement(i.b,{exact:!0,key:t,path:a},r?l.a.createElement(c.a,{store:r},l.a.createElement(n,{sendTitle:function(e){u(e)}})):l.a.createElement(n,{sendTitle:function(e){u(e)}}))}))))))}}}]);