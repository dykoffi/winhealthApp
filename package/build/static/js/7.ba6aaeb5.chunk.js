(this.webpackJsonpwin_health=this.webpackJsonpwin_health||[]).push([[7],{207:function(e,t){},212:function(e,t,a){e.exports=a.p+"static/media/logoms2.d0d80492.jpg"},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return i}));var n=a(200),r=a.n(n),l="".concat("localhost",":8000"),c=("".concat("localhost",":8000"),"".concat("localhost",":8000")),o={timeout:1e3,url:"http://".concat(l),local:"http://".concat(c)},i=r()("http://".concat(l))},508:function(e,t){},510:function(e,t){},554:function(e,t){},555:function(e,t){},711:function(e,t,a){e.exports=a.p+"static/media/qr2.42d4692d.png"},713:function(e,t,a){},716:function(e,t,a){e.exports=a.p+"static/media/logo3.5f50cfa6.png"},718:function(e,t,a){},725:function(e,t,a){"use strict";a.r(t);var n=a(55),r=a(0),l=a.n(r),c=a(52),o=a(1),i=a(50),s=[{title:"Accueil",icon:"action-home",path:"/gap"},{title:"Admission",icon:"av-recent-actors",path:"/gap/admission"},{title:"Caisse",icon:"editor-attach-money",path:"/gap/caisse"},{title:"Assurance",icon:"action-account-child",path:"/gap/assurance"},{title:"Statistiques",icon:"action-assessment",path:"/gap/statistiques"},{title:"Encaissement",icon:"content-mail",path:"/gap/encaissement_mutuelles"},{title:"Administration GAP",icon:"hardware-security",path:"/gap/administration"}],u=i.a.permissions.functions.map((function(e){return e.name})),m=(s.filter((function(e){return u.includes(e.title)})),s),d=i.a.permissions.functions.filter((function(e){return"Admission"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),f=[{target:"listPatient",title:"Liste des patients",icon:"action-subject"},{target:"dossiersPatient",title:"Dossiers Patients",icon:"file-folder"}],p=0!==d.length?f.filter((function(e){return d.includes(e.target)})):f,b=a(144),E=a(48),g=a(90),h=a(790),y=a(794),v=a(795),j=a(770),x=a(765),O=a(793),N=a(783),S=a(796),w=a(777),C=a(787),T=a(776),k=a(773),z=a(771),F=a(46),A=a(89),D=a.n(A),R=a(142),M=a.n(R),P=a(255),I=a.n(P),B=a(185),_=a.n(B),L=a(705),Y=a.n(L),U=a(781),q=a(103),V=a(774),G=a(799),W=a(53),H=a.n(W),J=a(91),K=a(83),X=a.n(K),Q=a(49),Z=a(79),$=a.n(Z),ee=a(84),te={listSejour:[],currentSejour:null,currentFacture:null,detailsSejour:null,loadingSejour:!1},ae=function(e){return{type:"SET_CURRENT_SEJOUR",currentSejour:e}},ne=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}};function re(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_LOADING_SEJOUR"}),H()({url:"".concat(Q.a.url,"/gap/list/sejours/").concat(e)}).then((function(e){var t=e.data.rows;a({type:"SET_LIST_SEJOUR",listSejour:t}),t[0]?a(le(t[0].numerosejour)):ae(null)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function le(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"SET_LOADING_SEJOUR"}),H()({url:"".concat(Q.a.url,"/gap/details/sejour/").concat(e)}).then((function(e){var t=e.data.rows;t[0]?(a(ae(t[0])),a(ne(t))):(a(ae(null)),a(ne(null)))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_SEJOUR":return Object(E.a)(Object(E.a)({},e),{},{listSejour:t.listSejour});case"SET_DETAILS_SEJOUR":return Object(E.a)(Object(E.a)({},e),{},{detailsSejour:t.detailsSejour});case"SET_LOADING_SEJOUR":return Object(E.a)(Object(E.a)({},e),{},{loadingSejour:t.loadingSejour});case"SET_CURRENT_SEJOUR":return Object(E.a)(Object(E.a)({},e),{},{currentSejour:t.currentSejour});case"SET_CURRENT_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{currentFacture:t.currentFacture});default:return e}},oe=a(212),ie=a.n(oe),se=a(497),ue=a.n(se),me=a(213),de=a(250),fe=a.n(de);function pe(e,t,a){if(t=void 0===t?3:t,a=void 0===a?"":a,void 0===e||null===e)return null;try{var n;e=null===(n=e)||void 0===n?void 0:n.toString()}catch(c){}return e.length<=t?e+a:(a=" "+(null===(r=e)||void 0===r?void 0:r.substring(e.length-t,e.length))+a,pe(e=null===(l=e)||void 0===l?void 0:l.slice(0,e.length-t),t,a));var r,l}var be=["Afghanistan","Afrique du Sud","Albanie","Alg\xe9rie","Allemagne","Andorre","Angola","Antigua-et-Barbuda","Arabie saoudite","Argentine","Arm\xe9nie","Australie","Autriche","Azerba\xefdjan","Bahamas","Bahre\xefn","Bangladesh","Barbade","Belgique","Belize","B\xe9nin","Bhoutan","Bi\xe9lorussie","Birmanie","Bolivie","Bosnie-Herz\xe9govine","Botswana","Br\xe9sil","Brunei","Bulgarie","Burkina Faso","Burundi","Cambodge","Cameroun","Canada","Cap-Vert","Chili","Chine","Chypre","Colombie","Comores","Cor\xe9e du Nord","Cor\xe9e du Sud","Costa Rica","C\xf4te d Ivoire","Croati","Cuba","Danemark","Djibouti","Dominique","\xc9gypte","\xc9mirats arabes unis","\xc9quateur","\xc9rythr\xe9e","Espagne","Estonie","\xc9tats-Unis","\xc9thiopie","Fidji","Finlande","France","Gabon","Gambie","G\xe9orgie","Ghana","Gr\xe8ce","Grenade","Guatemala","Guin\xe9e","Guin\xe9e-Bissau","Guyana","Ha\xefti","Honduras","Hongrie","\xceles Marshall","Inde","Indon\xe9sie","Irak","Iran","Irlande","Islande","Isra\xebl","Italie","Jama\xefque","Japon","Jordanie","Kazakhstan","Kenya","Kirghizistan","Kiribati","Kowe\xeft","Laos","Lesotho","Lettonie","Liban","Liberia","Libye","Liechtenstein","Lituanie","Luxembourg","Mac\xe9doine","Madagascar","Malaisie","Malawi","Maldives","Mali","Malte","Maroc","Maurice","Mauritanie"," Mexique","Micron\xe9sie","Moldavie","Monaco","Mongolie","Mont\xe9n\xe9gro","Mozambique","Namibie","Nauru","N\xe9pal","Nicaragua","Niger","Nigeria","Norv\xe8ge","Nouvelle-Cal\xe9doni","Nouvelle-Z\xe9lande","Oman","Ouganda","Ouzb\xe9kistan","Pakistan","Palaos","Panama","Papouasie-Nouvelle-Guin\xe9e","Paraguay","Pays-Bas","P\xe9rou","Philippines","Pologne","Polyn\xe9sie fran\xe7ais","Portugal","Qatar","R\xe9publique centrafricaine","R\xe9publique d\xe9mocratique du Congo","R\xe9publique dominicaine","R\xe9publique du Congo","R\xe9publique tch\xe8que","Roumanie","Royaume-Uni","Russie","Rwanda","Saint-Christophe-et-Ni\xe9v\xe8s","Saint-Marin","Saint-Pierre-et-Miquelo","Saint-Vincent-et-les Grenadines","Sainte-Lucie","Salomon"," Salvador","Samoa","S\xe9n\xe9gal","Serbie","Seychelles","Sierra Leone","Singapour","Slovaquie","Slov\xe9nie","Somalie","Soudan","Soudan du Sud","Sri Lanka","Su\xe8de","Suisse","Suriname","Swaziland","Syrie","Tadjikistan","Ta\xefwa","Tanzanie","Tchad","Tha\xeflande","Timor oriental","Togo","Tom\xe9-et-Principe","Tonga","Trinit\xe9-et-Tobago","Tunisie","Turkm\xe9nistan","Turquie","Tuvalu","Ukraine","Uruguay","Vanuatu","Venezuela","Vi\xeat Nam","Wallis et Futun","Y\xe9men","Zambie","Zimbabwe"];function Ee(e){var t;switch(e){case 0:t="z\xe9ro";break;case 1:t="un";break;case 2:t="deux";break;case 3:t="trois";break;case 4:t="quatre";break;case 5:t="cinq";break;case 6:t="six";break;case 7:t="sept";break;case 8:t="huit";break;case 9:t="neuf"}return t}function ge(e){var t;switch(e){case 10:t="dix";break;case 11:t="onze";break;case 12:t="douze";break;case 13:t="treize";break;case 14:t="quatorze";break;case 15:t="quinze";break;case 16:t="seize";break;case 17:t="dix-sept";break;case 18:t="dix-huit";break;case 19:t="dix-neuf";break;case 20:t="vingt";break;case 30:t="trente";break;case 40:t="quarante";break;case 50:t="cinquante";break;case 60:t="soixante";break;case 70:t="soixante-dix";break;case 80:t="quatre-vingt";break;case 90:t="quatre-vingt-dix"}return t}function he(e){var t,a,n,r="";if(e.toString().replace(/ /gi,"").length>15)return"d\xe9passement de capacit\xe9";if(isNaN(e.toString().replace(/ /gi,"")))return"Nombre non valide";if(n=parseFloat(e.toString().replace(/ /gi,"")),Math.ceil(n)!==n)return"Nombre avec virgule non g\xe9r\xe9.";switch(n.toString().length){case 1:r=Ee(n);break;case 2:n>19?(t=Math.floor(n/10),a=n%10,n<71||n>79&&n<91?(0===a&&(r=ge(10*t)),1===a&&(r=ge(10*t)+"-et-"+Ee(a)),a>1&&(r=ge(10*t)+"-"+Ee(a))):r=ge(10*(t-1))+"-"+ge(10+a)):r=ge(n);break;case 3:a=n%100,1===(t=Math.floor(n/100))&&0===a&&(r="cent"),1===t&&0!==a&&(r="cent "+he(a)),t>1&&0===a&&(r=Ee(t)+" cents"),t>1&&0!==a&&(r=Ee(t)+" cent "+he(a));break;case 4:case 5:case 6:a=n-1e3*(t=Math.floor(n/1e3)),1===t&&0===a&&(r="mille"),1===t&&0!==a&&(r="mille "+he(a)),t>1&&0===a&&(r=he(t)+" mille"),t>1&&0!==a&&(r=he(t)+" mille "+he(a));break;case 7:case 8:case 9:a=n%1e6,1===(t=Math.floor(n/1e6))&&0===a&&(r="un million"),1===t&&0!==a&&(r="un million "+he(a)),t>1&&0===a&&(r=he(t)+" millions"),t>1&&0!==a&&(r=he(t)+" millions "+he(a));break;case 10:case 11:case 12:a=n-1e9*(t=Math.floor(n/1e9)),1===t&&0===a&&(r="un milliard"),1===t&&0!==a&&(r="un milliard "+he(a)),t>1&&0===a&&(r=he(t)+" milliards"),t>1&&0!==a&&(r=he(t)+" milliards "+he(a));break;case 13:case 14:case 15:a=n-1e12*(t=Math.floor(n/1e12)),1===t&&0===a&&(r="un billion"),1===t&&0!==a&&(r="un billion "+he(a)),t>1&&0===a&&(r=he(t)+" billions"),t>1&&0!==a&&(r=he(t)+" billions "+he(a))}return"quatre-vingt"===r.substr(r.length-"quatre-vingt".length,"quatre-vingt".length)&&(r+="s"),r}me.c.register({family:"Regular",src:"".concat(Q.a.local,"/font.ttf")}),me.c.register({family:"Roboto-Bold",src:"".concat(Q.a.local,"/fonts/Roboto-Bold.ttf")}),me.c.register({family:"Roboto-Light",src:"".concat(Q.a.local,"/fonts/Roboto-Light.ttf")});var ye=function(e){e.etablissement;return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",paddingBottom:8,flexDirection:"row",fontFamily:"Regular"}},l.a.createElement(me.h,{style:{flex:2}},l.a.createElement(me.d,{src:ie.a,style:{height:"3cm",width:"3cm"}})),l.a.createElement(me.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(me.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(me.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(me.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(me.g,null,"Email : info@altea-ci.com"),l.a.createElement(me.g,null,"Abidjan BP 05 789"))))},ve=function(e){var t=e.facture,a=e.url;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement(me.b,null,l.a.createElement(me.e,{size:"A4",style:{padding:15,display:"flex",flexDirection:"column"}},l.a.createElement(ye,null),l.a.createElement(me.h,{style:{flex:"auto",display:"flex",flexDirection:"row",justifyContent:"space-around",fontSize:12}},l.a.createElement(me.h,{style:xe.content},l.a.createElement(me.g,{style:xe.title},"PATIENT(E)"),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"IPP : "),l.a.createElement(me.g,null,t[0].ipppatient)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"NOM : "),l.a.createElement(me.g,null,t[0].nompatient," ",t[0].prenomspatient)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"NAISSANCE :  "),l.a.createElement(me.g,null,t[0].datenaissancepatient," \xe0 ",t[0].lieunaissancepatient)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"DOMICILE : "),l.a.createElement(me.g,null,t[0].habitationpatient))),l.a.createElement(me.h,{style:xe.content},l.a.createElement(me.g,{style:xe.title},"SEJOUR DU ",t[0].datedebutsejour===t[0].datefinsejour?t[0].datedebutsejour:l.a.createElement(l.a.Fragment,null,t[0].datedebutsejour," AU ",t[0].datefinsejour)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"N\xb0 DE SEJOUR : "),l.a.createElement(me.g,null,t[0].numerosejour)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"ENTR\xc9(E) \xc0 :  "),l.a.createElement(me.g,null,t[0].heuredebutsejour)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"SORTI(E) \xc0 :  "),l.a.createElement(me.g,null,t[0].heurefinsejour)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"TYPE DE SEJOUR : "),l.a.createElement(me.g,null,t[0].typesejour))),""!==t[0].gestionnaire.trim()&&l.a.createElement(me.h,{style:xe.content},l.a.createElement(me.g,{style:xe.title},"ASSURANCE (",t[0].gestionnaire,")"),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"Organisme : "),l.a.createElement(me.g,null,t[0].organisme)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"Assure Princ :  "),l.a.createElement(me.g,null,t[0].assureprinc)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"N\xb0 Bon :  "),l.a.createElement(me.g,null,t[0].numeropec)),l.a.createElement(me.h,{style:xe.l},l.a.createElement(me.g,null,"Exon\xe9ration : "),l.a.createElement(me.g,null,t[0].taux,"%")))),l.a.createElement(me.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:14})},"FACTURE N\xb0 ",t[0].numerofacture," DU ",t[0].datefacture),l.a.createElement(me.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},xe.content),{},{flex:1,display:"flex",flexDirection:"column",justifyContent:"flex-start"})},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},xe.l),{},{justifyContent:"space-between"})},l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Designation"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.libelleacte)}))),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Coef"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.cotationacte)}))),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Med / Spec"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.medecinsejour," / ",e.specialitesejour)}))),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Date"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.datedebutsejour)}))),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Qte"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.quantite)}))),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Prix U"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.prixacte)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},"TOTAL G"),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},"Encaiss\xe9"),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},"Reste")),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Prix T"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.prixacte*e.quantite)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].montanttotalfacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].montanttotalfacture-t[0].restepatientfacture-t[0].resteassurancefacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].restepatientfacture+t[0].resteassurancefacture)),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Part Assu"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.plafondassurance*e.quantite*e.taux/100)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].partassurancefacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].partassurancefacture-t[0].resteassurancefacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].resteassurancefacture)),l.a.createElement(me.h,{style:xe.column},l.a.createElement(me.g,{style:xe.tr},"Part Patient"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},xe.line)},e.prixacte*e.quantite-e.plafondassurance*e.quantite*e.taux/100)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t[0].partpatientfacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].partpatientfacture-t[0].restepatientfacture),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.line),{},{fontFamily:"Roboto-Bold"})},t[0].restepatientfacture)))),l.a.createElement(me.g,{style:{fontSize:8}},"Certifi\xe9 exact, la pr\xe9sente facture s'\xe9l\xe9vant \xe0 la somme de ",he(t[0].montanttotalfacture)," francs CFA"))),l.a.createElement(je,{url:a,facture:t}))))},je=function(e){e.url;var t=e.facture;return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",flexDirection:"column"}},l.a.createElement(me.h,{style:{flex:1,fontSize:8,display:"flex",marginTop:7,color:"grey",lineHeight:1.5,borderBottomColor:"grey",borderBottomStyle:"solid",borderBottomWidth:.5}},l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},xe.tr),{},{textAlign:"center"})},"COUPON \xc0 JOINDRE AU R\xc8GLEMENT"),l.a.createElement(me.h,{style:{flex:1,display:"flex",flexDirection:"row"}},l.a.createElement(me.h,{style:{flex:1,padding:3,display:"flex",flexDirection:"column"}},l.a.createElement(me.g,null,"BANQUE : BGFI BANK "),l.a.createElement(me.g,null,"IBAN : CI33CI1620100200211010440121 "),l.a.createElement(me.g,null,"BIC : BGFIABXXX "),l.a.createElement(me.g,null,"DOMICILE : BGFIBANK")),l.a.createElement(me.h,{style:{flex:1,padding:3,display:"flex",flexDirection:"column"}},l.a.createElement(me.g,null,"DESTINATAIRE : ",t[0].assureprinc," "),l.a.createElement(me.g,null,"PATIENT : ",t[0].nompatient," ",t[0].prenomspatient," "),l.a.createElement(me.g,null,"SEJOUR  : N\xb0 ",t[0].numerosejour," DU ",t[0].datedebutsejour,t[0].datefinsejour!==t[0].datedebutsejour?" AU "+t[0].datefinsejour:""," "),l.a.createElement(me.g,null,"FACTURE : N\xb0 ",t[0].numerofacture," DU ",t[0].datefacture),l.a.createElement(me.g,null,"MONTANT : ",pe(t[0].montanttotalfacture)," F CFA")))),l.a.createElement(me.h,{style:{flex:1,justifyContent:"flex-start",fontSize:8,marginTop:7,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Fait \xe0 Abidjan le ",t[0].datefacture),l.a.createElement(me.g,null,"par ",t[0].auteurfacture)))},xe=me.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flex:"auto",flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.4},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.4,paddingTop:7}}),Oe=function(e){var t=e.code,a=e.showPDF,c=e.facture,o=Object(r.useState)(null),i=Object(n.a)(o,2),s=i[0],u=i[1];return Object(r.useEffect)((function(){var e=document.getElementById("img").toDataURL("image/png").replace("image/png","image/octet-stream");u(e)}),[]),l.a.createElement("div",{className:"row"},l.a.createElement(ue.a,{value:t,id:"img",fgColor:"#696969",includeMargin:!0,style:{display:"none"}}),s&&l.a.createElement(me.a,{document:l.a.createElement(ve,{facture:c,url:t}),fileName:"somename.pdf"},(function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?l.a.createElement("small",null,"..."):l.a.createElement(j.a,{variant:"contained",className:"mb-2 mx-4 col",startIcon:l.a.createElement(fe.a,null),onClick:function(){return a(t)},style:{textTransform:"none",fontSize:"11px"}},"Imprimer la facture")})))};function Ne(e){return l.a.createElement("div",Object.assign({className:"row"},e))}var Se=Object(F.a)({root:{"& label.Mui-focused":{color:i.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:i.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:i.a.theme.primary}}}})(h.a),we=Object(c.b)((function(e){var t=e.PatientReducer.currentPatient,a=e.sejourReducer;return{currentPatient:t,listSejour:a.listSejour,currentSejour:a.currentSejour,currentFacture:a.currentFacture}}),{thunkListSejour:re,thunkAddSejour:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n){var r;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r=i.a.user,n({type:"SET_LOADING_SEJOUR"}),H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/sejour/").concat(t),data:Object(E.a)(Object(E.a)({},e),{},{user:r}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){Q.b.emit("facture_nouvelle"),n(re(t))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDetailsSejour:le})((function(e){var t=e.thunkListSejour,a=e.thunkAddSejour,c=e.thunkDetailsSejour,o=e.currentPatient,s=e.listSejour,u=e.currentSejour,m=e.currentFacture;X.a.locales("fr");var d=Object(r.useContext)(i.b),f=Object(r.useState)(!1),p=Object(n.a)(f,2),F=p[0],A=p[1],R=Object(r.useState)(!1),P=Object(n.a)(R,2),B=P[0],L=P[1],W=Object(r.useState)(!1),K=Object(n.a)(W,2),Z=K[0],$=K[1],ee=Object(r.useState)(!0),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)(!1),le=Object(n.a)(re,2),ce=le[0],oe=le[1],ie=Object(r.useState)([]),se=Object(n.a)(ie,2),ue=se[0],me=se[1],de=Object(r.useState)(""),fe=Object(n.a)(de,2),pe=fe[0],be=fe[1],Ee=Object(r.useState)([]),ge=Object(n.a)(Ee,2),he=ge[0],ye=ge[1],ve=Object(r.useState)([["",0,0,1,0]]),je=Object(n.a)(ve,2),xe=je[0],we=je[1],Ce=Object(r.useState)({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),Te=Object(n.a)(Ce,2),ke=Te[0],ze=Te[1],Fe=function(){ze({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",specialite:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),we([["",0,0,1,0]]),$(!1)};function Ae(e){ze(Object(E.a)(Object(E.a)({},ke),{},{debutDate:e}))}function De(e){ze(Object(E.a)(Object(E.a)({},ke),{},{finDate:e}))}function Re(e){ze(Object(E.a)(Object(E.a)({},ke),{},{DebutHeure:e}))}function Me(e){ze(Object(E.a)(Object(E.a)({},ke),{},{finHeure:e}))}function Pe(e){ze(Object(E.a)(Object(E.a)({},ke),{},{gestionnaire:e}))}function Ie(e){ze(Object(E.a)(Object(E.a)({},ke),{},{organisme:e}))}function Be(){a(Object(E.a)(Object(E.a)({},ke),{},{actes:xe}),o.iddossier),ze({debutDate:new Date,finDate:new Date,DebutHeure:new Date,finHeure:new Date,type:"",specialite:"",medecin:"",gestionnaire:"",organisme:"",beneficiaire:"",assurePrinc:"",matriculeAssure:"",numeroPEC:"",taux:0}),we([["",0,0,1,0]]),$(!1)}return Object(r.useEffect)((function(){H()({url:"".concat(Q.a.url,"/gap/list/actes")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.codeacte,n=e.libelleacte;a.push({value:t,label:n})})),me(t)})),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),ye(a)}))}),[]),Object(r.useEffect)((function(){t(o.iddossier)}),[o.iddossier]),l.a.createElement("div",{className:"DossiersPatient row px-3"},null!==u&&l.a.createElement("div",{className:"col-12 white text-secondary mb-2"},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row",style:{fontSize:"14.5px"}},l.a.createElement("div",{className:"col-3"},l.a.createElement("h6",null,"Sejour (",u.numerosejour,")"),l.a.createElement("small",null,l.a.createElement("b",null,"Date de debut :")," ",u.datedebutsejour," ",u.heuredebutsejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de fin :")," ",u.datefinsejour," ",u.heurefinsejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Sp\xe9cialit\xe9 :")," ",u.specialitesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type du s\xe9jour :")," ",u.typesejour)),l.a.createElement("div",{className:"col"},l.a.createElement("h6",null,"Facture (",u.numerofacture,")"),l.a.createElement("small",null,l.a.createElement("b",null,"Date de cr\xe9ation :")," ",u.datefacture," ",u.heurefacture),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total :")," ",u.montanttotalfacture," ","FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assu :")," ",u.partassurancefacture," ","FCFA, ",l.a.createElement("b",null,"Reste")," : ",u.resteassurancefacture," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Patient :")," ",u.partpatientfacture," ","FCFA, ",l.a.createElement("b",null,"Reste")," : ",u.restepatientfacture," FCFA"),l.a.createElement("br",null)),""!==u.gestionnaire.trim()&&l.a.createElement("div",{className:"col"},l.a.createElement("h6",null,"Assurance (",u.gestionnaire,")"),l.a.createElement("small",null,l.a.createElement("b",null,"B\xe9neficiaire :")," ",u.beneficiaire),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Assur\xe9 Principal :")," ",u.assureprinc),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Mat.:")," ",u.matriculeassure),", ",l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 PEC :")," ",u.numeropec),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Taux :")," ",u.taux,"%"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col d-flex align-items-end justify-content-end"},l.a.createElement("div",{className:"row"},l.a.createElement(Oe,{facture:m,showPDF:function(e){L(e),A(!0)},code:"WINHEALTH"})))))),l.a.createElement("hr",{className:"bg-light"})),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("div",{className:"row mx-1 mb-1"},l.a.createElement(h.a,{className:"col-2 mr-1",variant:"outlined",size:"small",value:pe,label:"Rechercher un s\xe9jour",onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");be(t)}}),l.a.createElement(y.a,{className:"mx-1",label:"sejours(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:d.theme.primary}},s.length)}),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",className:"mx-1",startIcon:l.a.createElement(D.a,null),onClick:function(){ne(!1),$(!0)},style:{textTransform:"none",backgroundColor:d.theme.primary,color:"white",fontSize:"11px"}},"Nouveau s\xe9jour")))),l.a.createElement("table",{className:"col-12 table-sm mt-2 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:d.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0 S\xe9jour","Date et heure de d\xe9but","Date et heure de fin","Type de s\xe9jour","Sp\xe9cialit\xe9","Medecin","Statut du s\xe9jour"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,s.filter((function(e){return""===pe.trim()||RegExp(pe,"i").test(e.numerosejour)})).map((function(e,t){var a=e.datedebutsejour,n=e.datefinsejour,r=e.heuredebutsejour,o=e.heurefinsejour,i=e.typesejour,s=e.statussejour,m=e.idsejour,d=e.numerosejour,f=e.medecinsejour,p=e.specialitesejour;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return c(d)},className:u&&u.idsejour===m?"bgcolor-primary font-weight-bold white-text":""},l.a.createElement("td",null,d),l.a.createElement("td",null,a," ",r),l.a.createElement("td",null,n," ",o),l.a.createElement("td",null,i),l.a.createElement("td",null,p),l.a.createElement("td",null,f),l.a.createElement("td",null,s))})))),l.a.createElement(C.a,{disableBackdropClick:!0,open:Z,onClose:Fe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"md"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau s\xe9jour")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",{className:"font-weight-bold"},"Informations du s\xe9jour"),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col-12 mt-3 mb-1"},l.a.createElement(O.a,{id:"typesejour-label"},"Type de s\xe9jour"),l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{type:t}))},label:"Type de s\xe9jour",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col-12 mt-2"},l.a.createElement(O.a,{id:"specialite-label"},"Sp\xe9cialit\xe9"),l.a.createElement(N.a,{required:!0,labelId:"specialite-label",id:"specialite",onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{specialite:t}))},label:"Sp\xe9cialit\xe9",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"P\xe9diatrie"},"P\xe9diatrie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Gyn\xe9cologie"},"Gyn\xe9cologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"M\xe8decine g\xe9n\xe9rale"},"M\xe8decine g\xe9n\xe9rale"))),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col-12 mt-2"},l.a.createElement(O.a,{id:"medecin-label"},"M\xe9decin"),l.a.createElement(N.a,{required:!0,labelId:"medecin-label",id:"medecin",onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{medecin:t}))},label:"Type de s\xe9jour",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"KOFFI Edy"},"KOFFI Edy"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"N'DONGO Abdoulaye"},"N'DONGO Abdoulaye"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"GBADJE Wilfried"},"GBADJE Wilfried"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"ZAKI Audrey"},"ZAKI Audrey")))),l.a.createElement("div",{className:"col"},l.a.createElement("small",{className:"font-weight-bold"},"Debut du s\xe9jour"),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Date de d\xe9but",id:"datedebut",format:"dd/MM/yyyy",value:ke.debutDate,onChange:Ae,className:"mt-3 col"}),l.a.createElement(G.a,{id:"heuredebut",label:"Heure de d\xe9but",ampm:!1,value:ke.DebutHeure,onChange:Re,className:"mt-2 col"}))),l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",{className:"font-weight-bold"},"Fin du s\xe9jour"),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{id:"datefin",label:"Date de fin",format:"dd/MM/yyyy",autoOk:!0,value:ke.finDate,onChange:De,className:"mt-3 col"}),l.a.createElement(G.a,{label:"Heure de fin",autoOk:!0,ampm:!1,id:"heurefin",value:ke.finHeure,onChange:Me,className:"mt-2 col"})))),l.a.createElement("small",{className:"font-weight-bold"},"Informations pour patient assur\xe9"),l.a.createElement("div",{className:"row my-3"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"assurancesList",options:he,onChange:function(e,t){Pe(t?t.label:"")},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",className:"col p-0 mx-2",id:"assurancesList",options:he,disabled:""===ke.gestionnaire.trim(),onChange:function(e,t){Ie(t?t.label:"")},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Organisme",placeholder:"Ajouter ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col-3"},l.a.createElement(O.a,{id:"assurance-label"},"Taux"),l.a.createElement(N.a,{labelId:"assurance-label",id:"assurance",label:"Taux",disabled:""===ke.gestionnaire.trim(),onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{taux:t}))},style:{fontSize:"11px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:0},"0%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"row my-3"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(N.a,{disabled:""===ke.organisme.trim(),labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;ze("assur\xe9"===t?Object(E.a)(Object(E.a)({},ke),{},{beneficiaire:t,assurePrinc:"".concat(o.nompatient," ").concat(o.prenomspatient)}):Object(E.a)(Object(E.a)({},ke),{},{beneficiaire:t}))},style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(Se,{disabled:""===ke.beneficiaire.trim(),className:"col-4 ml-2",variant:"filled",size:"small",defaultValue:" ",label:"Identit\xe9 de l'Assur\xe9",value:ke.assurePrinc,onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{assurePrinc:t}))}}),l.a.createElement(Se,{className:"col mx-2",variant:"filled",size:"small",label:"Matricule",onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{matriculeAssure:t}))},disabled:""===ke.assurePrinc.trim()}),l.a.createElement(Se,{className:"col",variant:"filled",size:"small",label:"N\xb0 PEC",onChange:function(e){var t=e.target.value;ze(Object(E.a)(Object(E.a)({},ke),{},{numeroPEC:t}))},disabled:""===ke.assurePrinc.trim()})),l.a.createElement("table",{className:"col-12 table-sm p-0 mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",{className:"row",style:{backgroundColor:d.theme.primary}},l.a.createElement("th",{className:"white-text col"},"Code"),l.a.createElement("th",{className:"white-text col-2"},"Prix U"),l.a.createElement("th",{className:"white-text col-2"},"Plafond Assu"),l.a.createElement("th",{className:"white-text col-1"},"Qte"),l.a.createElement("th",{className:"white-text col-2"},"Prix T"))),l.a.createElement("tbody",null,xe.map((function(e,t){return l.a.createElement("tr",{className:"row",key:t},l.a.createElement("td",{className:"col"},l.a.createElement(U.a,{size:"small",className:"p-0",id:"actesList",options:ue,onChange:function(e,a){if(a){var n=Object(b.a)(xe);n[t]=[a.codeacte,a.prixacte,a.prixacte,1,a.prixacte],we(n)}else{var r=Object(b.a)(xe);r[t]=["",0,0,1,0],we(r)}},getOptionLabel:function(e){return"(".concat(e.codeacte,") ").concat(e.libelleacte)},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.libelleacte))},renderInput:function(e){return l.a.createElement(Se,Object.assign({className:"col"},e,{placeholder:"acte ..."}))}})),l.a.createElement("td",{className:"col-2"}," ",l.a.createElement(Se,{type:"number",value:xe[t][1],disabled:!0,size:"small"})),l.a.createElement("td",{className:"col-2"}," ",l.a.createElement(Se,{type:"number",value:xe[t][2],onChange:function(e){var a=e.target.value,n=Object(b.a)(xe);n[t][2]=a,we(n)},size:"small"})),l.a.createElement("td",{className:"col-1"}," ",l.a.createElement(Se,{type:"number",value:xe[t][3],onChange:function(e){var a=e.target.value,n=Object(b.a)(xe);n[t][3]=a,n[t][4]=a*xe[t][1],we(n)},size:"small"})),l.a.createElement("td",{className:"col-2 d-flex flex-row"}," ",l.a.createElement(Se,{disabled:!0,value:xe[t][4],size:"small"}),t===xe.length-1&&l.a.createElement(w.a,{size:"small","aria-label":"delete",onClick:function(){var e=Object(b.a)(xe);e.splice(t,1),we(e)}},l.a.createElement(M.a,null))))})))),l.a.createElement("div",{className:"col-12 d-flex p-0 mt-2 justify-content-end"},l.a.createElement(j.a,{size:"small",variant:"contained",className:"mb-2",startIcon:l.a.createElement(D.a,null),onClick:function(){we([].concat(Object(b.a)(xe),[["",0,0,1,0]]))},style:{textTransform:"none",fontSize:"11px",backgroundColor:d.theme.primary,color:"white"}},"Ajouter"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(I.a,null),onClick:Fe,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){console.log(xe),ne(!0),Be()},disabled:ae||""===ke.type.trim()||""===ke.medecin||0!==xe.filter((function(e){return e[4]<=0})).length||""!==ke.gestionnaire.trim()&&(""===ke.organisme.trim()||""===ke.taux.toString().trim()||""===ke.beneficiaire.trim()||""===ke.assurePrinc.trim()||""===ke.numeroPEC.trim()),startIcon:l.a.createElement(Y.a,null),style:{textTransform:"none",backgroundColor:d.theme.primary,fontSize:"11px",color:"white"}},"Generer la facture"))),l.a.createElement(C.a,{open:ce,onClose:function(){oe(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center",id:"alert-dialog-title"},l.a.createElement("small",{className:"font-weight-bold"},"Ajouter un nouveau Controle")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{id:"datedebut",format:"dd/MM/yyyy",value:ke.debutDate,onChange:Ae,className:"m-1 col"}),l.a.createElement(G.a,{id:"heuredebut",ampm:!1,value:ke.DebutHeure,onChange:Re,className:"m-1 col"}))),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{id:"datefin",format:"dd/MM/yyyy",value:ke.finDate,onChange:De,className:"m-1 col"}),l.a.createElement(G.a,{id:"heurefin",value:ke.finHeure,ampm:!1,onChange:Me,className:"m-1 col"})))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-light",startIcon:l.a.createElement(I.a,null),onClick:Fe,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:Be,startIcon:l.a.createElement(_.a,null),style:{textTransform:"none",backgroundColor:d.theme.primary,color:"white",fontSize:"11px"}},"Valider"))),l.a.createElement(C.a,{open:F,onClose:function(){return A(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:Ne},l.a.createElement("object",{data:B,className:"col-12",height:700,type:"application/pdf"})))})),Ce=a(143),Te=a.n(Ce),ke=a(256),ze=a.n(ke),Fe=a(186),Ae=a.n(Fe),De={currentPage:p[0].target||null},Re=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});default:return e}},Pe={listPatients:[],currentPatient:{},modalModif:!1,modalAdd:!1,loading:!1},Ie=function(e){return{type:"SET_LIST_PATIENTS",listPatients:e}},Be=function(e){return{type:"SET_MODAL_MODIF",modalModif:e}},_e=function(e){return{type:"SET_MODAL_ADD",modalAdd:e}},Le=function(e){return{type:"SET_CURRENT_PATIENT",currentPatient:e}},Ye=function(e){return{type:"SET_LOADING",loading:e}};function Ue(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Ye(!0)),H()({url:"".concat(Q.a.url,"/gap/list/patients")}).then((function(e){var a=e.data.rows;t(Ie(a)),t(Ye(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function qe(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ye(!0)),H()({url:"".concat(Q.a.url,"/gap/details/patient/").concat(e)}).then((function(e){var t=e.data.rows;a(Le(t[0])),a(Re("dossiersPatient")),a(Ye(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_PATIENTS":return Object(E.a)(Object(E.a)({},e),{},{listPatients:t.listPatients,loading:t.loading});case"SET_CURRENT_PATIENT":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading,currentPatient:t.currentPatient});case"SET_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading});case"SET_MODAL_MODIF":return Object(E.a)(Object(E.a)({},e),{},{modalModif:t.modalModif});case"SET_MODAL_ADD":return Object(E.a)(Object(E.a)({},e),{},{modalAdd:t.modalAdd});default:return e}},Ge=a(80),We=a.n(Ge),He=a(86),Je=a.n(He),Ke=Object(F.a)({root:{"& label.Mui-focused":{color:i.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:i.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:i.a.theme.primary}}}})(h.a),Xe=function(e){return l.a.createElement(ze.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(Ke,Object.assign({type:"tel"},e))}))},Qe=Object(c.b)((function(e){var t=e.PatientReducer;return{currentPatient:t.currentPatient,modalModif:t.modalModif}}),{thunkModifPatient:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Ye(!0)),H()({url:"".concat(Q.a.url,"/gap/update/patient/").concat(t),method:"POST",data:Object(E.a)(Object(E.a)({},e),{},{user:i.a.user}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(Ue()),n(qe(t)),n(Be(!1)),n(Ye(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDeletePatient:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ye(!0)),H()({url:"".concat(Q.a.url,"/gap/delete/patient/").concat(e)}).then((function(e){e.data.rows;a(Ue()),a(Le({})),a(Be(!1)),a(Ye(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setModalModif:Be})((function(e){var t=e.currentPatient,a=e.thunkModifPatient,c=(e.thunkDeletePatient,e.setModalModif),o=e.modalModif,s=Object(r.useContext)(i.b),u=Object(r.useState)({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:"",assure:"",assurance:""}),m=Object(n.a)(u,2),d=m[0],f=m[1];function p(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nationalite:t}))}var b=function(){f({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:""}),c(!1)};return l.a.createElement("div",{className:"DetailsPatient bgcolor-primary text-white row p-3 border-left"},l.a.createElement("div",{className:"col-3",style:{fontSize:"14.5px"}},l.a.createElement("h6",{className:""},"Patient (",t.ipppatient,")"),l.a.createElement("small",null,"Nom et prenoms :"," ",l.a.createElement("b",null,t.nompatient," ",t.prenomspatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Sexe : ",l.a.createElement("b",null,t.sexepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Domicile : ",l.a.createElement("b",null,t.habitationpatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Contact : ",l.a.createElement("b",null,t.contactpatient)),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-3"},l.a.createElement("h6",null,"Personne \xe0 contacter"),l.a.createElement("small",null,"Nom et prenoms :"," ",l.a.createElement("b",null,t.nompersonnesurepatient," ",t.prenomspersonnesurepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Qualit\xe9 : ",l.a.createElement("b",null,t.qualitepersonnesurepatient)),l.a.createElement("br",null),l.a.createElement("small",null,"Contact : ",l.a.createElement("b",null,t.contactpersonnesurepatient)),l.a.createElement("br",null)),l.a.createElement("div",{className:"col d-flex justify-content-end align-items-end"},l.a.createElement(j.a,{style:{textTransform:"none",fontSize:"12px"},startIcon:l.a.createElement(Ae.a,null),className:"mx-2 bg-light",size:"small","aria-label":"delete",variant:"contained",onClick:function(){c(!0)}},"Modifier")),l.a.createElement(C.a,{disableBackdropClick:!0,open:o,transitionDuration:0,onClose:b,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"sm",onEntered:function(){return f({nom:t.nompatient,prenoms:t.prenomspatient,civilite:t.civilitepatient,sexe:t.sexepatient,datenaissance:new Date(t.datenaissancepatient.split("-").reverse().join("-")),lieunaissance:t.lieunaissancepatient,nationalite:t.nationalitepatient,habitation:t.habitationpatient,contact:t.contactpatient,situation:t.situationmatrimonialepatient,religion:t.religionpatient,profession:t.professionpatient,nompere:t.nomperepatient,prenomspere:t.prenomsperepatient,contactpere:t.contactperepatient,nommere:t.nommerepatient,prenomsmere:t.prenomsmerepatient,contactmere:t.contactmerepatient,nomtuteur:t.nomtuteurpatient,prenomstuteur:t.prenomstuteurpatient,contacttuteur:t.contacttuteurpatient,nompersonnesure:t.nompersonnesurepatient,prenomspersonnesure:t.prenomspersonnesurepatient,contactpersonnesure:t.contactpersonnesurepatient,qualitepersonnesure:t.qualitepersonnesurepatient})}},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",{className:"font-weight-bold"},"Informations du patient")),l.a.createElement(k.a,null,l.a.createElement("small",{className:"font-weight-bold bg-light"},"Patient (",t.ipppatient,")"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"civilite-label"},"Civilit\xe9"),l.a.createElement(N.a,{required:!0,labelId:"civilite-label",id:"civilite",label:"Civilit\xe9",value:d.civilite,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{civilite:t}))},error:0===d.civilite.trim().length,style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"M"},"M."),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mme"},"Mme"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mlle"},"Mlle"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Enf"},"Enfant"))),l.a.createElement(Ke,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Nom",onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nom:t}))},value:d.nom,error:0===d.nom.trim().length}),l.a.createElement(Ke,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Prenoms",value:d.prenoms,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{prenoms:t}))},error:0===d.prenoms.trim().length})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"sexe-label"},"Sexe"),l.a.createElement(N.a,{required:!0,labelId:"sexe-label",id:"sexe",label:"Sexe",value:d.sexe,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{sexe:t}))},error:0===d.sexe.trim().length,style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"M"},"M"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"F"},"F"))),l.a.createElement(Ke,{className:"m-1 col-4",variant:"standard",size:"small",label:"Lieu de naissance",value:d.lieunaissance,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{lieunaissance:t}))}}),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Date de naissance",id:"date-picker-dialog",format:"dd MMMM yyyy",autoOk:!0,value:d.datenaissance,onChange:function(e){f(Object(E.a)(Object(E.a)({},d),{},{datenaissance:e}))},className:"m-1 col-4"}))),l.a.createElement("div",{className:"row py-1"},l.a.createElement(U.a,{size:"small",className:"col p-0 mt-1",id:"payslist",defaultValue:{label:t.nationalite},options:be.map((function(e){return{label:e}})),onChange:function(e,t){p(t?{target:{value:t.label}}:{target:{value:""}})},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"standard",label:"Nationalit\xe9",placeholder:"Ajouter ..."}))}}),l.a.createElement(Ke,{required:!0,className:"m-1 col",variant:"standard",size:"small",label:"Domicile",value:d.habitation,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{habitation:t}))},error:0===d.habitation.trim().length}),l.a.createElement(Xe,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contact,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{contact:t}))}})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"situation-label"},"Situation"),l.a.createElement(N.a,{labelId:"situation-label",id:"situation",label:"Situation",value:d.situation,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{situation:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mari\xe9"},"Mari\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"C\xe9libataire"},"C\xe9libataire"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Divorc\xe9"},"Divorc\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Concubinage"},"Concubinage"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Veuf"},"Veuf(ve)"))),l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"religion-label"},"R\xe9ligion"),l.a.createElement(N.a,{labelId:"religion-label",id:"religion",label:"R\xe9ligion",value:d.religion,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{religion:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Chr\xe9tient"},"Chr\xe9tient(ne)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Musulman"},"Musulman(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Boudiste"},"Boudiste"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Animiste"},"Animiste"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Autre"},"Autre r\xe9ligion"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Sans"},"Sans r\xe9ligion"))),l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"profession-label"},"Proffession"),l.a.createElement(N.a,{labelId:"profession-label",id:"profession",value:d.profession,label:"Profession",onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{profession:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"agriculteurs"},"Agriculteurs"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"artisans"},"Artisants"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"commer\xe7ant"},"Commer\xe7ants"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"chef d'entreprise"},"Chef d'entreprise"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"profession liberale"},"Professions liberales"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"etudiant"},"\xc9tudiant(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"retrait\xe9"},"Retrait\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"salari\xe9"},"Salari\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"sans activit\xe9"},"Sans activit\xe9")))),l.a.createElement("small",{className:"font-weight-bold bg-light"},"P\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nompere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nompere:t}))}}),l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomspere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{prenomspere:t}))}}),l.a.createElement(Xe,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contactpere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{contactpere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"M\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nommere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nommere:t}))}}),l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomsmere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{prenomsmere:t}))}}),l.a.createElement(Xe,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contactmere,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{contactmere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Tuteur"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nomtuteur,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nomtuteur:t}))}}),l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomstuteur,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{prenomstuteur:t}))}}),l.a.createElement(Xe,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:d.contacttuteur,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{contacttuteur:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Personne \xe0 contacter en cas de besoins"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(Ke,{className:"m-1 col-2",variant:"standard",size:"small",label:"Qualit\xe9",value:d.qualitepersonnesure,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{qualitepersonnesure:t}))}}),l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:d.nompersonnesure,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{nompersonnesure:t}))}}),l.a.createElement(Ke,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:d.prenomspersonnesure,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{prenomspersonnesure:t}))}}),l.a.createElement(Xe,{required:!0,className:"m-1 col-3",variant:"standard",size:"small",label:"Contact",value:d.contactpersonnesure,onChange:function(e){var t=e.target.value;f(Object(E.a)(Object(E.a)({},d),{},{contactpersonnesure:t}))},error:0===d.contactpersonnesure.trim().length})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center text-center mt-2"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"1) Veuillez Renseigner tous les champs Obligatoires avant la creation du patient ",l.a.createElement("br",null),"2) La suppression est sans confirmation et irreversible"))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:b,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){a(d,t.ipppatient),b()},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:s.theme.primary,color:"white",fontSize:"11px"}},"Modifier"))))})),Ze=Object(c.b)((function(e){return{currentPatient:e.PatientReducer.currentPatient}}))((function(e){var t=e.currentPatient;return l.a.createElement("div",{className:"Dossiers row"},t.iddossier?l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"col-12 p-0"},l.a.createElement(Qe,null)),l.a.createElement("section",{className:"col-12 p-0"},l.a.createElement(we,null))):l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun patient selectionn\xe9"),l.a.createElement("small",null,"Rendez vous dans liste des patients et selectionnez un patient")))})),$e=a(712),et=a.n($e),tt=a(414),at=a(711),nt=a.n(at),rt=Object(F.a)({root:{"& label.Mui-focused":{color:i.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:i.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:i.a.theme.primary}}}})(h.a),lt=function(e){return l.a.createElement(ze.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(rt,Object.assign({type:"tel"},e))}))},ct=Object(c.b)((function(e){var t=e.PatientReducer;return{listPatients:t.listPatients,modalAdd:t.modalAdd,currentPatient:t.currentPatient}}),{thunkListPatient:Ue,thunkAddPatient:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ye(!0)),H()({url:"".concat(Q.a.url,"/gap/add/patient"),method:"POST",data:Object(E.a)(Object(E.a)({},e),{},{user:i.a.user}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){var t=e.data;t.message,t.rows;a(Ue()),a(_e(!1)),a(Ye(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkDetailsPatient:qe,thunkSearchPatient:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Ye(!0)),0===e.trim().length?a(Ue()):H()({url:"".concat(Q.a.url,"/gap/search/patients/").concat(e)}).then((function(e){var t=e.data.rows;a(Ie(t)),a(Ye(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setModalAdd:_e})((function(e){var t=e.thunkListPatient,a=e.thunkAddPatient,c=e.thunkSearchPatient,o=e.listPatients,s=e.thunkDetailsPatient,u=e.modalAdd,m=e.setModalAdd,d=e.currentPatient,f=e.modalModif,p=Object(r.useContext)(i.b);X.a.locale("fr");var b=Object(r.useState)(""),w=Object(n.a)(b,2),F=w[0],A=w[1],R=Object(r.useState)(null),M=Object(n.a)(R,2),P=M[0],I=M[1],B=Object(r.useState)({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:"",assure:"",assurance:""}),_=Object(n.a)(B,2),L=_[0],Y=_[1];function G(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nationalite:t}))}var W=function(){Y({nom:"",prenoms:"",civilite:"",sexe:"",datenaissance:new Date,lieunaissance:"",nationalite:"",habitation:"",contact:"",situation:"",religion:"",profession:"",nompere:"",prenomspere:"",contactpere:"",nommere:"",prenomsmere:"",contactmere:"",nomtuteur:"",prenomstuteur:"",contacttuteur:"",nompersonnesure:"",prenomspersonnesure:"",contactpersonnesure:"",qualitepersonnesure:""}),m(!1)};return Object(r.useEffect)((function(){t()}),[]),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(rt,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un patient",value:F,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");A(t),c(t.trim())}}),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{label:"patient(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:p.theme.primary}}," ",o.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(et.a,null),onClick:function(){I(!P)},style:{textTransform:"none",fontSize:"11px"},className:P?"bg-danger white-text":""},"Scanner le code QR"),l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(D.a,null),onClick:function(){m(!0)},style:{textTransform:"none",backgroundColor:p.theme.primary,color:"white",fontSize:"11px"},className:"ml-2"},"Ajouter un patient")))),l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},0===o.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h3",{className:"text-center lead"},"Aucun patient"),l.a.createElement("small",null," Pour en cr\xe9er un, cliquer le boutton 'ajouter un patient' puis rerenseignez les informations ")):l.a.createElement("table",{className:"table-sm table-hover col-12 table-striped"},l.a.createElement("thead",{style:{backgroundColor:p.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","IPP","Nom & prenoms","Sexe","Domicile","Date de naissance","Lieu de naissance","Nationalit\xe9","Contact"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,o.map((function(e,t){e.iddossier;var a=e.ipppatient,n=e.nompatient,r=e.prenomspatient,c=e.sexepatient,o=e.habitationpatient,i=e.datenaissancepatient,u=e.lieunaissancepatient,m=e.nationalitepatient,f=e.contactpatient,p=e.civilitepatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return s(a)},className:d&&d.ipppatient===a?"bgcolor-primary font-weight-bold white-text":""},l.a.createElement("td",null,t+1),l.a.createElement("td",null,l.a.createElement("b",null,a)),l.a.createElement("td",null,l.a.createElement("b",null,p," ",n," ",r)),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,i),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",null,f))}))))),l.a.createElement(C.a,{disableBackdropClick:!0,open:u,onClose:W,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"sm"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",{className:"font-weight-bold"},"Ajouter un Patient")),l.a.createElement(k.a,null,l.a.createElement("small",{className:"font-weight-bold bg-light"},"Patient"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"civilite-label"},"Civilit\xe9"),l.a.createElement(N.a,{required:!0,labelId:"civilite-label",id:"civilite",label:"Civilit\xe9",value:L.civilite,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{civilite:t}))},error:0===L.civilite.trim().length,style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"M"},"M."),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mme"},"Mme"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mlle"},"Mlle"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Enf"},"Enfant"))),l.a.createElement(rt,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Nom",onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nom:t}))},value:L.nom,error:0===L.nom.trim().length}),l.a.createElement(rt,{required:!0,className:"m-1 col-4",variant:"standard",size:"small",label:"Prenoms",value:L.prenoms,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{prenoms:t}))},error:0===L.prenoms.trim().length})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"sexe-label"},"Sexe"),l.a.createElement(N.a,{required:!0,labelId:"sexe-label",id:"sexe",label:"Sexe",value:L.sexe,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{sexe:t}))},error:0===L.sexe.trim().length,style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"M"},"M"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"F"},"F"))),l.a.createElement(rt,{className:"m-1 col-4",variant:"standard",size:"small",label:"Lieu de naissance",value:L.lieunaissance,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{lieunaissance:t}))}}),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Date de naissance",id:"date-picker-dialog",format:"dd/MM/yyyy",value:L.datenaissance,onChange:function(e){Y(Object(E.a)(Object(E.a)({},L),{},{datenaissance:e}))},className:"m-1 col-4"}))),l.a.createElement("div",{className:"row py-1"},l.a.createElement(U.a,{size:"small",className:"col p-0 mt-1",id:"payslist",options:be.map((function(e){return{label:e}})),onChange:function(e,t){G(t?{target:{value:t.label}}:{target:{value:""}})},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"standard",label:"Nationalit\xe9",placeholder:"Ajouter ..."}))}}),l.a.createElement(rt,{required:!0,className:"m-1 col",variant:"standard",size:"small",label:"Domicile",value:L.habitation,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{habitation:t}))},error:0===L.habitation.trim().length}),l.a.createElement(lt,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contact,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{contact:t}))}})),l.a.createElement("div",{className:"row py-1"},l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"situation-label"},"Situation"),l.a.createElement(N.a,{labelId:"situation-label",id:"situation",label:"Situation",value:L.situation,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{situation:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mari\xe9"},"Mari\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"C\xe9libataire"},"C\xe9libataire"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Divorc\xe9"},"Divorc\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Concubinage"},"Concubinage"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Veuf"},"Veuf(ve)"))),l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"religion-label"},"R\xe9ligion"),l.a.createElement(N.a,{labelId:"religion-label",id:"religion",label:"R\xe9ligion",value:L.religion,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{religion:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Chr\xe9tient"},"Chr\xe9tient(ne)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Musulman"},"Musulman(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Boudiste"},"Boudiste"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Animiste"},"Animiste"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Autre"},"Autre r\xe9ligion"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Sans"},"Sans r\xe9ligion"))),l.a.createElement(x.a,{variant:"standard",size:"small",className:"m-1 col"},l.a.createElement(O.a,{id:"profession-label"},"Proffession"),l.a.createElement(N.a,{labelId:"profession-label",id:"profession",value:L.profession,label:"Profession",onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{profession:t}))},style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"agriculteurs"},"Agriculteurs"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"artisans"},"Artisants"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"commer\xe7ant"},"Commer\xe7ants"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"chef d'entreprise"},"Chef d'entreprise"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"profession liberale"},"Professions liberales"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"etudiant"},"\xc9tudiant(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"retrait\xe9"},"Retrait\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"salari\xe9"},"Salari\xe9(e)"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"sans activit\xe9"},"Sans activit\xe9")))),l.a.createElement("small",{className:"font-weight-bold bg-light"},"P\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nompere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nompere:t}))}}),l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomspere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{prenomspere:t}))}}),l.a.createElement(lt,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contactpere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{contactpere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"M\xe8re"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nommere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nommere:t}))}}),l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomsmere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{prenomsmere:t}))}}),l.a.createElement(lt,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contactmere,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{contactmere:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Tuteur"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nomtuteur,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nomtuteur:t}))}}),l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomstuteur,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{prenomstuteur:t}))}}),l.a.createElement(lt,{className:"m-1 col-4",variant:"standard",size:"small",label:"Contact",value:L.contacttuteur,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{contacttuteur:t}))}})),l.a.createElement("small",{className:"font-weight-bold bg-light"},"Personne \xe0 contacter en cas de besoins"),l.a.createElement("div",{className:"row py-1"},l.a.createElement(rt,{className:"m-1 col-2",variant:"standard",size:"small",label:"Qualit\xe9",value:L.qualitepersonnesure,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{qualitepersonnesure:t}))}}),l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Nom",value:L.nompersonnesure,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{nompersonnesure:t}))}}),l.a.createElement(rt,{className:"m-1 col",variant:"standard",size:"small",label:"Prenoms",value:L.prenomspersonnesure,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{prenomspersonnesure:t}))}}),l.a.createElement(lt,{required:!0,className:"m-1 col-3",variant:"standard",size:"small",label:"Contact",value:L.contactpersonnesure,onChange:function(e){var t=e.target.value;Y(Object(E.a)(Object(E.a)({},L),{},{contactpersonnesure:t}))},error:0===L.contactpersonnesure.trim().length})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center align-items-center text-center mt-2"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Veuillez Renseigner tous les champs Obligatoires avant la creation du patient"))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:W,style:{textTransform:"none",fontSize:"11px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){a(L),W()},disabled:!function(){var e=L.nom,t=L.prenoms,a=L.civilite,n=L.habitation,r=L.contactpersonnesure,l=L.sexe;return 0!==e.trim().length&&0!==a.trim().length&&0!==t.trim().length&&0!==n.trim().length&&0!==l.trim().length&&0!==r.trim().length}(),startIcon:l.a.createElement(D.a,null),style:{textTransform:"none",backgroundColor:p.theme.primary,fontSize:"11px",color:"white"}},"Creer le patient"))),P&&!f&&!u&&l.a.createElement("div",{style:{position:"fixed",zIndex:"10001",right:"0.5cm",bottom:"0.5cm"},className:"bg-light col-2 d-flex p-0 flex-column border justify-content-center text-center align-items-center"},l.a.createElement("img",{src:nt.a,height:125,width:125,alt:"",className:"animated infinite flash"}),l.a.createElement("small",{style:{fontSize:"10px"},className:"text-secondary"},"Scanner votre le Qr code pour identifier le patient"),l.a.createElement(tt.a,{delay:500,style:{width:"100%"},onError:function(e){alert(e)},onScan:function(e){null!=e&&H()({url:"".concat(Q.a.url,"/gap/details/patient/").concat(e)}).then((function(t){0===t.data.rows.length?alert("Ce patient n'existe pas ici"):s(e)}))}}))))})),ot=a(788),it=a(782),st=[{id:"listPatient",Component:Object(c.b)((function(e){return{loading:e.PatientReducer.loading}}),{setLoading:Ye})((function(e){var t=e.loading,a=e.setLoading;return l.a.createElement("div",{className:"row p-2 Patients mt-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement(ct,null)),l.a.createElement(ot.a,{open:t,onClose:function(){return a(!1)}},l.a.createElement(it.a,{variant:"standard",severity:"info"},"Chargement ...")))}))},{id:"dossiersPatient",Component:Ze}],ut=a(8),mt=a.n(ut),dt=(a(713),function(e){var t=e.links,a=e.currentPage,n=e.setCurrentPage;return l.a.createElement("div",{className:"row onglets bg-light"},t.map((function(e,t){var r=e.title,c=e.icon,o=e.target;return l.a.createElement("div",{key:t,onClick:function(){n(o)},style:{cursor:"pointer"},className:"px-3 text-center onglet py-2 ".concat(a===o?"white text-secondary actifOnglet":"text-secondary"," ")},l.a.createElement("i",{className:"mdi-".concat(c," mr-2")}),r)})))});dt.prototype={user:mt.a.object.isRequired,functions:mt.a.array.isRequired};var ft=dt,pt=Object(c.b)((function(e){return{currentPage:e.pageReducer.currentPage}}),{setCurrentPage:Re})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage;return Object(r.useEffect)((function(){t("Admission")})),l.a.createElement("div",{className:"Admission row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:p,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3",style:{height:"90vh",overflowY:"scroll",overflowX:"hidden"}},st.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))))})),bt=i.a.permissions.functions.filter((function(e){return"Caisse"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),Et=[{target:"attenteFacture",title:"Factures en attente",icon:"action-assignment"},{target:"patientFacture",title:"Factures par patient",icon:"action-assignment-ind"},{target:"avoirFacture",title:"Factures d'avoir",icon:"editor-wrap-text"},{target:"compte",title:"Compte",icon:"action-account-balance"}],gt=0!==bt.length?Et.filter((function(e){return bt.includes(e.target)})):Et,ht={listComptes:[],currentCompte:{},showMmodal:!1},yt=function(e){return{type:"SET_LIST_COMPTES",listComptes:e}},vt=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},jt=function(e){return{type:"SET_CURRENT_COMPTE",currentCompte:e}};function xt(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/comptes")}).then((function(e){var a=e.data.rows;t(yt(a))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_COMPTES":return Object(E.a)(Object(E.a)({},e),{},{listComptes:t.listComptes});case"SET_CURRENT_COMPTE":return Object(E.a)(Object(E.a)({},e),{},{currentCompte:t.currentCompte});case"SET_SHOW_MODAL":return Object(E.a)(Object(E.a)({},e),{},{showModal:t.showModal});default:return e}},Nt=Object(c.b)((function(e){var t=e.compteReducer;return{listComptes:t.listComptes,currentCompte:t.currentCompte,showModal:t.showModal}}),{thunkListComptes:xt,thunkAddcompte:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/compte"),data:{ipp:e},headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;a(xt())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkSetCurrentCompte:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/details/compte/").concat(e)}).then((function(e){var t=e.data.rows;a(jt(t?t[0]:{})),a(vt(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowModal:vt,thunkAddTransaction:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/transaction"),data:Object(E.a)(Object(E.a)({},e),{},{compte:t}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(xt()),n(vt(!1))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkSearchCompte:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e.trim().length?a(xt()):H()({url:"".concat(Q.a.url,"/gap/search/compte/").concat(e)}).then((function(e){var t=e.data.rows;a(yt(t))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}})((function(e){e.thunkSearchCompte;var t=e.thunkListComptes,a=e.thunkAddcompte,c=e.setShowModal,o=e.thunkSetCurrentCompte,s=e.thunkAddTransaction,u=e.currentCompte,m=e.listComptes,d=e.showModal,f=Object(r.useState)(""),p=Object(n.a)(f,2),b=p[0],g=p[1],w=Object(r.useState)(),F=Object(n.a)(w,2),A=F[0],R=F[1],M=Object(r.useState)(!1),P=Object(n.a)(M,2),B=P[0],L=P[1],Y=Object(r.useState)(),q=Object(n.a)(Y,2),V=q[0],G=q[1],W=Object(r.useState)({mode:"",montant:"",type:""}),J=Object(n.a)(W,2),K=J[0],X=J[1];function Z(){L(!1),R("")}function $(){X({mode:"",montant:"",type:""}),c(!1)}var ee=Object(r.useState)(["N\xb0","Numero de compte","Date","Heure","Patient","Montant"]),te=Object(n.a)(ee,1)[0],ae=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){H()({url:"".concat(Q.a.url,"/gap/list/patients_no_compte")}).then((function(e){var t=e.data.rows;G(t)})),t()}),[m]),l.a.createElement("div",{className:"AttenteFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un compte",value:b,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");g(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Comptes(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ae.theme.primary}},m.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(D.a,null),onClick:function(){L(!0)},style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Nouveau compte")))),0===m.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun compte existant"),l.a.createElement("small",null,"Pour en ajouter un cliquez sur le boutton 'Nouveau compte' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:ae.theme.secondaryDark}},l.a.createElement("tr",null,te.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,m.filter((function(e){return""===b.trim()||RegExp(b,"i").test(e.numerocompte)})).map((function(e,t){var a=e.numerocompte,n=e.datecompte,r=e.heurecompte,c=e.nompatient,i=e.prenomspatient,s=e.civilitepatient,u=e.montantcompte;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){return o(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",{className:"font-weight-bold"},s," ",c," ",i),l.a.createElement("td",{className:"font-weight-bold"},pe(u)," FCFA"))})))),l.a.createElement(C.a,{disableBackdropClick:!0,open:B,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau compte")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"listpatients",options:V,onChange:function(e,t){R(t?t.ipppatient:null)},getOptionLabel:function(e){return"(".concat(e.ipppatient,") ").concat(e.nompatient.toLowerCase()," ").concat(e.prenomspatient.toLowerCase())},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,"(",e.ipppatient,") ",e.nompatient," ",e.prenomspatient," n\xe9 le"," ",e.datenaissancepatient," \xe0"," ",e.lieunaissancepatient))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{label:"Patient",variant:"filled",placeholder:"Rechercher le patient ..."}))}}))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(I.a,null),onClick:Z,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){a(A),L(!1)},startIcon:l.a.createElement(_.a,null),disabled:!A,style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Valider"))),l.a.createElement(C.a,{disableBackdropClick:!0,open:d,onClose:$,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,transitionDuration:0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Effectuer une transaction")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("small",null," ",l.a.createElement("b",null,"Patient : "," "," "),u.nompatient," ",u.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null," ",l.a.createElement("b",null,"N\xb0 compte : "," "," "),u.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null," ",l.a.createElement("b",null,"Solde : "," "," "),pe(u.montantcompte)," FCFA"),l.a.createElement("br",null),l.a.createElement("div",{className:"row my-2 mx-1"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typetransaction-label"},"Type"),l.a.createElement(N.a,{labelId:"typetransaction-label",id:"typetransaction",value:K.type,onChange:function(e){var t=e.target.value;X(Object(E.a)(Object(E.a)({},K),{},{type:t}))},variant:"filled",label:"Type",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Remboursement"},"Remboursement"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"D\xe9pot"},"D\xe9pot")))),l.a.createElement("div",{className:"row my-2 mx-1"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col mr-2"},l.a.createElement(O.a,{id:"typesejour-label"},"Mode de paiement"),l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",variant:"filled",value:K.mode,onChange:function(e){var t=e.target.value;X(Object(E.a)(Object(E.a)({},K),{},{mode:t}))},label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(h.a,{className:"col",type:"number",variant:"filled",size:"small",label:"Montant",value:K.montant,onChange:function(e){!function(e){var t=e.target.value;X(Object(E.a)(Object(E.a)({},K),{},{montant:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(I.a,null),onClick:$,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){s(Object(E.a)(Object(E.a)({},K),{},{montant:"Remboursement"===K.type?-Math.abs(K.montant):Math.abs(K.montant)}),u.numerocompte),X({mode:"",montant:"",type:""})},startIcon:l.a.createElement(_.a,null),disabled:""===K.mode.trim()||""===K.type.trim()||""===K.montant.trim()||"Remboursement"===K.type&&K.montant.trim()>u.montantcompte,style:{textTransform:"none",backgroundColor:ae.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),St={listFactures:[],listFacturesPatient:[],listFacturesAttentes:[],currentFacture:{},currentPatient:{},categorieFactures:"tous",showModal:!1},wt=function(e){return{type:"SET_CATEGORIE_FACTURES",categorieFactures:e}},Ct=function(e){return{type:"SET_LIST_FACTURES",listFactures:e}},Tt=function(e){return{type:"SET_LIST_FACTURES_ATTENTES",listFacturesAttentes:e}},kt=function(e){return{type:"SET_LIST_FACTURES_PATIENT",listFacturesPatient:e}},zt=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},Ft=function(e){return{type:"SET_CURRENT_PATIENT",currentPatient:e}},At=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}};function Dt(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(At(t?t[0]:{})),a(zt(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Rt(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n,r){var l,c;return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:l=r(),c=l.factureReducer,H()({method:"POST",url:"".concat(Q.a.url,"/gap/encaisser_patient/facture/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(Pt()),n(Bt(c.currentPatient)),n(zt(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function Mt(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/annuler/facture/").concat(e)}).then((function(e){e.data.rows;a(Pt())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Pt(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/factures_attentes")}).then((function(e){var a=e.data.rows;t(Tt(a||[]))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function It(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:0===e.trim().length?a(Pt()):H()({url:"".concat(Q.a.url,"/gap/search/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(Tt(t||[]))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Bt(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/factures_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(kt(n||[])),a(Ft(e)),a(wt("tous"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function _t(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/factures_avoir")}).then((function(e){var a=e.data.rows;t(Ct(a||[]))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(E.a)(Object(E.a)({},e),{},{listFactures:t.listFactures});case"SET_CATEGORIE_FACTURES":return Object(E.a)(Object(E.a)({},e),{},{categorieFactures:t.categorieFactures});case"SET_LIST_FACTURES_PATIENT":return Object(E.a)(Object(E.a)({},e),{},{listFacturesPatient:t.listFacturesPatient});case"SET_LIST_FACTURES_ATTENTES":return Object(E.a)(Object(E.a)({},e),{},{listFacturesAttentes:t.listFacturesAttentes});case"SET_CURRENT_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_PATIENT":return Object(E.a)(Object(E.a)({},e),{},{currentPatient:t.currentPatient});case"SET_SHOW_MODAL":return Object(E.a)(Object(E.a)({},e),{},{showModal:t.showModal});default:return e}},Yt=Object(c.b)((function(e){var t=e.factureReducer;return{listFacturesAttentes:t.listFacturesAttentes,currentFacture:t.currentFacture,showModal:t.showModal}}),{thunkListFacturesAttentes:Pt,thunkEncaisserFactures:Rt,thunkAnnulerFactures:Mt,thunkSearchFacture:It,thunkDetailsFacture:Dt,setShowModal:zt})((function(e){var t=e.listFacturesAttentes,a=e.currentFacture,c=e.showModal,o=e.thunkListFacturesAttentes,s=e.thunkDetailsFacture,u=e.thunkEncaisserFactures,m=e.thunkSearchFacture,d=e.setShowModal,f=Object(r.useState)(""),p=Object(n.a)(f,2),b=p[0],g=p[1],y=Object(r.useState)({modepaiement:"",montantrecu:"",numeroTransaction:""}),v=Object(n.a)(y,2),w=v[0],F=v[1],A=function(){d(!1),F({modepaiement:"",montantrecu:"",numeroTransaction:""})};function D(e){var t=e.target.value;F(Object(E.a)(Object(E.a)({},w),{},{modepaiement:t}))}var R=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){o(),Q.b.on("facture_nouvelle",(function(){o()})),Q.b.on("valid_paiement",(function(e,t){u(e,{modepaiement:"Compte",montantrecu:t,compte:a.numerocompte}),A()}))}),[]),l.a.createElement("div",{className:"AttenteFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:b,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","").trim();g(t),m(t)}}))),l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:R.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,t.map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,i=e.auteurfacture,u=e.nompatient,m=e.prenomspatient,d=e.montanttotalfacture,f=e.partassurancefacture,p=e.resteassurancefacture,b=e.partpatientfacture,E=e.restepatientfacture;e.statutfacture;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){s(r)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",u," ",m),l.a.createElement("td",null,n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"text-right"},pe(d)),l.a.createElement("td",{className:"text-right"},pe(f)),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"text-right"},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(E<0&&"flash animated infinite red-text font-weight-bold")},pe(E)))})))),l.a.createElement(C.a,{disableBackdropClick:!0,transitionDuration:0,open:c,onClose:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",a.numerofacture),0===a.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("small",{className:"green-text font-weight-bold"},"(d\xe9j\xe0 pay\xe9e)"))),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),a.civilitepatient," "," ",a.nompatient," "," ",a.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",pe(a.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",pe(a.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:a.restefacture<0&&"flash animated infinite red-text font-weight-bold"},pe(a.restepatientfacture)," FCFA")),l.a.createElement("br",null),null!==a.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",a.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",pe(a.montantcompte)," FCFA")))),0!==a.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Mode de paiement"),a.montantcompte>0?l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:w.modepaiment,onChange:D,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:w.modepaiment,onChange:D,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(h.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant recu",value:w.montantrecu,onChange:function(e){!function(e){var t=e.target.value;F(Object(E.a)(Object(E.a)({},w),{},{montantrecu:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(h.a,{className:"col-12 mt-2",variant:"filled",size:"small",label:"Numero de Transaction",value:w.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(w.modepaiement),onChange:function(e){!function(e){var t=e.target.value;F(Object(E.a)(Object(E.a)({},w),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:A,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),0!==a.restepatientfacture&&l.a.createElement(j.a,{variant:"contained",className:"mb-2",disabled:""===w.modepaiement.trim()||""===w.montantrecu.trim()||parseInt(w.montantrecu.trim())>parseInt(a.restepatientfacture)||"Compte"===w.modepaiement&&parseInt(w.montantrecu.trim())>parseInt(a.montantcompte)||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(w.modepaiement)&&""===w.numeroTransaction.trim(),onClick:function(){return e=a.numerofacture,t=a.nompatient+" "+a.prenomspatient,u(e,Object(E.a)(Object(E.a)({},w),{},{compte:a.numerocompte,patient:t})),void A();var e,t},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:R.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),Ut=a(714),qt=a.n(Ut),Vt=Object(c.b)((function(e){var t=e.factureReducer;return{listFacturesPatient:t.listFacturesPatient,showModal:t.showModal,currentPatient:t.currentPatient,currentFacture:t.currentFacture,categorieFactures:t.categorieFactures}}),{thunkListFacturesPayeesPatient:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/factures_payees_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(kt(n||[])),a(Ft(e)),a(wt("pay\xe9"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFacturesImpayeesPatient:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/factures_impayees_patient/").concat(e.ipppatient)}).then((function(t){var n=t.data.rows;a(kt(n||[])),a(Ft(e)),a(wt("impay\xe9"))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFacturesPatient:Bt,thunkEncaisserFactures:Rt,thunkDetailsFacture:Dt,thunkEncaisserAllFactures:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a,n){var r,l;return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n(),l=r.factureReducer,H()({method:"POST",data:e,headers:{"content-type":"application/x-www-form-urlencoded"},url:"".concat(Q.a.url,"/gap/encaisser_patient/all_factures")}).then((function(e){e.data.rows;a(Pt()),a(Bt(l.currentPatient)),a(zt(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},setShowModal:zt})((function(e){var t,a=e.currentPatient,c=e.currentFacture,o=e.categorieFactures,s=e.listFacturesPatient,u=e.thunkListFacturesPatient,m=e.thunkListFacturesPayeesPatient,d=e.thunkListFacturesImpayeesPatient,f=e.thunkEncaisserAllFactures,p=e.thunkEncaisserFactures,b=e.showModal,g=e.thunkDetailsFacture,y=e.setShowModal,v=Object(r.useState)({nbpaye:0,nbimppaye:0,nbTotal:0,montantTotal:0,reste:0,factureImpaye:[]}),w=Object(n.a)(v,2),F=w[0],A=w[1],D=Object(r.useState)([]),R=Object(n.a)(D,2),M=R[0],P=R[1],I=Object(r.useState)(!1),B=Object(n.a)(I,2),_=B[0],L=B[1],Y=Object(r.useState)({numerocompte:"",solde:""}),q=Object(n.a)(Y,2),V=q[0],G=q[1],W=Object(r.useState)(""),J=Object(n.a)(W,2),K=J[0],X=J[1],Z=Object(r.useState)([]),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)({modepaiement:"",montantrecu:"",numeroTransaction:""}),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ce=Object(r.useContext)(i.b),oe=function(){y(!1),le({modepaiement:"",montantrecu:"",numeroTransaction:""})};function ie(e){var t=e.target.value;le(Object(E.a)(Object(E.a)({},re),{},{modepaiement:t}))}return Object(r.useEffect)((function(){H()({url:"".concat(Q.a.url,"/gap/list/patients")}).then((function(e){var t=e.data.rows;P(t)}))}),[]),Object(r.useEffect)((function(){H()({url:"".concat(Q.a.url,"/gap/verify/compte/").concat(a.ipppatient)}).then((function(e){var t=e.data.rows;t[0]&&G({numerocompte:t[0].numerocompte,solde:t[0].montantcompte})}))}),[a,s]),Object(r.useEffect)((function(){"tous"===o?u(a):"pay\xe9"===o?m(a):d(a)}),[]),Object(r.useEffect)((function(){H()({url:"".concat(Q.a.url,"/gap/list/factures_patient/").concat(a.ipppatient)}).then((function(e){var t=e.data.rows;A({nbTotal:t.length,nbpaye:t.filter((function(e){return 0===e.restepatientfacture})).length,nbimppaye:t.filter((function(e){return e.restepatientfacture>0})).length,reste:0!==t.length?t.map((function(e){return e.restepatientfacture})).reduce((function(e,t){return e+t})):0,montantTotal:0!==t.length?t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})):0,factureImpaye:t.filter((function(e){return e.restepatientfacture>0}))}),te(0!==t.length?t.filter((function(e){return e.restepatientfacture>0})).map((function(e){return[re.modepaiement,"Patient",e.restepatientfacture,e.numerofacture]})):[])}))}),[a,o,s,re.modepaiement]),l.a.createElement("div",{className:"Dossiers row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(U.a,{size:"small",className:"col-3 p-0",id:"listpatients",value:a.nompatient?a:M[0],options:M,onChange:function(e,t){t&&u(t)},getOptionLabel:function(e){return"(".concat(e.ipppatient,") ").concat(e.nompatient.toUpperCase()," ").concat(e.prenomspatient.toUpperCase())},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,"(",e.ipppatient,") ",e.nompatient," ",e.prenomspatient," n\xe9 le"," ",e.datenaissancepatient))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{label:"Selectionnez un patient",variant:"outlined",placeholder:"Rechercher le patient ..."}))}}),l.a.createElement(h.a,{className:"col-2 ml-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:K,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");X(t)}}))),l.a.createElement("div",{className:"col-2 pr-3 p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{style:{cursor:0===F.nbTotal?"default":"pointer"},className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("tous"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==F.nbTotal&&u(a)}},l.a.createElement("small",null,"Toutes les factures"),l.a.createElement("span",{className:"badge ".concat("tous"===o?"textcolor-primary white":0!==F.nbTotal?"bgcolor-primary text-white":"badge-light","  badge-pill")},F.nbTotal)),l.a.createElement("li",{style:{cursor:0===F.nbpaye?"default":"pointer"},href:"#FacturesPay\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("pay\xe9"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==F.nbpaye&&m(a)}},l.a.createElement("small",null,"Factures pay\xe9es"),l.a.createElement("span",{className:"badge ".concat("pay\xe9"===o?"textcolor-primary white":0!==F.nbpaye?"bgcolor-primary text-white":"badge-light","  badge-pill")},F.nbpaye)),l.a.createElement("li",{style:{cursor:0===F.nbimppaye?"default":"pointer"},href:"#FacturesImpay\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("impay\xe9"===o?"bgcolor-primary text-white":"text-secondary"," "),onClick:function(){0!==F.nbimppaye&&d(a)}},l.a.createElement("small",null,"Factures impay\xe9es"),l.a.createElement("span",{className:"badge ".concat("impay\xe9"===o?"textcolor-primary white":0!==F.nbimppaye?"bgcolor-primary text-white":"badge-light","  badge-pill")},F.nbimppaye)),l.a.createElement("li",{style:{cursor:"default"},href:"#FacturesAnnul\xe9es",className:"list-group-item d-flex justify-content-between align-items-center \n                ".concat("annul\xe9"===o?"bgcolor-primary text-white":"text-secondary"," ")},l.a.createElement("small",null,"Factures Annul\xe9es"),l.a.createElement("span",{className:"badge ".concat("annul\xe9"===o?"textcolor-primary white":"badge-light","  badge-pill")},"0")))),l.a.createElement("div",{className:"col-12 mt-2"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},l.a.createElement("small",{className:"font-weight-bold"},"Montant total"),l.a.createElement("span",{className:"badge badge-pill badge-success"},pe(F.montantTotal)," FCFA")),l.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},l.a.createElement("small",{className:"font-weight-bold"},"Reste \xe0 payer"),l.a.createElement("span",{className:"badge badge-danger badge-pill"},pe(F.reste)," FCFA"))),0!==F.reste&&l.a.createElement(j.a,{variant:"contained",className:"mt-2 col",disabled:0===F.reste,startIcon:l.a.createElement(qt.a,null),onClick:function(){L(!0)},style:{textTransform:"none",backgroundColor:ce.theme.secondaryDark,color:"white",fontSize:"11px"}},"R\xe9gler toutes les factures")))),l.a.createElement("table",{className:"col-10 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:ce.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,s.filter((function(e){return""===K.trim()||RegExp(K,"i").test(e.numerofacture)})).map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,i=e.auteurfacture,s=e.nompatient,u=e.prenomspatient,m=e.montanttotalfacture,d=e.partassurancefacture,f=e.resteassurancefacture,p=e.partpatientfacture,b=e.restepatientfacture;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){g(r)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",s," ",u),l.a.createElement("td",null,n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"text-right"},pe(m)),l.a.createElement("td",{className:"text-right"},pe(d)),l.a.createElement("td",{className:"text-right"},pe(f)),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(b<0&&"flash animated infinite red-text font-weight-bold")},pe(b)))})))),l.a.createElement(C.a,{disableBackdropClick:!0,transitionDuration:0,open:b,onClose:oe,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",c.numerofacture),0===c.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("small",{className:"green-text font-weight-bold"},"(d\xe9j\xe0 pay\xe9e)"))),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),c.civilitepatient," "," ",c.nompatient," "," ",c.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",pe(c.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",pe(c.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:c.restefacture<0&&"flash animated infinite red-text font-weight-bold"},pe(c.restepatientfacture)," FCFA")),l.a.createElement("br",null),""!==(null===(t=c.parentfacture)||void 0===t?void 0:t.trim())&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{className:"blue-text"},l.a.createElement("b",null,"Facture d'avoir")," :"," ",l.a.createElement("span",null,c.parentfacture," "," ","(",pe(c.montantavoir)," FCFA)")),l.a.createElement("br",null)),null!==c.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",c.numerocompte),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",pe(c.montantcompte)," FCFA")))),0!==c.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Mode de paiement"),c.montantcompte>0?l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(h.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant recu",value:re.montantrecu,onChange:function(e){!function(e){var t=e.target.value;le(Object(E.a)(Object(E.a)({},re),{},{montantrecu:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(h.a,{className:"col-12 mt-2",variant:"filled",size:"small",label:"Numero de Transaction",value:re.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(re.modepaiement),onChange:function(e){!function(e){var t=e.target.value;le(Object(E.a)(Object(E.a)({},re),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:oe,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),0!==c.restepatientfacture&&l.a.createElement(j.a,{variant:"contained",className:"mb-2",disabled:""===re.modepaiement.trim()||""===re.montantrecu.trim()||parseInt(re.montantrecu.trim())>parseInt(c.restepatientfacture)||"Compte"===re.modepaiement&&parseInt(re.montantrecu.trim())>parseInt(c.montantcompte)||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(re.modepaiement)&&""===re.numeroTransaction.trim(),onClick:function(){return e=c.numerofacture,p(e,Object(E.a)(Object(E.a)({},re),{},{compte:c.numerocompte,patient:t})),void oe();var e,t},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:ce.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))),l.a.createElement(C.a,{disableBackdropClick:!0,open:_,transitionDuration:0,onClose:function(){L(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ventilation globale")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),a.civilitepatient," "," ",a.nompatient," "," ",a.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",pe(F.montantTotal)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:F.reste<0&&"flash animated infinite red-text font-weight-bold"},pe(F.reste)," FCFA")),null!==V.numerocompte&&l.a.createElement(l.a.Fragment,null,l.a.createElement("hr",{className:"bg-light"}),l.a.createElement("div",{className:"col-12 p-0 mb-2"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 compte : ")," ",V.numerocompte," "),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Solde : ")," ",pe(V.solde)," FCFA")," "))),l.a.createElement("br",null),l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-active"},l.a.createElement("thead",{style:{backgroundColor:ce.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0 facture","Date"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Part patient","Montant restant"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,F.factureImpaye.map((function(e,t){var a=e.numerofacture,n=e.datefacture,r=e.heurefacture,c=e.partpatientfacture,o=e.restepatientfacture;return l.a.createElement("tr",{key:a},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,n," ",r),l.a.createElement("td",{className:"text-right"},pe(c)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(o)))}))))),0!==F.reste&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Mode de paiement"),V.solde>0&&V.solde>F.reste?l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Compte"},"Compte"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")):l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",value:re.modepaiment,onChange:ie,label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money"))),l.a.createElement(h.a,{className:"col-5 ml-2",variant:"filled",size:"small",type:"number",label:"Montant",disabled:!0,defaultValue:F.reste})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour le paiement d'une facture")))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){L(!1),le({modepaiement:"",montantrecu:""})},style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",disabled:""===re.modepaiement.trim(),className:"mb-2",onClick:function(){return ee.push(V.numerocompte),f(ee),L(!1),void le({modepaiement:"",montantrecu:"",numeroTransaction:""})},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:ce.theme.primary,color:"white",fontSize:"13px"}},"Valider la transaction"))))})),Gt=[{id:"compte",Component:Nt},{id:"attenteFacture",Component:Yt},{id:"avoirFacture",Component:Object(c.b)((function(e){var t=e.factureReducer;return{listFactures:t.listFactures,currentFacture:t.currentFacture,showModal:t.showModal}}),{thunkListAvoirFactures:_t,thunkEncaisserFactures:Rt,thunkAnnulerFactures:Mt,thunkSearchFacture:It,thunkDetailsFacture:Dt,setShowModal:zt,setCurrentFacture:At,thunkAddAvoirFacture:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/facture_avoir/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;n(_t()),n(zt(!1))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.currentFacture,a=e.showModal,c=e.thunkListAvoirFactures,o=e.thunkDetailsFacture,s=(e.thunkSearchFacture,e.setShowModal),u=e.setCurrentFacture,m=e.listFactures,d=e.thunkAddAvoirFacture,f=Object(r.useState)(""),p=Object(n.a)(f,2),b=p[0],g=p[1],x=Object(r.useState)([]),O=Object(n.a)(x,2),N=O[0],S=O[1],w=Object(r.useState)({facture:"",montant:"",commentaire:""}),F=Object(n.a)(w,2),A=F[0],R=F[1],M=function(){s(!1),R({commentaire:"",montant:"",facture:""}),u({})};var P=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){c(),u({}),H()({url:"".concat(Q.a.url,"/gap/list/factures")}).then((function(e){var t=e.data.rows,a=[];t.filter((function(e){return 0!==e.restepatientfacture&&""===e.parentfacture.trim()&&"original"===e.typefacture})).forEach((function(e){var t=e.numerofacture;a.push({numero:t})})),S(a)}))}),[]),l.a.createElement("div",{className:"AvoirFacture row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture d'avoir",value:b,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");g(t)}}),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{label:"Facture(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:P.theme.primary}},m.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(D.a,null),onClick:function(){s(!0)},style:{textTransform:"none",backgroundColor:P.theme.primary,color:"white",fontSize:"13px"}},"Nouvelle facture d'avoir")))),0===m.filter((function(e){return""===b.trim()||RegExp(b,"i").test(e.numerofacture)})).length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucune facture d'avoir")):l.a.createElement("table",{className:"col-12 table-sm table-sm table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:P.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero de facture","Date","Heure","Patient","Type de sejour","Auteur"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part ASSU","Reste ASSU","Part Patient","Reste Patient","Facture parent"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,m.filter((function(e){return"avoir"===e.typefacture})).map((function(e,t){var a=e.civilitepatient,n=e.typesejour,r=e.numerofacture,c=e.datefacture,o=e.heurefacture,i=e.auteurfacture,s=e.nompatient,u=e.prenomspatient,m=e.montanttotalfacture,d=e.partassurancefacture,f=e.resteassurancefacture,p=e.partpatientfacture,b=e.restepatientfacture,E=e.parentfacture,g=e.commentairefacture;return l.a.createElement("tr",{key:t,style:{cursor:"default"},title:g},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",{className:"font-weight-bold"},a," ",s," ",u),l.a.createElement("td",null,n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"text-right"},pe(m)),l.a.createElement("td",{className:"text-right"},pe(d)),l.a.createElement("td",{className:"text-right"},pe(f)),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"font-weight-bold text-right ".concat(b<0&&"flash animated infinite red-text font-weight-bold")},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-info text-right"},E))})))),l.a.createElement(C.a,{open:a,onClose:M,disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Nouvelle facture d'avoir")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),t.nompatient," "," ",t.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant Total")," :"," "," ",pe(t.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part du patient")," :"," "," ",pe(t.partpatientfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Reste \xe0 payer")," :"," ",l.a.createElement("span",{className:t.restefacture<0&&"flash animated infinite red-text font-weight-bold"},pe(t.restepatientfacture)," FCFA")),l.a.createElement("br",null))),0!==t.restepatientfacture&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"FactureList",options:N,onChange:function(e,t){t?(!function(e){R(Object(E.a)(Object(E.a)({},A),{},{facture:e}))}(t.numero),o(t.numero)):(u({}),R({montant:"",facture:"",commentairefacture:""}))},getOptionLabel:function(e){return e.numero},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.numero))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Facture",placeholder:"Selectionner ..."}))}}),l.a.createElement(h.a,{className:"col-7 ml-2",variant:"filled",size:"small",type:"number",label:"Montant",defaultValue:t.restepatientfacture,value:A.montant,onChange:function(e){!function(e){R(Object(E.a)(Object(E.a)({},A),{},{montant:e}))}(e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=",""))}})),l.a.createElement("div",{className:"row my-3 mx-1"},l.a.createElement(h.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",onChange:function(e){var t=e.target.value;R(Object(E.a)(Object(E.a)({},A),{},{commentaire:t}))}})),l.a.createElement("div",{className:"col-12 d-flex"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour la cr\xe9ation d'une facture d'avoir")))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:M,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",disabled:""===A.montant.trim()||parseInt(A.montant.trim())>parseInt(t.restepatientfacture)||""===A.facture.trim(),onClick:function(){return d(t.numerofacture,A)},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:P.theme.primary,color:"white",fontSize:"13px"}},"Valider"))))}))},{id:"patientFacture",Component:Vt}],Wt=function(e){var t=e.title,a=e.cancel,n=e.valid,r=e.children;return l.a.createElement("div",{className:"row rounded shadow-lg white p-3 text-secondary"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h6",null,l.a.createElement("i",{className:"mdi-social-notifications mr-2"}),t)),l.a.createElement("p",null,r),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},a&&l.a.createElement("button",{onClick:function(){return a()},className:"btn-sm btn btn-light mr-1"},"Fermer"),n&&l.a.createElement("button",{onClick:function(){return n()},className:"btn-sm btn btn-primary "},"Consulter")))},Ht={currentPage:gt[0].target||null,notification:!1},Jt=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},Kt=function(e){return{type:"SET_NOTIFICATION",notification:e}},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(E.a)(Object(E.a)({},e),{},{notification:t.notification});default:return e}},Qt=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:Jt,setNotification:Kt})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Caisse"),Q.b.on("facture_nouvelle",(function(){new Audio("".concat(Q.a.url,"/son.mp3")).play(),c(!0)}))})),l.a.createElement("div",{className:"Caisse row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:gt,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Gt.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(Wt,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),Zt=i.a.permissions.functions.filter((function(e){return"Assurance"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),$t=[{target:"listeAssurances",title:"Listes des assurances",icon:"action-assignment"},{target:"facturesRecues",title:"Factures re\xe7ues",icon:"file-file-download "},{target:"facturesValides",title:"Factures valides",icon:"action-done"},{target:"bordereaux",title:"Borderaux",icon:"action-account-balance"}],ea=0!==Zt.length?$t.filter((function(e){return Zt.includes(e.target)})):$t,ta={listAssurances:[],currentAssurance:{},loading:!1,showModalDetails:!1},aa=function(e){return{type:"SET_LIST_ASSURANCE",listAssurances:e,loading:!1}},na=function(e){return{type:"SET_CURRENT_ASSURANCE",currentAssurance:e,loading:!1}},ra=function(e){return{type:"SET_LOADING",loading:e}},la=function(e){return{type:"SET_SHOW_MODAL_DETAILS",showModalDetails:e}};function ca(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ra(!0)),H()({method:"GET",url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var a=e.data.rows;t(aa(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_ASSURANCE":return Object(E.a)(Object(E.a)({},e),{},{listAssurances:t.listAssurances,loading:t.loading});case"SET_CURRENT_ASSURANCE":return Object(E.a)(Object(E.a)({},e),{},{currentAssurance:t.currentAssurance,loading:t.loading});case"SET_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading});case"SET_SHOW_MODAL_DETAILS":return Object(E.a)(Object(E.a)({},e),{},{showModalDetails:t.showModalDetails});default:return e}},ia=function(e){return l.a.createElement(ze.a,{mask:"(225) 99 999 999",permanent:[0,1,2,3,4,5],value:e.value,onChange:e.onChange},(function(t){return l.a.createElement(h.a,Object.assign({variant:"filled",type:"tel"},e))}))},sa=Object(c.b)((function(e){var t=e.assuranceReducer;return{listAssurances:t.listAssurances,showModalDetails:t.showModalDetails,currentAssurance:t.currentAssurance,loading:t.loading}}),{thunkAddAssurance:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(ra(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/assurance"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(ca())}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListAssurances:ca,thunkDeleteAssurance:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({method:"GET",url:"".concat(Q.a.url,"/gap/delete/assurance/").concat(e)}).then((function(e){e.data.rows;a(ca()),a(la(!1))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkUpdateAssurance:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(ra(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/update/assurance/").concat(e),data:t,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){n(ca()),n(la(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},thunkDetailsAssurance:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({method:"GET",url:"".concat(Q.a.url,"/gap/details/assurance/").concat(e)}).then((function(e){var t=e.data.rows;t[0]?a(na(t[0])):a(na({})),a(la(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkSearchAssurance:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:""===e.trim()?a(ca()):H()({method:"GET",url:"".concat(Q.a.url,"/gap/search/assurance/").concat(e)}).then((function(e){var t=e.data.rows;a(aa(t))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowModalDetails:la})((function(e){var t=e.thunkAddAssurance,a=e.thunkListAssurances,c=e.thunkDeleteAssurance,o=e.thunkUpdateAssurance,s=e.thunkDetailsAssurance,u=e.thunkSearchAssurance,m=e.currentAssurance,d=(e.loading,e.listAssurances),f=e.showModalDetails,p=e.setShowModalDetails,b=Object(r.useState)(""),g=Object(n.a)(b,2),w=g[0],F=g[1],A=Object(r.useState)(!1),R=Object(n.a)(A,2),P=R[0],I=R[1],B=Object(r.useContext)(i.b),_=Object(r.useState)(["N\xb0","Nom","Code","Type","Adresse","T\xe9l\xe9phone","Fax","Mail","Site web"]),L=Object(n.a)(_,1)[0],Y=Object(r.useState)({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""}),U=Object(n.a)(Y,2),q=U[0],V=U[1],G=function(){I(!1),V({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""})},W=function(){p(!1),V({nom:"",code:"",type:"",adresse:"",telephone:"",fax:"",mail:"",site_web:""})};function H(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{nom:t}))}function J(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{code:t}))}function K(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{type:t}))}function X(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{adresse:t}))}function Q(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{telephone:t}))}function Z(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{fax:t}))}function $(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{mail:t}))}function ee(e){var t=e.target.value;V(Object(E.a)(Object(E.a)({},q),{},{site_web:t}))}return Object(r.useEffect)((function(){a(),console.log(d)}),[]),l.a.createElement("div",{className:"Assurance row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une assurance",value:w,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");F(t),u(t.trim())}}),l.a.createElement("div",{className:"col"},l.a.createElement(y.a,{label:"Assurance(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:B.theme.primary}},d.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(D.a,null),onClick:function(){I(!0)},style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Ajouter une assurance")))),0===d.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucune assurance existante"),l.a.createElement("small",null,"pour en ajouter une cliquez sur le boutton 'Ajouter assurance' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:B.theme.secondaryDark}},l.a.createElement("tr",null,L.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,d.map((function(e,t){var a=e.idassurance,n=e.nomassurance,r=e.codeassurance,c=e.typeassurance,o=e.localassurance,i=e.telassurance,u=e.faxassurance,m=e.mailassurance,d=e.siteassurance;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){s(a)}},l.a.createElement("td",{className:"font-weight-bold"},t+1),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",null,c),l.a.createElement("td",null,o),l.a.createElement("td",null,i),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",null,d))})))),l.a.createElement(C.a,{disableBackdropClick:!0,open:P,onClose:G,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter une assurance")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement(h.a,{className:"col mr-2",variant:"filled",size:"small",label:"Nom",onChange:H}),l.a.createElement(h.a,{className:"col",variant:"filled",size:"small",label:"Code",onChange:J})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typeAssurance-label"},"Type d'assurance"),l.a.createElement(N.a,{labelId:"typeAssurance-label",id:"typeAssurance",onChange:K,label:"Type d'assurance",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Gestionnaire"},"Gestionnaire"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Organisme"},"Organisme"))),l.a.createElement(h.a,{className:"col-6 ml-2",variant:"filled",size:"small",label:"Adresse",onChange:X})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(ia,{className:"col mr-2",variant:"filled",size:"small",label:"Telephone",value:q.telephone,onChange:Q}),l.a.createElement(ia,{className:"col",variant:"filled",size:"small",label:"Fax",value:q.fax,onChange:Z})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(h.a,{className:"col mr-2",variant:"filled",size:"small",label:"Mail",onChange:$}),l.a.createElement(h.a,{className:"col",variant:"filled",size:"small",label:"Site web",onChange:ee})),l.a.createElement("div",{className:"col-12 d-flex mt-2"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Renseignez tous les champs n\xe9ccessaires pour la creation d'assuurance"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:G,style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",disabled:""===q.nom.trim()||""===q.type.trim(),onClick:function(){return t(q),void G()},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider"))),l.a.createElement(C.a,{disableBackdropClick:!0,open:f,onClose:W,onEntered:function(){return V({nom:m.nomassurance,code:m.codeassurance,type:m.typeassurance,adresse:m.localassurance,telephone:m.telassurance,fax:m.faxassurance,mail:m.mailassurance,site_web:m.siteassurance})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Effectuer une modification")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row my-2"},l.a.createElement(h.a,{className:"col mr-2",variant:"filled",size:"small",label:"Nom",defaultValue:m.nomassurance,onChange:H}),l.a.createElement(h.a,{className:"col",variant:"filled",size:"small",label:"Code",defaultValue:m.codeassurance,onChange:J})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typeAssurance-label"},"Type d'assurance"),l.a.createElement(N.a,{labelId:"typeAssurance-label",id:"typeAssurance",onChange:K,defaultValue:m.typeassurance,label:"Type d'assurance",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Gestionnaire"},"Gestionnaire"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Organisme"},"Organisme"))),l.a.createElement(h.a,{className:"col-6 ml-2",variant:"filled",size:"small",label:"Adresse",defaultValue:m.localassurance,onChange:X})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(ia,{className:"col mr-2",variant:"filled",size:"small",label:"Telephone",value:q.telephone,onChange:Q}),l.a.createElement(ia,{className:"col",variant:"filled",size:"small",label:"Fax",value:q.fax,onChange:Z})),l.a.createElement("div",{className:"row my-2"},l.a.createElement(h.a,{className:"col mr-2",variant:"filled",size:"small",label:"Mail",defaultValue:m.mailassurance,onChange:$}),l.a.createElement(h.a,{className:"col",variant:"filled",size:"small",label:"Site web",defaultValue:m.siteassurance,onChange:ee})),l.a.createElement("div",{className:"col-12 d-flex mt-2 justify-content-center"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"La suppression est sans confirmation et irr\xe9versible"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:W,style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(M.a,null),onClick:function(){c(m.idassurance)},style:{textTransform:"none",fontSize:"12px"}},"Supprimer"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){return o(m.idassurance,q)},startIcon:l.a.createElement(Te.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider la modification"))))}));me.c.register({family:"Regular",src:"".concat(Q.a.local,"/font.ttf")}),me.c.register({family:"Roboto-Bold",src:"".concat(Q.a.local,"/fonts/Roboto-Bold.ttf")}),me.c.register({family:"Roboto-Light",src:"".concat(Q.a.local,"/fonts/Roboto-Light.ttf")});var ua=function(e){e.etablissement;return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",paddingBottom:8,flexDirection:"row",padding:10}},l.a.createElement(me.h,{style:{flex:2}},l.a.createElement(me.d,{src:ie.a,style:{height:"3cm",width:"3cm"}})),l.a.createElement(me.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(me.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(me.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(me.g,null,"Abidjan BP 05 789"),l.a.createElement(me.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(me.g,null,"Email : info@altea-ci.com"))))},ma=function(e){var t=e.bordereau,a=e.cie;return l.a.createElement(me.b,null,l.a.createElement(me.e,{size:"A4",style:{padding:0,display:"flex",flexDirection:"column"}},l.a.createElement(ua,null),l.a.createElement(me.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},fa.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:17})},"Bordereau de factures N\xb0 ",t[0].numerobordereau),l.a.createElement(me.h,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.content),{},{justifyContent:"flex-start"})},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{fontSize:9})},l.a.createElement(me.g,{style:{fontFamily:"Roboto-Bold"}},t[0].gestionnairebordereau),l.a.createElement(me.g,null," / ",t[0].organismebordereau)),l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{fontSize:8})},l.a.createElement(me.g,{style:{fontFamily:"Roboto-Bold"}},t.length," facture(s)"))),l.a.createElement(me.h,{style:fa.content},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{fontSize:9})},l.a.createElement(me.g,null,"Date : ",t[0].datecreationbordereau)),l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{fontSize:9})},l.a.createElement(me.g,null,"Heure : ",t[0].heurecreationbordereau)),l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{fontSize:8})},l.a.createElement(me.g,{style:{fontFamily:"Roboto-Bold"}},t[0].typesejourbordereau)))),l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.content),{},{fontSize:9})},l.a.createElement(me.g,null,"Veuillez trouver en annexe les factures mentionn\xe9es ci-dessous dont le r\xe8glement devra nous parvenir, avec votre amabilit\xe9. Rappelez s'il vous pla\xeet la r\xe9f\xe9rence du relev\xe9 au r\xe8glement.")),l.a.createElement(me.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.content),{},{flex:1,display:"flex",flexDirection:"column"})},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},fa.l),{},{justifyContent:"space-between",flexFlow:"row wrap",alignItems:"stretch"})},l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Date"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.datefacture)}))),a?l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Nom et prenom de l'agent"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.assureprinc)}))):l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Nom et pr\xe9nom du patient"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.nompatient," ",e.prenomspatient)}))),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"N\xb0 Facture"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.numerofacture)}))),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"N\xb0 BON"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.numeropec)}))),a?l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Nom et pr\xe9nom du patient"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.nompatient," ",e.prenomspatient)}))):l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Nom et prenom du medecin"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.medecinsejour)}))),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Matricule"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.matriculeassure)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},fa.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},"TOTAL")),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Montant factur\xe9"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.montanttotalfacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},fa.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Part Patient"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.partpatientfacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},fa.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(me.h,{style:fa.column},l.a.createElement(me.g,{style:fa.tr},"Net \xe0 payer"),t.map((function(e){return l.a.createElement(me.g,{style:Object(E.a)({},fa.line)},e.partassurancefacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},fa.line),{},{fontFamily:"Roboto-Bold",marginTop:5})},t.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t}))))),l.a.createElement(me.h,null,l.a.createElement(me.g,{style:{fontSize:8}},"Certifi\xe9 exact, la pr\xe9sente facture s'\xe9l\xe9vant \xe0 la somme de ",he(t[0].montanttotalfacture)," francs CFA"))))),l.a.createElement(da,{bordereau:t})))},da=function(e){var t=e.bordereau;return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",flexDirection:"row",alignItems:"center",padding:10}},l.a.createElement(me.h,{style:{flex:1,justifyContent:"flex-start",fontSize:8,marginTop:7,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Fait \xe0 Abidjan le ",t[0].datecreationbordereau),l.a.createElement(me.g,null,"par ",t[0].auteurbordereau)))},fa=me.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flex:"auto",flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.4},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.4,paddingTop:7}}),pa=function(e){var t=e.bordereau,a=e.showPDF,n=e.cie;return l.a.createElement("div",{className:"row"},l.a.createElement(me.a,{document:l.a.createElement(ma,{bordereau:t,cie:n})},(function(e){e.blob;var t=e.url,r=e.loading;e.error;return r?l.a.createElement("small",null,"..."):l.a.createElement("div",{className:"pr-3"},l.a.createElement(j.a,{variant:"contained",className:"mb-2 white-text mx-2 col",startIcon:l.a.createElement(fe.a,null),onClick:function(){return a(t)},style:{textTransform:"none",fontSize:"13px",backgroundColor:i.a.theme.primary}},"Imprimer le bordereau ",n&&"(CIE)"))})))},ba={listFactures:[],listFacturesByAssurance:[],listFacturesRecues:[],listFacturesValides:[],listBordereaux:[],currentBordereau:[{}],currentFacture:{},showModal:!1,showDetailsFacture:!1,showCommentFacture:!1,loading:!1,typeBordereaux:"tous"},Ea=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}},ga=function(e){return{type:"SET_CURRENT_BORDEREAU",currentBordereau:e}},ha=function(e){return{type:"SET_LIST_FACTURES_BY_ASSURANCE",listFacturesByAssurance:e}},ya=function(e){return{type:"SET_LIST_FACTURES_VALIDES",listFacturesValides:e}},va=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},ja=function(e){return{type:"SET_SHOW_DETAILS_FACTURE",showDetailsFacture:e}},xa=function(e){return{type:"SET_SHOW_COMMENT_FACTURE",showCommentFacture:e}},Oa=function(e){return{type:"SET_LOADING",loading:e}};function Na(e){var t=e.nomassurance,a=e.nomgarant,n=e.debutDateString,r=e.finDateString,l=e.typeSejour;return function(){var e=Object(ee.a)($.a.mark((function e(c){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Oa(!0)),H()({method:"GET",url:"".concat(Q.a.url,"/gap/list/factures/").concat(t,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(l)}).then((function(e){var t=e.data.rows;c(ha(t||[])),c(Oa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Sa(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/retrait/facture_recue/").concat(e)}).then((function(){a(Fa()),a(ja(!1)),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function wa(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/retrait/facture_valide/").concat(e)}).then((function(){a(Fa()),a(ja(!1)),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ca(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/bordereau"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(ka()),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ta(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/delete/bordereau"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(ka()),a(Oa(!1)),a(va(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ka(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_BORDEREAUX",listBordereaux:a}),t(Oa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function za(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/details/bordereau/").concat(e)}).then((function(e){var t=e.data.rows;a(ga(t)),a(Oa(!1)),a(va(!0))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Fa(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/list/factures_assurances")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_FACTURES",listFactures:a}),t(Oa(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Aa(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(Ea(t?t[0]:{})),a(ja(!0)),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Da(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({url:"".concat(Q.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(Ea(t?t[0]:{})),a(xa(!0)),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ra(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n,r){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/update/sejour/").concat(e,"/").concat(r().bordereauReducer.currentFacture.numerofacture),data:Object(E.a)(Object(E.a)({},t),{},{numeroBordereau:r().bordereauReducer.currentBordereau[0].numerobordereau}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){switch(r().pageReducer.currentPage){case"bordereaux":n(ka()),n(za(r().bordereauReducer.currentBordereau[0].numerobordereau));break;case"facturesValides":case"facturesRecues":n(Fa())}n(ja(!1)),n(Oa(!1)),n(Ma(r().bordereauReducer.currentFacture.numerofacture,{erreur:"",comment:""}))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}function Ma(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n,r){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/report/facture/").concat(e),data:Object(E.a)(Object(E.a)({},t),{},{numeroBordereau:r().bordereauReducer.currentBordereau[0].numerobordereau}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){if("refuse"===t.erreur&&1===r().bordereauReducer.currentBordereau.length)n(xa(!1)),n(ja(!1)),n(Ta({numerobordereau:r().bordereauReducer.currentBordereau[0].numerobordereau,factures:[null]}));else switch(r().pageReducer.currentPage){case"bordereaux":n(ka()),n(za(r().bordereauReducer.currentBordereau[0].numerobordereau)),n(xa(!1)),n(ja(!1));break;case"facturesValides":case"facturesRecues":n(Fa())}}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}var Pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(E.a)(Object(E.a)({},e),{},{listFactures:t.listFactures});case"SET_LIST_BORDEREAUX":return Object(E.a)(Object(E.a)({},e),{},{listBordereaux:t.listBordereaux});case"SET_TYPE_BORDEREAU":return Object(E.a)(Object(E.a)({},e),{},{typeBordereaux:t.typeBordereaux});case"SET_LIST_FACTURES_BY_ASSURANCE":return Object(E.a)(Object(E.a)({},e),{},{listFacturesByAssurance:t.listFacturesByAssurance});case"SET_LIST_FACTURES_RECUES":return Object(E.a)(Object(E.a)({},e),{},{listFacturesRecues:t.listFacturesRecues});case"SET_LIST_FACTURES_VALIDES":return Object(E.a)(Object(E.a)({},e),{},{listFacturesValides:t.listFacturesValides});case"SET_CURRENT_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_BORDEREAU":return Object(E.a)(Object(E.a)({},e),{},{currentBordereau:t.currentBordereau});case"SET_SHOW_MODAL":return Object(E.a)(Object(E.a)({},e),{},{showModal:t.showModal});case"SET_SHOW_DETAILS_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{showDetailsFacture:t.showDetailsFacture});case"SET_SHOW_COMMENT_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{showCommentFacture:t.showCommentFacture});case"SET_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading});default:return e}},Ia=a(715),Ba=a.n(Ia),_a=a(778),La=l.a.forwardRef((function(e,t){return l.a.createElement(_a.a,Object.assign({direction:"up",ref:t},e))}));function Ya(e){return l.a.createElement("div",Object.assign({className:"row"},e))}function Ua(e){return l.a.createElement(it.a,Object.assign({elevation:6,variant:"filled"},e))}var qa=Object(F.a)({root:{"& label.Mui-focused":{color:i.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:i.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:i.a.theme.primary}}}})(h.a),Va=Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentBordereau:t.currentBordereau,showModal:t.showModal,listBordereaux:t.listBordereaux,loading:t.loading,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,typeBordereaux:t.typeBordereaux,showCommentFacture:t.showCommentFacture}}),{thunkAddBordereau:Ca,thunkListBorderaux:ka,thunkModifyFacture:Ra,thunkListFacturesByAssurances:Na,thunkDeleteFacturesValides:wa,setListFacturesValides:ya,setListFacturesByAssurance:ha,setShowModal:va,setShowCommentFacture:xa,thunkDetailsBorderau:za,setLoading:Oa,thunkUpdateBordereau:function(e,t){return function(){var a=Object(ee.a)($.a.mark((function a(n,r){return $.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/update/statut_bordereau/").concat(t),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){n(za(r().bordereauReducer.currentBordereau[0].numerobordereau)),n(ka()),n(Oa(!1))}));case 2:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},thunkDetailsFacture:Aa,thunkDeleteFacturesRecues:Sa,setShowDetailsFacture:ja,thunkCommentFacture:Da,thunkReportFacture:Ma,thunkDelBordereau:Ta,setTypeBordereaux:function(e){return{type:"SET_TYPE_BORDEREAU",typeBordereaux:e}}})((function(e){var t,a=e.thunkDetailsFacture,c=e.thunkListFacturesByAssurances,o=e.thunkModifyFacture,s=e.thunkListBorderaux,u=e.thunkAddBordereau,m=(e.thunkDeleteFacturesValides,e.listBordereaux),d=e.listFacturesByAssurance,f=e.listFacturesValides,p=e.setListFacturesValides,w=e.currentBordereau,F=e.thunkDetailsBorderau,A=e.thunkCommentFacture,R=e.showModal,P=e.setShowModal,I=e.showCommentFacture,B=e.setShowCommentFacture,L=e.loading,Y=e.setLoading,G=e.currentFacture,W=e.thunkUpdateBordereau,K=e.showDetailsFacture,Z=e.setShowDetailsFacture,$=e.setListFacturesByAssurance,ee=e.setTypeBordereaux,te=e.thunkReportFacture,ae=e.thunkDelBordereau,ne=e.typeBordereaux,re=Object(r.useState)(""),le=Object(n.a)(re,2),ce=le[0],oe=le[1],ie=Object(r.useState)(""),se=Object(n.a)(ie,2),ue=se[0],me=se[1],de=Object(r.useState)(""),fe=Object(n.a)(de,2),be=fe[0],Ee=fe[1],ge=Object(r.useState)(""),he=Object(n.a)(ge,2),ye=he[0],ve=he[1],je=Object(r.useState)(!1),xe=Object(n.a)(je,2),Oe=xe[0],Ne=xe[1],Se=Object(r.useState)(!1),we=Object(n.a)(Se,2),Ce=we[0],Te=we[1],ke=Object(r.useState)(!1),ze=Object(n.a)(ke,2),Fe=ze[0],De=ze[1],Re=Object(r.useState)(!1),Me=Object(n.a)(Re,2),Pe=Me[0],Ie=Me[1],Be=Object(r.useState)(!1),_e=Object(n.a)(Be,2),Le=_e[0],Ye=_e[1],Ue=Object(r.useState)([]),qe=Object(n.a)(Ue,2),Ve=qe[0],Ge=qe[1],He=Object(r.useState)(null),Ke=Object(n.a)(He,2),Xe=Ke[0],Qe=Ke[1],Ze=Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""}),$e=Object(n.a)(Ze,2),et=$e[0],tt=$e[1],at=Object(r.useState)({erreur:"",comment:""}),nt=Object(n.a)(at,2),rt=nt[0],lt=nt[1],ct=Object(r.useState)({nomassurance:"",nomgarant:"",typeSejour:"",montanttotal:0,partAssurance:0,partPatient:0,debutDateString:X()().format("YYYY-MM-DD"),finDateString:X()().format("YYYY-MM-DD"),limiteDateString:X()().format("YYYY-MM-DD"),debutDate:new Date,finDate:new Date,limiteDate:new Date}),it=Object(n.a)(ct,2),st=it[0],ut=it[1],mt=function(){De(!1),ut({nomassurance:"",nomgarant:"",typeSejour:"",montanttotal:0,partAssurance:0,partPatient:0,debutDateString:X()().format("YYYY-MM-DD"),finDateString:X()().format("YYYY-MM-DD"),limiteDateString:X()().format("YYYY-MM-DD"),debutDate:new Date,finDate:new Date,limiteDate:new Date}),p([]),$([]),ve(!1)};function dt(e){switch(e){case"tous":return["Cr\xe9ation","Rejet\xe9","D\xe9charge","Envoie"];case"creation":return["Cr\xe9ation"];case"rejete":return["Rejet\xe9"];case"decharge":return["D\xe9charge"];case"envoie":return["Envoie"]}}var ft=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){s(),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),Ge([{value:"Tous",label:"Tous"}].concat(a))}))}),[]),Object(r.useEffect)((function(){ve(!1)}),[d]),Object(r.useEffect)((function(){p([]),Y(!1)}),[st.nomassurance,st.typeSejour,st.nomgarant,st.debutDate,st.finDate]),l.a.createElement("div",{className:"Bordereau row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un borderau",value:ce,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");oe(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Bordereau(x)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ft.theme.primary}},m.filter((function(e){return""===ce.trim()||RegExp(ce,"i").test(e.numerobordereau)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",onClick:function(){return De(!0)},startIcon:l.a.createElement(D.a,null),style:{textTransform:"none",backgroundColor:ft.theme.primary,color:"white",fontSize:"12px"}},"Ajouter un borderau")))),l.a.createElement("div",{className:"col-2 p-0 my-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("ul",{className:"list-group rounded-0",id:"list-tab",role:"tablist"},l.a.createElement("li",{onClick:function(){0!==m.filter((function(e){return dt("tous").includes(e.statutbordereau)})).length&&ee("tous")},style:{cursor:0===m.filter((function(e){return dt("tous").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("tous"===ne?"bgcolor-primary text-white":"text-secondary","\n                            ")},l.a.createElement("small",null,"Tous les bordereaux"),l.a.createElement("span",{className:"badge badge-light badge-pill"},m.filter((function(e){return dt("tous").includes(e.statutbordereau)})).length)),l.a.createElement("li",{onClick:function(){0!==m.filter((function(e){return dt("creation").includes(e.statutbordereau)})).length&&ee("creation")},style:{cursor:0===m.filter((function(e){return dt("creation").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("creation"===ne?"bgcolor-primary text-white":"text-secondary","\n                                ")},l.a.createElement("small",null,"Bordereaus en Cr\xe9ation"),l.a.createElement("span",{className:"badge badge-light badge-pill"},m.filter((function(e){return"Cr\xe9ation"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==m.filter((function(e){return dt("envoie").includes(e.statutbordereau)})).length&&ee("envoie")},style:{cursor:0===m.filter((function(e){return dt("envoie").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                        list-group-item d-flex justify-content-between align-items-center\n                                        ".concat("envoie"===ne?"bgcolor-primary text-white":"text-secondary","\n                                ")},l.a.createElement("small",null,"Bordereaus envoy\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},m.filter((function(e){return"Envoie"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==m.filter((function(e){return dt("decharge").includes(e.statutbordereau)})).length&&ee("decharge")},style:{cursor:0===m.filter((function(e){return dt("decharge").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                         list-group-item d-flex justify-content-between align-items-center\n                                         ".concat("decharge"===ne?"bgcolor-primary text-white":"text-secondary","\n                                 ")},l.a.createElement("small",null,"Bordereaux d\xe9charg\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},m.filter((function(e){return"D\xe9charge"===e.statutbordereau})).length)),l.a.createElement("li",{onClick:function(){0!==m.filter((function(e){return dt("rejete").includes(e.statutbordereau)})).length&&ee("rejete")},style:{cursor:0===m.filter((function(e){return dt("rejete").includes(e.statutbordereau)})).length?"default":"pointer"},className:"\n                                         list-group-item d-flex justify-content-between align-items-center\n                                         ".concat("rejete"===ne?"bgcolor-primary text-white":"text-secondary","\n                                 ")},l.a.createElement("small",null,"Bordereaux rejet\xe9s"),l.a.createElement("span",{className:"badge badge-light badge-pill"},m.filter((function(e){return"Rejet\xe9"===e.statutbordereau})).length)))))),l.a.createElement("div",{className:"col-10 pl-4 my-2"},l.a.createElement("div",{className:"row"},l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:ft.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero Bordereau","Gestionnaire","Organisme","Type de sejour","Date d'envoie","Date limite","Status du bordereau","Nombre de facture","Montant total","Part Assurance","Part Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,m.filter((function(e){return""===ce.trim()||RegExp(ce,"i").test(e.numerobordereau)})).filter((function(e){return dt(ne).includes(e.statutbordereau)})).map((function(e,t){var a=e.numerobordereau,n=e.datecreationbordereau,r=e.gestionnairebordereau,c=e.datelimitebordereau,o=e.organismebordereau,i=e.typesejourbordereau,s=e.statutbordereau,u=e.nbfacture,m=e.montanttotal,d=e.partassurance,f=e.partpatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){F(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",null,X()(n).format("DD/MM/YYYY")),l.a.createElement("td",{title:"reste ".concat(X()(c).diff(X()(),"days")," jours"),className:X()(c).subtract(10,"days")<=X()()&&"Rejet\xe9"===s?"bg-warning":""},X()(c).format("DD/MM/YYYY")),l.a.createElement("td",{className:"font-weight-bold ".concat("Rejet\xe9"===s?"red-text animated infinite flash":"D\xe9charge"===s?"blue-text":"Envoie"===s?"green-text":"")},s),l.a.createElement("td",null,u),l.a.createElement("td",null,pe(m)),l.a.createElement("td",null,pe(d)),l.a.createElement("td",null,pe(f)))})))))),l.a.createElement(C.a,{TransitionComponent:La,open:Fe,onClose:mt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouveau bordereau")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"AssuranceList",options:Ve,onChange:function(e,t){t&&function(e){ut(Object(E.a)(Object(E.a)({},st),{},{nomassurance:e}))}(t.label),t&&""!==st.typeSejour.trim()&&""!==st.nomgarant.trim()&&c(Object(E.a)(Object(E.a)({},st),{},{nomassurance:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",className:"col p-0 mx-2",options:Ve,onChange:function(e,t){t&&function(e){ut(Object(E.a)(Object(E.a)({},st),{},{nomgarant:e}))}(t.label),t&&""!==st.typeSejour.trim()&&""!==st.nomassurance.trim()&&c(Object(E.a)(Object(E.a)({},st),{},{nomgarant:t.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",onChange:function(e){var t=e.target.value;!function(e){ut(Object(E.a)(Object(E.a)({},st),{},{typeSejour:e}))}(t),""!==st.nomassurance.trim()&&""!==st.nomgarant.trim()&&c(Object(E.a)(Object(E.a)({},st),{},{typeSejour:t}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Du",id:"datedebut",value:st.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ut(Object(E.a)(Object(E.a)({},st),{},{debutDate:e,debutDateString:X()(e.toString()).format("YYYY-MM-DD")}))}(e),c(Object(E.a)(Object(E.a)({},st),{},{debutDate:e,debutDateString:X()(e.toString()).format("YYYY-MM-DD")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Au",id:"datefin",value:st.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ut(Object(E.a)(Object(E.a)({},st),{},{finDate:e,finDateString:X()(e.toString()).format("YYYY-MM-DD")}))}(e),c(Object(E.a)(Object(E.a)({},st),{},{finDate:e,finDateString:X()(e.toString()).format("YYYY-MM-DD")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:ft.theme.secondaryDark}},["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)}))),l.a.createElement("tbody",null,d.filter((function(e){return"valide"===e.statutfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,E=e.nompatient,g=e.prenomspatient,h=e.montanttotalfacture,y=e.partassurancefacture,v=e.resteassurancefacture,j=e.partpatientfacture,x=e.typesejour;return l.a.createElement("tr",{key:t,className:f.includes(a)?"bgcolor-primary font-weight-bold white-text":"",style:{cursor:"pointer"},onClick:function(){f.includes(a)?(f.splice(f.indexOf(a),1),p(Object(b.a)(f)),ve(!1)):([].concat(Object(b.a)(f),[a]).length===d.filter((function(e){return"valide"===e.statutfacture})).length&&ve(!0),p([].concat(Object(b.a)(f),[a])))}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},x),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},E," ",g),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(y)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(v)),l.a.createElement("td",{className:"text-right"},pe(j)))})))),0!==d.filter((function(e){return"valide"===e.statutfacture})).length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:function(){ye?(p([]),ve(!1)):(p(d.filter((function(e){return"valide"===e.statutfacture})).map((function(e){return e.numerofacture}))),ve(!0))},style:{display:"inline"}},l.a.createElement(y.a,{className:"mr-2 ".concat(ye?"bgcolor-secondaryDark text-white font-weight-bold":""),style:{cursor:"pointer"},label:"Tous selectionner"})),l.a.createElement(y.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ft.theme.primary}}," ",f.length," ")}),l.a.createElement("div",{className:"col-12 p-0 mt-2 justify-content-end d-flex"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{id:"datelimite",label:"Date limite de depot",inputVariant:"filled",value:st.limiteDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ut(Object(E.a)(Object(E.a)({},st),{},{limiteDate:e,limiteDateString:X()(e.toString()).format("YYYY-MM-DD")}))}(e)}}))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",onClick:mt,startIcon:l.a.createElement(We.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",onClick:function(){var e=d.filter((function(e){return"valide"===e.statutfacture})).filter((function(e){return f.includes(e.numerofacture)}));0!==e.length?u(Object(E.a)(Object(E.a)({},st),{},{montanttotal:e.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})),partAssurance:e.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})),partPatient:e.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})),factures:f})):u(Object(E.a)(Object(E.a)({},st),{},{montanttotal:0,partAssurance:0,partPatient:0,factures:f})),mt()},disabled:0===f.length,startIcon:l.a.createElement(Ba.a,null),style:{textTransform:"none",backgroundColor:ft.theme.primary,color:"white",fontSize:"12px"}},"Generer le bordereau"))),l.a.createElement(C.a,{open:R,TransitionComponent:La,onClose:function(){P(!1),Ye(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"lg",onEntered:function(){Qe(w[0].statutbordereau)}},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Bordereau N\xb0 ",w[0].numerobordereau),l.a.createElement("br",null),""!==(null===(t=w[0].commentairebordereau)||void 0===t?void 0:t.trim())&&l.a.createElement("small",null,'"',w[0].commentairebordereau,'"')),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-auto p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Bordereau : "),w[0].numerobordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),w[0].typesejourbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de creation : "),w[0].datecreationbordereau," ",w[0].heurecreationbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date limite d'envoi : "),w[0].datelimitebordereau),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-auto"},""!==w[0].gestionnairebordereau&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",w[0].gestionnairebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",w[0].organismebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(w.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Statut : ")," ",w[0].statutbordereau),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row d-flex justify-content-between mt-3"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:ue,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");me(t)}}),l.a.createElement(y.a,{className:"ml-2",label:"Facture(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ft.theme.primary}},w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerobordereau)})).length)}),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",className:"text-white",startIcon:l.a.createElement(Ae.a,null),style:{textTransform:"none",fontSize:"12px",backgroundColor:ft.theme.primary},onClick:function(){Ie(!0)}},"Modifier")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:ft.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).map((function(e,t){var n=e.numerofacture,r=e.gestionnaire,c=e.organisme,o=e.matriculeassure,i=e.numeropec,s=e.assureprinc,u=e.taux,m=e.datefacture,d=e.heurefacture,f=e.nompatient,p=e.prenomspatient,b=e.montanttotalfacture,E=e.partassurancefacture,g=e.resteassurancefacture,h=e.partpatientfacture,y=e.typesejour,v=e.erreurfacture,j=e.commentairefacture;return l.a.createElement("tr",{key:n,title:j,style:{cursor:"pointer"},className:"warning"===v?"bg-warning":"",onClick:function(){""===v.trim()?A(n):a(n)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,n),l.a.createElement("td",null,m),l.a.createElement("td",null,d),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},y),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},u,"%"),l.a.createElement("td",{className:"font-weight-bold"},f," ",p),l.a.createElement("td",{className:"font-weight-bold"},s),l.a.createElement("td",{className:"text-right"},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(E)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(g)),l.a.createElement("td",{className:"text-right"},pe(h)))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:11}),l.a.createElement("td",{className:"text-white font-weight-bold bgcolor-primary"},"TOTAL : "),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).length&&pe(w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).length&&pe(w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).length&&pe(w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).map((function(e){return e.resteassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).length&&pe(w.filter((function(e){return""===ue.trim()||RegExp(ue,"i").test(e.numerofacture)})).map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t}))))))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center mt-4"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles")),l.a.createElement("div",{onClick:function(){return Ye(!Le)},style:{display:"inline"}},l.a.createElement(y.a,{className:"mr-2 ".concat(Le?"bgcolor-secondaryDark text-white font-weight-bold":""),style:{cursor:"pointer"},label:"Factures CIE/SODECI"})))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",disabled:0===w.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"===w[0].statutbordereau||0!==w.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"!==w[0].statutbordereau,startIcon:l.a.createElement(We.a,null),onClick:function(){P(!1),Ye(!1)},style:{textTransform:"none",fontSize:"12px"}},"Fermer"),0===w.filter((function(e){return"warning"===e.erreurfacture})).length&&"Rejet\xe9"!==w[0].statutbordereau&&l.a.createElement(pa,{showPDF:function(e){Te(e),Ne(!0)},bordereau:w,cie:Le}),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white ml-3",startIcon:l.a.createElement(M.a,null),onClick:function(){ae({numerobordereau:w[0].numerobordereau,factures:w.map((function(e){return e.numerofacture}))})},style:{textTransform:"none",fontSize:"12px"}},"Supprimer"))),l.a.createElement(C.a,{open:Oe,onClose:function(){return Ne(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:Ya},l.a.createElement("object",{data:Ce,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(C.a,{open:I,onClose:function(){B(!1),lt({erreur:"",comment:""})},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return lt({erreur:G.erreurfacture,comment:G.commentairefacture})},maxWidth:"xs",transitionDuration:0},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",G.numerofacture)),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),G.nompatient," "," ",G.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),G.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),G.datefacture," ",G.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==G.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(G.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",pe(G.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(h.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",defaultValue:G.commentairefacture,onChange:function(e){var t=e.target.value;lt(Object(E.a)(Object(E.a)({},rt),{},{comment:t}))}})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){B(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(M.a,null),disabled:""===rt.comment.trim(),onClick:function(){te(G.numerofacture,Object(E.a)(Object(E.a)({},rt),{},{erreur:"refuse"}))},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-warning",startIcon:l.a.createElement(Ae.a,null),disabled:""===rt.comment.trim(),onClick:function(){te(G.numerofacture,Object(E.a)(Object(E.a)({},rt),{},{erreur:"warning"}))},style:{textTransform:"none",fontSize:"12px"}},"Signaler"))),l.a.createElement(C.a,{open:K,onClose:function(){Z(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return tt({gestionnaire:G.gestionnaire,organisme:G.organisme,beneficiaire:G.beneficiaire,matriculeAssure:G.matriculeassure,assurePrinc:G.assureprinc,numeroPEC:G.numeropec,taux:G.taux})},maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",G.numerofacture)),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),G.nompatient," "," ",G.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),G.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),G.datefacture," ",G.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==G.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(G.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",pe(G.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row mx-1 my-3 bg-warning p-2"},l.a.createElement("pre",null,G.commentairefacture)),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"assurancesList",disabled:!0,options:Ve,defaultValue:{value:G.idassurance,label:G.gestionnaire},onChange:function(e,t){!function(e){tt(Object(E.a)(Object(E.a)({},et),{},{gestionnaire:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"outlined",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",disabled:!0,className:"col p-0 ml-2",id:"assurancesList",defaultValue:{value:G.idassurance,label:G.organisme},options:Ve,onChange:function(e,t){!function(e){tt(Object(E.a)(Object(E.a)({},et),{},{organisme:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"outlined",label:"Organisme",placeholder:"Ajouter ..."}))}})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(x.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(O.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(N.a,{labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;tt(Object(E.a)(Object(E.a)({},et),{},{beneficiaire:t}))},defaultValue:G.beneficiaire,style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement(qa,{className:"col-7 ml-2",variant:"outlined",size:"small",label:"Identit\xe9 de l'Assur\xe9",defaultValue:G.assureprinc,onChange:function(e){var t=e.target.value;tt(Object(E.a)(Object(E.a)({},et),{},{assurePrinc:t}))}})),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement(qa,{className:"col-4",variant:"outlined",size:"small",label:"Matricule",defaultValue:G.matriculeassure,onChange:function(e){var t=e.target.value;tt(Object(E.a)(Object(E.a)({},et),{},{matriculeAssure:t}))}}),l.a.createElement(qa,{className:"col-4 mx-2",variant:"outlined",size:"small",label:"N\xb0 PEC",defaultValue:G.numeropec,onChange:function(e){var t=e.target.value;tt(Object(E.a)(Object(E.a)({},et),{},{numeroPEC:t}))}}),l.a.createElement(x.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(O.a,{id:"assurance-label"},"Taux"),l.a.createElement(N.a,{labelId:"assurance-label",id:"assurance",label:"Taux",defaultValue:G.taux,onChange:function(e){var t=e.target.value;tt(Object(E.a)(Object(E.a)({},et),{},{taux:t}))},style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){Z(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(M.a,null),onClick:function(){te(G.numerofacture,Object(E.a)(Object(E.a)({},rt),{},{erreur:"refuse"}))},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ae.a,null),onClick:function(){o(G.numerosejour,et)},style:{textTransform:"none",backgroundColor:ft.theme.primary,color:"white",fontSize:"12px"}},"Valider la modification"))),l.a.createElement(C.a,{open:Pe,onClose:function(){Ie(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"xs",transitionDuration:0},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Modification de bordereau")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement(x.a,{variant:"outlined",size:"small",className:"col"},l.a.createElement(O.a,{id:"statutbordereau-label"},"Statut du bordereau  "),l.a.createElement(N.a,{labelId:"statutbordereau-label",id:"statutbordereau",defaultValue:w[0].statutbordereau,onChange:function(e){var t=e.target.value;Qe(t)},label:"Statut du bordereau ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Envoie"},"Envoie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"D\xe9charge"},"D\xe9charge r\xe9\xe7ue"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Rejet\xe9"},"Rejet\xe9")))),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(h.a,{style:{fontSize:"12px"},className:"col ",variant:"outlined",size:"small",label:"Commentaire",defaultValue:w[0].commentairebordereau,onChange:function(e){var t=e.target.value;Ee(t)}}))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(We.a,null),onClick:function(){Ie(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"text-white",startIcon:l.a.createElement(_.a,null),style:{textTransform:"none",fontSize:"12px",backgroundColor:ft.theme.primary},onClick:function(){W({statut:Xe,commentaire:be},w[0].numerobordereau),Ie(!1)}},"Valider"))),l.a.createElement(ot.a,{open:L,onClose:function(){return Y(!1)}},l.a.createElement(Ua,{variant:"standard",severity:"info"},"Chargement ...")))}));me.c.register({family:"Regular",src:"".concat(Q.a.local,"/font.ttf")}),me.c.register({family:"Roboto-Bold",src:"".concat(Q.a.local,"/fonts/Roboto-Bold.ttf")}),me.c.register({family:"Roboto-Light",src:"".concat(Q.a.local,"/fonts/Roboto-Light.ttf")});var Ga=function(e){e.etablissement;return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",paddingBottom:8,padding:20,flexDirection:"row"}},l.a.createElement(me.h,{style:{flex:2}},l.a.createElement(me.d,{src:ie.a,style:{height:"2cm",width:"3cm"}})),l.a.createElement(me.h,{style:{flex:10,textAlign:"right"}},l.a.createElement(me.g,{style:{fontSize:15,fontFamily:"Roboto-Bold"}},"POLYCLINIQUE ALTEA"),l.a.createElement(me.h,{style:{fontSize:8,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Cocody Angre 7\xe8me tranche"),l.a.createElement(me.g,null,"Abidjan BP 05 789"),l.a.createElement(me.g,null,"Tel : 21 58 96 35 / 58 96 32 15"),l.a.createElement(me.g,null,"Email : info@altea-ci.com"))))},Wa=function(){return l.a.createElement(me.h,{style:{flex:"auto",display:"flex",flexDirection:"row",alignItems:"center"}},l.a.createElement(me.h,{style:{flex:"auto",fontSize:7,paddingLeft:5,color:"grey",lineHeight:1.5}},l.a.createElement(me.g,null,"Fait \xe0 Abidjan le 25 juin 2019"),l.a.createElement(me.g,null,"par Audrey Bogui"),l.a.createElement(me.g,null,"Email : info@altea-ci.com"),l.a.createElement(me.g,null,"Site web : www.altea.ci")))},Ha=function(e){var t=e.facture;return l.a.createElement(me.b,null,l.a.createElement(me.e,{size:"A4",style:{padding:0,display:"flex",flexDirection:"column"}},l.a.createElement(Ga,null),l.a.createElement(me.h,{style:{flex:"10",display:"flex",fontSize:12}},l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},Ja.title),{},{backgroundColor:"white",textAlign:"center",marginBottom:10,marginTop:10,fontSize:17})},"Liste des factures non re\xe7ues"),l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},Ja.content),{},{fontSize:9})},l.a.createElement(me.g,{style:{textAlign:"center"}},"Veuillez trouver ci-dessous les factures dont la reception n'a pas \xe9t\xe9 effectu\xe9e.")),l.a.createElement(me.h,{style:{display:"flex",flex:1,flexDirection:"column"}},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},Ja.content),{},{flex:1,display:"flex",flexDirection:"column"})},l.a.createElement(me.h,{style:Object(E.a)(Object(E.a)({},Ja.l),{},{justifyContent:"space-between",flexFlow:"row wrap",alignItems:"stretch"})},l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Date"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.datefacture)}))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"N\xb0 Facture"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.numerofacture)}))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"N\xb0 PEC"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.numeropec)}))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Matricule"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.matriculeassure)}))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Patient"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.nompatient," ",e.prenomspatient)}))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Assur\xe9 Princ"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.assureprinc)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},Ja.line),{},{fontFamily:"Roboto-Bold",borderRight:"none"})},"TOTAL")),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Montant Total"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.montanttotalfacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},Ja.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Net \xe0 payer"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.partassurancefacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},Ja.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement(me.h,{style:Ja.column},l.a.createElement(me.g,{style:Ja.tr},"Part Patient"),t.map((function(e,t){return l.a.createElement(me.g,{key:t,style:Object(E.a)({},Ja.line)},e.partpatientfacture)})),l.a.createElement(me.g,{style:Object(E.a)(Object(E.a)({},Ja.line),{},{fontFamily:"Roboto-Bold"})},t.map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t})))))))),l.a.createElement(Wa,null)))},Ja=me.f.create({title:{fontSize:12,fontWeight:"bold",fontFamily:"Roboto-Light"},l:{display:"flex",flexDirection:"row",flex:1,lineHeight:2},content:{padding:10,lineHeight:1.6,fontSize:7.2},column:{flexGrow:1,display:"flex",flexDirection:"column"},tr:{display:"flex",flexDirection:"row",justifyContent:"center",fontFamily:"Roboto-Bold",fontSize:8,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",backgroundColor:"lightgrey",paddingTop:7,borderWidth:.5},line:{display:"flex",flexDirection:"row",justifyContent:"center",lineHeight:2,paddingHorizontal:5,borderColor:"grey",borderStyle:"solid",borderWidth:.5,paddingTop:7}}),Ka=function(e){e.code;var t=e.facture,a=e.showPDF;return l.a.createElement("div",{className:"row"},l.a.createElement(me.a,{document:l.a.createElement(Ha,{facture:t}),fileName:"somename.pdf"},(function(e){e.blob;var t=e.url,n=e.loading;e.error;return n?l.a.createElement("small",null,"..."):l.a.createElement("div",{className:"pr-4"},l.a.createElement(j.a,{variant:"contained",onClick:function(){return a(t)},startIcon:l.a.createElement(fe.a,null),className:"bg-danger text-white ",style:{textTransform:"none",fontSize:"13px"}},"Imprimer les factures non re\xe7ues"))})))},Xa=a(413),Qa=a.n(Xa),Za=l.a.forwardRef((function(e,t){return l.a.createElement(_a.a,Object.assign({direction:"up",ref:t},e))})),$a=Object(F.a)({root:{"& label.Mui-focused":{color:i.a.theme.primary},"& .MuiInput-underline:after":{borderBottomColor:i.a.theme.primary},"& .MuiOutlinedInput-root":{"&.Mui-focused fieldset":{borderColor:i.a.theme.primary}}}})(h.a);function en(e){return l.a.createElement("div",Object.assign({className:"row"},e))}var tn=Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesRecues:t.listFacturesRecues,listFactures:t.listFactures,showDetailsFacture:t.showDetailsFacture,currentFacture:t.currentFacture,loading:t.loading}}),{thunkSendFacturesRecues:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/factures_recues"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(Fa()),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFactures:Fa,thunkAddBordereau:Ca,thunkListFacturesByAssurances:Na,thunkDetailsFacture:Aa,thunkDeleteFacturesRecues:Sa,thunkModifyFacture:Ra,setListFacturesRecues:function(e){return{type:"SET_LIST_FACTURES_RECUES",listFacturesRecues:e}},setListFacturesByAssurance:ha,setShowDetailsFacture:ja,setLoading:Oa})((function(e){var t=e.thunkListFacturesByAssurances,a=e.thunkSendFacturesRecues,c=e.thunkListFactures,o=e.thunkDeleteFacturesRecues,s=e.thunkModifyFacture,u=e.listFactures,m=e.currentFacture,d=e.listFacturesByAssurance,f=e.listFacturesRecues,p=e.setListFacturesRecues,w=e.showDetailsFacture,F=e.thunkDetailsFacture,A=e.setShowDetailsFacture,R=e.setLoading,P=e.loading,I=e.setListFacturesByAssurance,B=Object(r.useContext)(i.b),_=Object(r.useState)(""),L=Object(n.a)(_,2),Y=L[0],G=L[1],W=Object(r.useState)(""),K=Object(n.a)(W,2),Z=K[0],$=K[1],ee=Object(r.useState)(!1),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],re=Object(r.useState)([]),le=Object(n.a)(re,2),ce=le[0],oe=le[1],ie=Object(r.useState)(!1),se=Object(n.a)(ie,2),ue=se[0],me=se[1],de=Object(r.useState)(!1),fe=Object(n.a)(de,2),be=fe[0],Ee=fe[1],ge=Object(r.useState)({gestionnaire:"",organisme:"",beneficiaire:"",matriculeAssure:"",assurePrinc:"",numeroPEC:"",taux:""}),he=Object(n.a)(ge,2),ye=he[0],ve=he[1],je=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:X()("2020-01-01").format("DD-MM-YYYY"),finDateString:X()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),xe=Object(n.a)(je,2),Oe=xe[0],Ne=xe[1],Se=function(){ne(!1),Ne({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:X()("2020-01-01").format("DD-MM-YYYY"),finDateString:X()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),p([]),I([]),$(!1)};var we=["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"];return Object(r.useEffect)((function(){c(),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),oe(a)}))}),[]),Object(r.useEffect)((function(){$(!1)}),[d]),Object(r.useEffect)((function(){p([])}),[Oe.nomassurance,Oe.typeSejour,Oe.nomgarant,Oe.debutDate,Oe.finDate]),l.a.createElement("div",{className:"FacturesRecues row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:Y,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");G(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Facture(s) recue(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:B.theme.primary}},u.filter((function(e){return"recu"===e.statutfacture||"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===Y.trim()||RegExp(Y,"i").test(e.numerofacture)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{size:"small",variant:"contained",onClick:function(){return ne(!0)},startIcon:l.a.createElement(D.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Nouvelles factures re\xe7ues")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:B.theme.secondaryDark}},l.a.createElement("tr",null,we.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,u.filter((function(e){return"recu"===e.statutfacture||"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===Y.trim()||RegExp(Y,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.statutfacture,v=e.erreurfacture,j=e.commentairefacture;return l.a.createElement("tr",{title:j,key:t,className:"warning"===v?"bg-warning":"refuse"===v?"bg-danger text-white":"recu"!==y?"grey-text":"",style:{cursor:"recu"===y?"pointer":"default"},onClick:function(){"recu"===y&&F(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(E)),l.a.createElement("td",{className:"text-right"},pe(g)))})))),l.a.createElement(C.a,{TransitionComponent:Za,open:ae,disableBackdropClick:!0,onClose:Se,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:350,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg",onEnter:function(){t(Oe)}},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter des factures recues")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"AssuranceList1",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(b.a)(ce)),onChange:function(e,a){a&&function(e){Ne(Object(E.a)(Object(E.a)({},Oe),{},{nomassurance:e}))}(a.label),a&&""!==Oe.typeSejour.trim()&&""!==Oe.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},Oe),{},{nomassurance:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",id:"AssuranceList2",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(b.a)(ce)),onChange:function(e,a){a&&function(e){Ne(Object(E.a)(Object(E.a)({},Oe),{},{nomgarant:e}))}(a.label),a&&""!==Oe.typeSejour.trim()&&""!==Oe.nomassurance.trim()&&t(Object(E.a)(Object(E.a)({},Oe),{},{nomgarant:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(N.a,{defaultValue:"Tous",labelId:"typesejour-label",id:"typesejour",onChange:function(e){var a=e.target.value;!function(e){Ne(Object(E.a)(Object(E.a)({},Oe),{},{typeSejour:e}))}(a),""!==Oe.nomassurance.trim()&&""!==Oe.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},Oe),{},{typeSejour:a}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Du",id:"datedebut",value:Oe.debutDate,defaultValue:new Date("2020-01-01"),format:"dd/MM/yyyy",onChange:function(e){!function(e){Ne(Object(E.a)(Object(E.a)({},Oe),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},Oe),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Au",id:"datefin",value:Oe.finDate,defaultValue:new Date("2020-12-31"),format:"dd/MM/yyyy",onChange:function(e){!function(e){Ne(Object(E.a)(Object(E.a)({},Oe),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},Oe),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:B.theme.secondaryDark}},l.a.createElement("tr",null,we.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,d.filter((function(e){return"attente"===e.statutfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,E=e.nompatient,g=e.prenomspatient,h=e.montanttotalfacture,y=e.partassurancefacture,v=e.resteassurancefacture,j=e.partpatientfacture,x=e.typesejour;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},className:f.includes(a)?"bgcolor-primary white-text":"",onClick:function(){f.includes(a)?(f.splice(f.indexOf(a),1),p(Object(b.a)(f)),$(!1)):([].concat(Object(b.a)(f),[a]).length===d.filter((function(e){return"attente"===e.statutfacture})).length&&$(!0),p([].concat(Object(b.a)(f),[a])))}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},x),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},E," ",g),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(y)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(v)),l.a.createElement("td",{className:"text-right"},pe(j)))})))),0!==d.filter((function(e){return"attente"===e.statutfacture})).length&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:function(){Z?(p([]),$(!1)):(p(d.filter((function(e){return"attente"===e.statutfacture})).map((function(e){return e.numerofacture}))),$(!0))},style:{display:"inline"}},l.a.createElement(y.a,{className:"mr-2 ".concat(Z?"bgcolor-secondaryDark text-white":""),style:{cursor:"pointer"},label:"Tous selectionner"})),l.a.createElement(y.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:B.theme.primary}},f.length,"/",d.filter((function(e){return"attente"===e.statutfacture})).length)}))),l.a.createElement(T.a,null,0!==d.filter((function(e){return"attente"===e.statutfacture&&!f.includes(e.numerofacture)})).length&&l.a.createElement(Ka,{showPDF:function(e){Ee(e),me(!0)},code:"edy koffi",facture:u.filter((function(e){return"attente"===e.statutfacture&&!f.includes(e.numerofacture)}))}),l.a.createElement(j.a,{variant:"contained",onClick:Se,startIcon:l.a.createElement(We.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",onClick:function(){a(f),Se()},disabled:0===f.length,startIcon:l.a.createElement(Qa.a,null),style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider"))),l.a.createElement(C.a,{open:w,onClose:function(){A(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,onEntered:function(){return ve({gestionnaire:m.gestionnaire,organisme:m.organisme,beneficiaire:m.beneficiaire,matriculeAssure:m.matriculeassure,assurePrinc:m.assureprinc,numeroPEC:m.numeropec,taux:m.taux})},maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",m.numerofacture)),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),m.nompatient," "," ",m.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),m.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),m.datefacture," ",m.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==m.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(m.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",pe(m.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),m.commentairefacture&&""!==m.commentairefacture.trim()&&l.a.createElement("div",{className:"row mx-1 my-3 ".concat("refuse"===m.erreurfacture?"bg-danger text-white":"bg-warning"," p-2")},l.a.createElement("pre",{className:"refuse"===m.erreurfacture?"text-white":""},m.commentairefacture)),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"assurancesList1",options:ce,defaultValue:{value:m.idassurance,label:m.gestionnaire},onChange:function(e,t){!function(e){ve(Object(E.a)(Object(E.a)({},ye),{},{gestionnaire:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",className:"col p-0 ml-2",id:"assurancesList2",defaultValue:{value:m.idassurance,label:m.organisme},options:ce,onChange:function(e,t){!function(e){ve(Object(E.a)(Object(E.a)({},ye),{},{organisme:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Organisme",placeholder:"Ajouter ..."}))}})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"assurance-label"},"B\xe9n\xe9ficiaire"),l.a.createElement(N.a,{labelId:"assurance-label",id:"assurance",label:"B\xe9n\xe9ficiaire",onChange:function(e){var t=e.target.value;ve(Object(E.a)(Object(E.a)({},ye),{},{beneficiaire:t}))},defaultValue:m.beneficiaire,style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"assur\xe9"},"L'assur\xe9"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"enfant"},"L'enfant"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"conjoint(e)"},"Le/La conjoint(e)"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"ayant droit"},"L'ayant droit"))),l.a.createElement($a,{className:"col-7 ml-2",variant:"filled",size:"small",label:"Identit\xe9 de l'Assur\xe9",defaultValue:m.assureprinc,onChange:function(e){var t=e.target.value;ve(Object(E.a)(Object(E.a)({},ye),{},{assurePrinc:t}))}})),l.a.createElement("div",{className:"row mx-1 my-2"},l.a.createElement($a,{className:"col-4",variant:"filled",size:"small",label:"Matricule",defaultValue:m.matriculeassure,onChange:function(e){var t=e.target.value;ve(Object(E.a)(Object(E.a)({},ye),{},{matriculeAssure:t}))}}),l.a.createElement($a,{className:"col-4 mx-2",variant:"filled",size:"small",label:"N\xb0 PEC",defaultValue:m.numeropec,onChange:function(e){var t=e.target.value;ve(Object(E.a)(Object(E.a)({},ye),{},{numeroPEC:t}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"assurance-label"},"Taux"),l.a.createElement(N.a,{labelId:"assurance-label",id:"assurance",label:"Taux",defaultValue:m.taux,onChange:function(e){var t=e.target.value;ve(Object(E.a)(Object(E.a)({},ye),{},{taux:t}))},style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:10},"10%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:20},"20%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:30},"30%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:40},"40%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:50},"50%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:60},"60%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:70},"70%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:75},"75%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:80},"80%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:85},"85%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:90},"90%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:95},"95%"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:100},"100%")))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait et la modification de la facture sont des actions sans confirmation et irr\xe9versibles"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){A(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(M.a,null),onClick:function(){o(m.numerofacture)},style:{textTransform:"none",fontSize:"12px"}},"Retirer"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(Ae.a,null),onClick:function(){s(m.numerosejour,ye)},style:{textTransform:"none",backgroundColor:B.theme.primary,color:"white",fontSize:"12px"}},"Valider la modification"))),l.a.createElement(C.a,{open:ue,onClose:function(){return me(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,style:{overflowX:"hidden"},maxWidth:"md",scroll:"body",PaperComponent:en},l.a.createElement("object",{data:be,className:"col-12",height:700,type:"application/pdf"})),l.a.createElement(ot.a,{open:P,onClose:function(){return R(!1)}},l.a.createElement(it.a,{variant:"standard",severity:"info"},"Chargement ...")))})),an=a(779),nn=a(784),rn=l.a.forwardRef((function(e,t){return l.a.createElement(_a.a,Object.assign({direction:"up",ref:t},e))})),ln=[{id:"listeAssurances",Component:sa},{id:"bordereaux",Component:Va},{id:"facturesRecues",Component:tn},{id:"facturesValides",Component:Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,loading:t.loading,showCommentFacture:t.showCommentFacture}}),{thunkSendFacturesValides:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Oa(!0)),H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/factures_valides"),data:e,headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(){a(Fa()),a(Oa(!1))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListFactures:Fa,thunkAddBordereau:Ca,thunkListFacturesByAssurances:Na,thunkDeleteFacturesValides:wa,setListFacturesValides:ya,thunkReportFacture:Ma,setListFacturesByAssurance:ha,setShowCommentFacture:xa,setShowDetailsFacture:ja,thunkDetailsFacture:Aa,setLoading:Oa,thunkCommentFacture:Da})((function(e){var t=e.thunkListFacturesByAssurances,a=e.thunkListFactures,c=e.thunkSendFacturesValides,o=e.thunkDeleteFacturesValides,s=e.listFactures,u=e.listFacturesByAssurance,m=e.listFacturesValides,d=e.setListFacturesValides,f=e.currentFacture,p=e.showDetailsFacture,w=e.thunkDetailsFacture,F=e.setShowDetailsFacture,A=e.setLoading,D=e.loading,R=e.setListFacturesByAssurance,P=e.setShowCommentFacture,I=e.showCommentFacture,B=e.thunkCommentFacture,_=e.thunkReportFacture,L=Object(r.useState)(""),Y=Object(n.a)(L,2),G=Y[0],W=Y[1],K=Object(r.useState)(!1),Z=Object(n.a)(K,2),$=Z[0],ee=Z[1],te=Object(r.useState)([]),ae=Object(n.a)(te,2),ne=ae[0],re=ae[1],le=Object(r.useState)({erreur:"",comment:""}),ce=Object(n.a)(le,2),oe=ce[0],ie=ce[1],se=Object(r.useState)({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1}),ue=Object(n.a)(se,2),me=ue[0],de=ue[1],fe=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:X()("2020-01-01").format("DD-MM-YYYY"),finDateString:X()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),be=Object(n.a)(fe,2),Ee=be[0],ge=be[1],he=function(){ee(!1),ge({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",debutDateString:X()("2020-01-01").format("DD-MM-YYYY"),finDateString:X()("2020-12-31").format("DD-MM-YYYY"),debutDate:new Date("2020-01-01"),finDate:new Date("2020-12-31")}),d([]),R([])};var ye=["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"],ve=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){a(),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),re([{value:"Tous",label:"Tous"}].concat(a))}))}),[]),Object(r.useEffect)((function(){d([])}),[Ee.nomassurance,Ee.typeSejour,Ee.nomgarant,Ee.debutDate,Ee.finDate]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:G,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");W(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Facture(s) valide(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ve.theme.primary}},s.filter((function(e){return"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===G.trim()||RegExp(G,"i").test(e.numerofacture)})).length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",onClick:function(){return ee(!0)},startIcon:l.a.createElement(Qa.a,null),style:{textTransform:"none",backgroundColor:ve.theme.primary,color:"white",fontSize:"12px"}},"Valider des factures")))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:ve.theme.secondaryDark}},l.a.createElement("tr",null,ye.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,s.filter((function(e){return"valide"===e.statutfacture||"bordereau"===e.statutfacture})).filter((function(e){return""===G.trim()||RegExp(G,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.statutfacture,v=e.erreurfacture,j=e.commentairefacture;return l.a.createElement("tr",{title:j,key:t,className:"warning"===v?"bg-warning":"refuse"===v?"bg-danger text-white":"valide"!==y?"grey-text":"",style:{cursor:"valide"===y?"pointer":"default"},onClick:function(){return"valide"===y?w(a):null}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(E)),l.a.createElement("td",{className:"text-right"},pe(g)))})))),l.a.createElement(C.a,{TransitionComponent:rn,open:$,onClose:he,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableBackdropClick:!0,transitionDuration:350,fullWidth:!0,style:{minHeight:"60vh"},maxWidth:"lg",onEntering:function(){t(Ee)}},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Valider les factures conformes")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"AssuranceList",defaultValue:{value:"Tous",label:"Tous"},options:ne,onChange:function(e,a){a&&function(e){ge(Object(E.a)(Object(E.a)({},Ee),{},{nomassurance:e}))}(a.label),a&&""!==Ee.typeSejour.trim()&&""!==Ee.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},Ee),{},{nomassurance:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:ne,onChange:function(e,a){a&&function(e){ge(Object(E.a)(Object(E.a)({},Ee),{},{nomgarant:e}))}(a.label),a&&""!==Ee.typeSejour.trim()&&""!==Ee.nomassurance.trim()&&t(Object(E.a)(Object(E.a)({},Ee),{},{nomgarant:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(N.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){var a=e.target.value;!function(e){ge(Object(E.a)(Object(E.a)({},Ee),{},{typeSejour:e}))}(a),""!==Ee.nomassurance.trim()&&""!==Ee.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},Ee),{},{typeSejour:a}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"hospitalisation"},"Hospitalisation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Du",id:"datedebut",defaultValue:new Date("2020-01-01"),value:Ee.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ge(Object(E.a)(Object(E.a)({},Ee),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},Ee),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}}))),l.a.createElement("div",{className:"col-2"},l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{label:"Au",id:"datefin",defaultValue:new Date("2020-12-31"),value:Ee.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){ge(Object(E.a)(Object(E.a)({},Ee),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},Ee),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}}))))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-2"},l.a.createElement("thead",{style:{backgroundColor:ve.theme.secondaryDark}},l.a.createElement("tr",null,ye.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,f=e.heurefacture,p=e.nompatient,E=e.prenomspatient,g=e.montanttotalfacture,h=e.partassurancefacture,y=e.resteassurancefacture,v=e.partpatientfacture,j=e.typesejour;e.erreurfacture,e.statutfacture;return l.a.createElement("tr",{key:t,className:m.includes(a)?"bgcolor-primary font-weight-bold white-text":"",style:{cursor:"pointer"},onClick:function(){m.includes(a)?(m.splice(m.indexOf(a),1),d(Object(b.a)(m))):B(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,f),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},j),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},p," ",E),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(g)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(h)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(y)),l.a.createElement("td",{className:"text-right"},pe(v)))})))),0!==u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).length&&l.a.createElement(y.a,{label:"S\xe9lectionn\xe9e(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:ve.theme.primary}},m.length,"/",u.filter((function(e){return"recu"===e.statutfacture&&""===e.erreurfacture})).length," ")})),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",onClick:he,startIcon:l.a.createElement(We.a,null),style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",onClick:function(){c(m),he()},disabled:0===m.length,startIcon:l.a.createElement(Qa.a,null),style:{textTransform:"none",backgroundColor:ve.theme.primary,color:"white",fontSize:"12px"}},"Valider les factures"))),l.a.createElement(C.a,{open:p,onClose:function(){F(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",f.numerofacture)),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"Patient : "),f.nompatient," "," ",f.prenomspatient),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),f.typesejour),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date : "),f.datefacture," ",f.heurefacture),l.a.createElement("br",null),l.a.createElement("hr",{className:"bg-light"}),""!==f.gestionnaire&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",f.gestionnaire),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",f.organisme),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Assure princ : ")," ",f.assureprinc),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Taux : ")," ",f.taux,"%"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(f.montanttotalfacture)," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Part Assurance : ")," ",pe(f.partassurancefacture)," FCFA"),l.a.createElement("br",null)))),l.a.createElement("div",{className:"col-12 d-flex justify-content-center mt-4"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Le retrait de la facture est une action sans confirmation et irr\xe9versibles"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){F(!1)},style:{textTransform:"none",fontSize:"12px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-danger text-white",startIcon:l.a.createElement(M.a,null),onClick:function(){o(f.numerofacture)},style:{textTransform:"none",fontSize:"12px"}},"Retirer"))),l.a.createElement(C.a,{open:I,onClose:function(){P(!1),ie({erreur:"",comment:""})},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,onEntered:function(){return ie({erreur:f.erreurfacture,comment:f.commentairefacture})},maxWidth:"xs",transitionDuration:0},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Facture N\xb0 ",f.numerofacture),l.a.createElement("br",null),l.a.createElement("small",null,"Checklist de la v\xe9rification de facture")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mx-1"},l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.gestionnaire,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{gestionnaire:t}))}}),label:l.a.createElement("small",null,"Gestionnaire : ",l.a.createElement("b",null,f.gestionnaire))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.organisme,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{organisme:t}))}}),label:l.a.createElement("small",null,"Organisme : ",l.a.createElement("b",null,f.organisme))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.noBon,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{noBon:t}))}}),label:l.a.createElement("small",null,"N\xb0 de Bon : ",l.a.createElement("b",null,f.numeropec))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.assurePrinc,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{assurePrinc:t}))}}),label:l.a.createElement("small",null,"Assur\xe9 principal : ",l.a.createElement("b",null,f.assureprinc))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.montantTotal,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{montantTotal:t}))}}),label:l.a.createElement("small",null,"Montant Total : ",l.a.createElement("b",null,pe(f.montanttotalfacture)," FCFA"))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.tauxAssurance,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{tauxAssurance:t}))}}),label:l.a.createElement("small",null,"Taux : ",l.a.createElement("b",null,f.taux,"%"))}),l.a.createElement(an.a,{className:"col-12 p-0 m-0",control:l.a.createElement(nn.a,{checked:me.partAssurance,onChange:function(e){var t=e.target.checked;de(Object(E.a)(Object(E.a)({},me),{},{partAssurance:t}))}}),label:l.a.createElement("small",null,"Part Assurance : ",l.a.createElement("b",null,pe(f.partassurancefacture)," FCFA"))})),l.a.createElement("div",{className:"row mx-1 my-3"},l.a.createElement(h.a,{style:{fontSize:"12px"},className:"col-12",variant:"outlined",size:"small",multiline:!0,rows:4,label:"Commentaire",defaultValue:f.commentairefacture,onChange:function(e){var t=e.target.value;ie(Object(E.a)(Object(E.a)({},oe),{},{comment:t}))}})),l.a.createElement("div",{className:"col-12 d-flex justify-content-center"},l.a.createElement(Je.a,{className:"bg-warning mr-2"}),l.a.createElement("small",{className:"font-weight-bold"},"Veuillez v\xe9rifier toutes les informations avant de valider la facture"))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){P(!1),de({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1})},style:{textTransform:"none",fontSize:"12px"}},"Fermer"),l.a.createElement(j.a,{variant:"contained",className:"mb-2 bg-warning",startIcon:l.a.createElement(Ae.a,null),disabled:""===oe.comment.trim(),onClick:function(){_(f.numerofacture,Object(E.a)(Object(E.a)({},oe),{},{erreur:"warning"})),t(Ee),P(!1)},style:{textTransform:"none",fontSize:"12px"}},"Signaler"),l.a.createElement(j.a,{className:"mb-2",variant:"contained",onClick:function(){d([].concat(Object(b.a)(m),[f.numerofacture])),P(!1),de({gestionnaire:!1,organisme:!1,noBon:!1,assurePrinc:!1,montantTotal:!1,partAssurance:!1,tauxAssurance:!1})},disabled:0!==Object(b.a)(Object.keys(me)).filter((function(e){return!1===me[e]})).length,startIcon:l.a.createElement(Qa.a,null),style:{textTransform:"none",backgroundColor:ve.theme.secondaryDark,color:"white",fontSize:"12px"}},"Facture conforme"))),l.a.createElement(ot.a,{open:D,onClose:function(){return A(!1)}},l.a.createElement(it.a,{variant:"standard",severity:"info"},"Chargement ...")))}))}],cn={currentPage:ea[0].target||null,notification:!1},on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(E.a)(Object(E.a)({},e),{},{notification:t.notification});default:return e}},sn=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setNotification:function(e){return{type:"SET_NOTIFICATION",notification:e}}})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage;e.setNotification,e.notification;return Object(r.useEffect)((function(){t("Assurances")})),l.a.createElement("div",{className:"Assurance row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:ea,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},ln.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))))})),un=a(716),mn=a.n(un),dn=function(e){var t=e.sendTitle;return Object(r.useEffect)((function(){t("GAP Accueil")})),l.a.createElement("div",{className:"Accueil d-flex justify-content-center align-items-center flex-column row p-3",style:{height:"90vh"}},l.a.createElement("img",{src:mn.a,className:"col-3",style:{opacity:.9},alt:""}),l.a.createElement("h6",{className:"small bg-light p-1"},"Bienvenue sur le GAP de Winhealth"))},fn=i.a.permissions.functions.filter((function(e){return"Statistique"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),pn=[{target:"bordereaux",title:"Bordereaux",icon:"action-assignment-ind"}],bn=0!==fn.length?pn.filter((function(e){return fn.includes(e.target)})):pn,En=a(717),gn=a.n(En),hn=a(724),yn={listFactures:[],listFacturesByAssurance:[],listFacturesRecues:[],listFacturesValides:[],listBordereaux:[],currentBordereau:[{}],currentFacture:{},showModal:!1,showDetailsFacture:!1,loading:!1,typeBordereaux:"tous"},vn=function(e){return{type:"SET_CURRENT_FACTURE",currentFacture:e}},jn=function(e){return{type:"SET_LIST_FACTURES_BY_ASSURANCE",listFacturesByAssurance:e}},xn=function(e){return{type:"SET_SHOW_MODAL",showModal:e}},On=function(e){return{type:"SET_SHOW_DETAILS_FACTURE",showDetailsFacture:e}},Nn=function(e){return{type:"SET_LOADING",loading:e}};var Sn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_FACTURES":return Object(E.a)(Object(E.a)({},e),{},{listFactures:t.listFactures});case"SET_LIST_BORDEREAUX":return Object(E.a)(Object(E.a)({},e),{},{listBordereaux:t.listBordereaux});case"SET_TYPE_BORDEREAU":return Object(E.a)(Object(E.a)({},e),{},{typeBordereaux:t.typeBordereaux});case"SET_LIST_FACTURES_BY_ASSURANCE":return Object(E.a)(Object(E.a)({},e),{},{listFacturesByAssurance:t.listFacturesByAssurance});case"SET_LIST_FACTURES_RECUES":return Object(E.a)(Object(E.a)({},e),{},{listFacturesRecues:t.listFacturesRecues});case"SET_LIST_FACTURES_VALIDES":return Object(E.a)(Object(E.a)({},e),{},{listFacturesValides:t.listFacturesValides});case"SET_CURRENT_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{currentFacture:t.currentFacture});case"SET_CURRENT_BORDEREAU":return Object(E.a)(Object(E.a)({},e),{},{currentBordereau:t.currentBordereau});case"SET_SHOW_MODAL":return Object(E.a)(Object(E.a)({},e),{},{showModal:t.showModal});case"SET_SHOW_DETAILS_FACTURE":return Object(E.a)(Object(E.a)({},e),{},{showDetailsFacture:t.showDetailsFacture});case"SET_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading});default:return e}},wn=l.a.forwardRef((function(e,t){return l.a.createElement(_a.a,Object.assign({direction:"up",ref:t},e))}));function Cn(e){return l.a.createElement(it.a,Object.assign({elevation:6,variant:"filled"},e))}var Tn=[{id:"bordereaux",Component:Object(c.b)((function(e){var t=e.bordereauReducer;return{listFacturesByAssurance:t.listFacturesByAssurance,listFacturesValides:t.listFacturesValides,listFactures:t.listFactures,currentBordereau:t.currentBordereau,showModal:t.showModal,listBordereaux:t.listBordereaux,loading:t.loading,currentFacture:t.currentFacture,showDetailsFacture:t.showDetailsFacture,typeBordereaux:t.typeBordereaux}}),{thunkListBorderaux:function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/bordereaux")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_BORDEREAUX",listBordereaux:a})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},thunkListFacturesByAssurances:function(e){var t=e.nomassurance,a=e.nomgarant,n=e.debutDateString,r=e.finDateString,l=e.typeSejour;return e.statutBordereau,function(){var e=Object(ee.a)($.a.mark((function e(c){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Nn(!0)),H()({method:"GET",url:"".concat(Q.a.url,"/gap/list/bordereaux/").concat(t,"/").concat(a,"/").concat(n,"/").concat(r,"/").concat(l)}).then((function(e){var t=e.data.rows;c(jn(t||[])),c(Nn(!1))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setShowModal:xn,thunkDetailsBorderau:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(Nn(!0)),H()({url:"".concat(Q.a.url,"/gap/details/bordereau/").concat(e)}).then((function(e){var t=e.data.rows;a({type:"SET_CURRENT_BORDEREAU",currentBordereau:t}),a(Nn(!1)),a(xn(!0))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setLoading:Nn,thunkDetailsFacture:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({url:"".concat(Q.a.url,"/gap/details/facture/").concat(e)}).then((function(e){var t=e.data.rows;a(vn(t?t[0]:{})),a(On(!0))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setShowDetailsFacture:On,setTypeBordereaux:function(e){return{type:"SET_TYPE_BORDEREAU",typeBordereaux:e}}})((function(e){var t=e.thunkListFacturesByAssurances,a=e.thunkListBorderaux,c=e.listBordereaux,o=e.listFacturesByAssurance,s=(e.setListFacturesValides,e.currentBordereau),u=e.showModal,m=e.thunkDetailsBorderau,d=e.setShowModal,f=e.loading,p=e.setLoading,w=(e.setListFacturesByAssurance,Object(r.useRef)(null)),F=Object(r.useRef)(null),A=Object(r.useRef)(null),D=Object(r.useState)(""),R=Object(n.a)(D,2),M=R[0],P=R[1],I=Object(r.useState)(""),B=Object(n.a)(I,2),_=B[0],L=B[1],Y=Object(r.useState)([]),G=Object(n.a)(Y,2),W=G[0],K=G[1],Z=Object(r.useState)(null),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(r.useState)(null),ne=Object(n.a)(ae,2),re=ne[0],le=ne[1],ce=Object(r.useState)(null),oe=Object(n.a)(ce,2),ie=oe[0],se=oe[1],ue=Object(r.useState)({nomassurance:"Tous",nomgarant:"Tous",typeSejour:"Tous",statutBordereau:"tous",debutDateString:X()("01/01/2020").format("DD-MM-YYYY"),finDateString:X()("12/31/2020").format("DD-MM-YYYY"),debutDate:new Date("01/01/2020"),finDate:new Date("12/31/2020")}),me=Object(n.a)(ue,2),de=me[0],fe=me[1];function be(e){switch(e){case"tous":return["Cr\xe9ation","Rejet\xe9","Valid\xe9","D\xe9charge","Envoie"];case"creation":return["Cr\xe9ation"];case"rejete":return["Rejet\xe9"];case"decharge":return["D\xe9charge"];case"envoie":return["Envoie"]}}var Ee=Object(r.useContext)(i.b);return Object(r.useEffect)((function(){t(de),a(),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),K(a)}))}),[]),Object(r.useEffect)((function(){var e=F.current.getContext("2d"),t=w.current.getContext("2d"),a=A.current.getContext("2d");null!==ie&&ie.destroy(),se(new gn.a(t,{type:"bar",data:{labels:["Consultation","Hospitalisation","Urgence","Biologie","Imagerie","Soins"],datasets:W.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){return{label:e.label,data:[c.filter((function(t){return t.gestionnairebordereau===e.label&&"Consultation"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Hospitalisation"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Urgence"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Biologie"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Imagerie"===t.typesejourbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Soins"===t.typesejourbordereau})).length],borderColor:"transparent",backgroundColor:hn.a[t]}}))},options:{}})),null!==ee&&ee.destroy(),te(new gn.a(a,{type:"doughnut",data:{labels:["Envoy\xe9","D\xe9charge","Rejet\xe9","Encaiss\xe9"],datasets:[{data:[c.filter((function(e){return"Envoie"===e.statutbordereau})).length,c.filter((function(e){return"D\xe9charge"===e.statutbordereau})).length,c.filter((function(e){return"Rejet\xe9"===e.statutbordereau})).length,c.filter((function(e){return"Encaisse"===e.statutbordereau})).length],backgroundColor:[hn.a[0],hn.a[1],hn.a[3],hn.a[2]],borderWidth:0}]},options:{}})),null!==re&&re.destroy(),le(new gn.a(e,{type:"horizontalBar",data:{labels:["Encaiss\xe9","Rejet\xe9","D\xe9charge","Envoy\xe9"],datasets:W.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){return{label:e.label,data:[c.filter((function(t){return t.gestionnairebordereau===e.label&&"Encaiss\xe9"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Rejet\xe9"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"D\xe9charge"===t.statutbordereau})).length,c.filter((function(t){return t.gestionnairebordereau===e.label&&"Envoie"===t.statutbordereau})).length],borderColor:"transparent",backgroundColor:hn.a[t]}}))},options:{}}))}),[c,W]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"AssuranceList",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(b.a)(W)),onChange:function(e,a){a&&function(e){fe(Object(E.a)(Object(E.a)({},de),{},{nomassurance:e}))}(a.label),a&&""!==de.typeSejour.trim()&&""!==de.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},de),{},{nomassurance:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(U.a,{size:"small",className:"col p-0 mx-2",defaultValue:{value:"Tous",label:"Tous"},options:[{value:"Tous",label:"Tous"}].concat(Object(b.a)(W)),onChange:function(e,a){a&&function(e){fe(Object(E.a)(Object(E.a)({},de),{},{nomgarant:e}))}(a.label),a&&""!==de.typeSejour.trim()&&""!==de.nomassurance.trim()&&t(Object(E.a)(Object(E.a)({},de),{},{nomgarant:a.label}))},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Garant",placeholder:"Selectionner ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col"},l.a.createElement(O.a,{id:"typesejour-label"},"Type de sejour "),l.a.createElement(N.a,{labelId:"typesejour-label",defaultValue:"Tous",id:"typesejour",onChange:function(e){var a=e.target.value;!function(e){fe(Object(E.a)(Object(E.a)({},de),{},{typeSejour:e}))}(a),""!==de.nomassurance.trim()&&""!==de.nomgarant.trim()&&t(Object(E.a)(Object(E.a)({},de),{},{typeSejour:a}))},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Consultation"},"Consultation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Urgence"},"Urgence"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Biologie"},"Biologie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Imagerie"},"Imagerie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Hospitalisation"},"Hospitalisation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Soins"},"Soins"))),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(O.a,{id:"statutbordereau-label"},"Statut du borderau"),l.a.createElement(N.a,{labelId:"statutbordereau-label",id:"statutbordereau",defaultValue:de.statutBordereau,onChange:function(e){var t=e.target.value;""!==de.nomassurance.trim()&&""!==de.nomgarant.trim()&&function(e){fe(Object(E.a)(Object(E.a)({},de),{},{statutBordereau:e}))}(t)},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"envoie"},"Envoie"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"decharge"},"D\xe9charge"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"rejete"},"Rejet"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"creation"},"Cr\xe9ation"))),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{className:"col mx-2",label:"Du",id:"datedebut",defaultValue:new Date("01/01/2020"),value:de.debutDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){fe(Object(E.a)(Object(E.a)({},de),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},de),{},{debutDate:e,debutDateString:X()(e.toString()).format("DD-MM-YYYY")}))}})),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{className:"col",label:"Au",id:"datefin",defaultValue:new Date("12/31/2020"),value:de.finDate,format:"dd/MM/yyyy",onChange:function(e){!function(e){fe(Object(E.a)(Object(E.a)({},de),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}(e),t(Object(E.a)(Object(E.a)({},de),{},{finDate:e,finDateString:X()(e.toString()).format("DD-MM-YYYY")}))}})))),l.a.createElement("div",{className:"col-12 mb-2 p-0 stats"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:w})),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:F})),l.a.createElement("div",{className:"d-flex justify-content-center align-items-center col-4"},l.a.createElement("canvas",{ref:A})))),l.a.createElement("table",{className:"table-sm col-12 table-hover mb-2"},l.a.createElement("thead",{style:{backgroundColor:Ee.theme.primary}},l.a.createElement("tr",null,["Assurance","Nombre bordereaux","Nombre Factures","Montant total","Part assurance","Pay\xe9s","Impay\xe9s"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,W.filter((function(e){return c.map((function(e){return e.gestionnairebordereau})).includes(e.label)})).map((function(e,t){var a,n,r,o,i,s,u,m;return l.a.createElement("tr",null,l.a.createElement("td",null,e.label),l.a.createElement("td",null,c.filter((function(t){return t.gestionnairebordereau===e.label})).length),l.a.createElement("td",null,null===(a=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===a||null===(n=a.map((function(e){return parseInt(e.nbfacture)})))||void 0===n?void 0:n.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(r=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===r||null===(o=r.map((function(e){return e.montanttotal})))||void 0===o?void 0:o.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,null===(i=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===i||null===(s=i.map((function(e){return e.partassurance})))||void 0===s?void 0:s.reduce((function(e,t){return e+t}))),l.a.createElement("td",null,"0"),l.a.createElement("td",null,null===(u=c.filter((function(t){return t.gestionnairebordereau===e.label})))||void 0===u||null===(m=u.map((function(e){return e.partassurance})))||void 0===m?void 0:m.reduce((function(e,t){return e+t}))))})))),l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un borderau",value:M,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");P(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Bordereau(x)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:Ee.theme.primary}},o.filter((function(e){return""===M.trim()||RegExp(M,"i").test(e.numerobordereau)})).filter((function(e){return be(de.statutBordereau).includes(e.statutbordereau)})).length)})))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:Ee.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Numero Bordereau","Gestionnaire","Organisme","Type de sejour","Date d'envoie","Date limite","Status du bordereau","Nombre de factures","Montant total","Part Assurance","Part Patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,o.filter((function(e){return""===M.trim()||RegExp(M,"i").test(e.numerobordereau)})).filter((function(e){return be(de.statutBordereau).includes(e.statutbordereau)})).map((function(e,t){var a=e.numerobordereau,n=e.datecreationbordereau,r=e.gestionnairebordereau,c=e.datelimitebordereau,o=e.organismebordereau,i=e.typesejourbordereau,s=e.statutbordereau,u=e.nbfactures,d=e.montanttotal,f=e.partassurance,p=e.partpatient;return l.a.createElement("tr",{key:t,style:{cursor:"pointer"},onClick:function(){m(a)}},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",null,n),l.a.createElement("td",null,c),l.a.createElement("td",{className:"font-weight-bold ".concat("Rejet\xe9"===s?"red-text animated infinite flash":"D\xe9charge"===s?"blue-text":"Envoie"===s?"green-text":"")},s),l.a.createElement("td",null,u),l.a.createElement("td",null,pe(d)),l.a.createElement("td",null,pe(f)),l.a.createElement("td",null,pe(p)))})))),l.a.createElement(C.a,{TransitionComponent:wn,open:u,onClose:function(){d(!1)},disableBackdropClick:!0,disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,maxWidth:"lg"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Bordereau N\xb0 ",s[0].numerobordereau)),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row mx-1"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-auto p-0"},l.a.createElement("small",null,l.a.createElement("b",null,"N\xb0 Bordereau : "),s[0].numerobordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Type de sejour : "),s[0].typesejourbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date de creation : "),s[0].datecreationbordereau," ",s[0].heurecreationbordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Date limite d'envoi : "),s[0].datelimitebordereau),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-auto"},""!==s[0].gestionnairebordereau&&l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,l.a.createElement("b",null,"Gestionnaire : ")," ",s[0].gestionnairebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Garant : ")," ",s[0].organismebordereau),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Montant total : ")," ",pe(s.map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))," FCFA"),l.a.createElement("br",null),l.a.createElement("small",null,l.a.createElement("b",null,"Statut : ")," ",s[0].statutbordereau),l.a.createElement("br",null)))),l.a.createElement("div",{className:"row d-flex justify-content-between mt-3"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher une facture",value:_,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");L(t)}}),l.a.createElement(y.a,{className:"ml-2",label:"Facture(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:Ee.theme.primary}},s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerobordereau)})).length)}))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped my-3"},l.a.createElement("thead",{style:{backgroundColor:Ee.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","N\xb0facture","Date","Heure","Gestionnaire","Organisme","Type de sejour","N\xb0 PEC","Matricule Assur\xe9","Taux","Patient","Assur\xe9 Princ"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})),["Montant Total","Part Assu","Reste assurance","Part patient"].map((function(e,t){return l.a.createElement("th",{className:"white-text text-right",key:t},e)})))),l.a.createElement("tbody",null,s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e,t){var a=e.numerofacture,n=e.gestionnaire,r=e.organisme,c=e.matriculeassure,o=e.numeropec,i=e.assureprinc,s=e.taux,u=e.datefacture,m=e.heurefacture,d=e.nompatient,f=e.prenomspatient,p=e.montanttotalfacture,b=e.partassurancefacture,E=e.resteassurancefacture,g=e.partpatientfacture,h=e.typesejour,y=e.erreurfacture,v=e.commentairefacture;return l.a.createElement("tr",{key:a,style:{cursor:"default"},className:"warning"===y?"bg-warning":"",title:v},l.a.createElement("td",null,t+1),l.a.createElement("td",null,a),l.a.createElement("td",null,u),l.a.createElement("td",null,m),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},h),l.a.createElement("td",{className:"font-weight-bold"},o),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},s,"%"),l.a.createElement("td",{className:"font-weight-bold"},d," ",f),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"text-right"},pe(p)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(b)),l.a.createElement("td",{className:"font-weight-bold text-right"},pe(E)),l.a.createElement("td",{className:"text-right"},pe(g)))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:11}),l.a.createElement("td",{className:"text-white font-weight-bold bgcolor-primary"},"TOTAL : "),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&pe(s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.montanttotalfacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&pe(s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.partassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&pe(s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.resteassurancefacture})).reduce((function(e,t){return e+t})))),l.a.createElement("td",{className:"text-white font-weight-bold text-right bgcolor-primary"},0!==s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).length&&pe(s.filter((function(e){return""===_.trim()||RegExp(_,"i").test(e.numerofacture)})).map((function(e){return e.partpatientfacture})).reduce((function(e,t){return e+t}))))))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(We.a,null),onClick:function(){d(!1)},style:{textTransform:"none",fontSize:"13px"}},"Fermer"))),l.a.createElement(ot.a,{open:f,onClose:function(){return p(!1)}},l.a.createElement(Cn,{variant:"standard",severity:"info"},"Chargement ...")))}))}],kn=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:Jt,setNotification:Kt})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Statistiques")})),l.a.createElement("div",{className:"Statistiques row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:bn,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Tn.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(Wt,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),zn=i.a.permissions.functions.filter((function(e){return"Encaissement"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),Fn=[{target:"encaissement",title:"Encaissement Mutuelles",icon:"action-assignment"}],An=(0!==zn.length&&Fn.filter((function(e){return zn.includes(e.target)})),Fn),Dn={listEncaissement:[]};function Rn(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H()({url:"".concat(Q.a.url,"/gap/list/encaissements")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_ENCAISSEMENT",listEncaissement:a})}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Mn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_ENCAISSEMENT":return Object(E.a)(Object(E.a)({},e),{},{listEncaissement:t.listEncaissement});default:return e}},Pn=[{id:"encaissement",Component:Object(c.b)((function(e){return{listEncaissement:e.encaissementReducer.listEncaissement}}),{thunkAddEncaissement:function(e){return function(){var t=Object(ee.a)($.a.mark((function t(a){return $.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:H()({method:"POST",url:"".concat(Q.a.url,"/gap/add/encaissement"),data:Object(E.a)(Object(E.a)({},e),{},{recepteur:i.a.user.nomuser+" "+i.a.user.prenomsuser}),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.rows;a(Rn())}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},thunkListEncaissement:Rn})((function(e){var t=e.listEncaissement,a=e.thunkAddEncaissement,c=e.thunkListEncaissement,o=Object(r.useContext)(i.b),s=Object(r.useState)(""),u=Object(n.a)(s,2),m=u[0],d=u[1],f=Object(r.useState)(!1),p=Object(n.a)(f,2),b=p[0],g=p[1],w=Object(r.useState)({mode:"",montant:"",assurance:"",numeroTransaction:""}),F=Object(n.a)(w,2),A=F[0],R=F[1],M=Object(r.useState)([]),P=Object(n.a)(M,2),B=P[0],L=P[1];function Y(){R({mode:"",montant:"",assurance:"",numeroTransaction:""}),g(!1)}var q=Object(r.useState)(["N\xb0","Numero d'encaissement","Assurance","Mode de paiement","Date","Heure","Recepteur","Montant"]),V=Object(n.a)(q,1)[0];return Object(r.useEffect)((function(){c(),H()({url:"".concat(Q.a.url,"/gap/list/assurances")}).then((function(e){var t=e.data.rows,a=[];t.forEach((function(e){var t=e.idassurance,n=e.nomassurance;a.push({value:t,label:n})})),L(a)}))}),[]),l.a.createElement("div",{className:"Encaissement row p-2"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row mb-2"},l.a.createElement(h.a,{className:"col-2",variant:"outlined",size:"small",label:"Rechercher un encaissement",value:m,onChange:function(e){var t=e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","");d(t)}}),l.a.createElement("div",{className:"col-2"},l.a.createElement(y.a,{label:"Encaissements(s)",avatar:l.a.createElement(v.a,{className:"white-text",style:{backgroundColor:o.theme.primary}},t.length)})),l.a.createElement("div",{className:"col d-flex justify-content-end p-0"},l.a.createElement(j.a,{variant:"contained",startIcon:l.a.createElement(D.a,null),onClick:function(){g(!0)},style:{textTransform:"none",backgroundColor:o.theme.primary,color:"white",fontSize:"13px"}},"Nouvel encaissement")))),0===t.length?l.a.createElement("div",{className:"col-12 text-secondary text-center"},l.a.createElement("h6",{className:"text-center lead"},"Aucun Encaissement existant"),l.a.createElement("small",null,"Pour en ajouter un cliquez sur le boutton 'Nouvel encaissement' puis renseignez les informations")):l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:o.theme.secondaryDark}},l.a.createElement("tr",null,V.map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,t.filter((function(e){return""===m.trim()||RegExp(m,"i").test(e.numeroencaissement)})).map((function(e,t){var a=e.numeroencaissement,n=e.dateencaissement,r=e.heureencaissement,c=e.modepaiementencaissement,o=e.assuranceencaissement,i=e.recepteurencaissement,s=e.montantencaissement;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},a),l.a.createElement("td",null,o),l.a.createElement("td",null,c),l.a.createElement("td",null,n),l.a.createElement("td",null,r),l.a.createElement("td",{className:"font-weight-bold"},i),l.a.createElement("td",{className:"font-weight-bold"},pe(s))))})),l.a.createElement("tr",{className:"white"},l.a.createElement("td",{colSpan:7}),l.a.createElement("td",{className:"font-weight-bold white-text ",style:{backgroundColor:o.theme.primary}},pe(t.filter((function(e){return""===m.trim()||RegExp(m,"i").test(e.numeroencaissement)})).map((function(e){return e.montantencaissement})).reduce((function(e,t){return e+t}))))))),l.a.createElement(C.a,{disableBackdropClick:!0,open:b,onClose:Y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",transitionDuration:0,fullWidth:!0,maxWidth:"xs"},l.a.createElement(z.a,{className:"text-center text-secondary",id:"alert-dialog-title"},l.a.createElement("b",null,"Ajouter un nouvel encaissement")),l.a.createElement(k.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"AssuranceList1",options:B,onChange:function(e,t){t&&function(e){R(Object(E.a)(Object(E.a)({},A),{},{assurance:e}))}(t.label)},getOptionLabel:function(e){return e.label},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{style:{fontSize:"12px"}},e.label))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{variant:"filled",label:"Gestionnaire",placeholder:"Ajouter ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(O.a,{id:"typesejour-label"},"Mode de paiement"),l.a.createElement(N.a,{labelId:"typesejour-label",id:"typesejour",variant:"filled",value:A.mode,onChange:function(e){var t=e.target.value;R(Object(E.a)(Object(E.a)({},A),{},{mode:t}))},label:"Mode de paiement",style:{fontSize:"13px"}},l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Ch\xe8que"},"Ch\xe8que"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Esp\xe8ces"},"Esp\xe8ces"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"\xc9lectronique"},"\xc9lectronique"),l.a.createElement(S.a,{style:{fontSize:"13px"},value:"Mobile money"},"Mobile money")))),l.a.createElement("div",{className:"row my-2"},l.a.createElement(h.a,{className:"col",type:"number",variant:"filled",size:"small",label:"Montant",value:A.montant,onChange:function(e){!function(e){var t=e.target.value;R(Object(E.a)(Object(E.a)({},A),{},{montant:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("-","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}),l.a.createElement(h.a,{className:"col ml-2",variant:"filled",size:"small",label:"Numero de Transaction",value:A.numeroTransaction,disabled:!["Ch\xe8que","\xc9lectronique","Mobile money"].includes(A.mode),onChange:function(e){!function(e){var t=e.target.value;R(Object(E.a)(Object(E.a)({},A),{},{numeroTransaction:t}))}({target:{value:e.target.value.replace("*","").replace("+","").replace("/","").replace("~","").replace("~","").replace(")","").replace("(","").replace("=","")}})}}))))),l.a.createElement(T.a,null,l.a.createElement(j.a,{variant:"contained",className:"mb-2",startIcon:l.a.createElement(I.a,null),onClick:Y,style:{textTransform:"none",fontSize:"13px"}},"Annuler"),l.a.createElement(j.a,{variant:"contained",className:"mb-2",onClick:function(){a(A),Y()},startIcon:l.a.createElement(_.a,null),disabled:""===A.assurance.trim()||""==A.mode.trim()||""===A.montant.trim()||["Ch\xe8que","\xc9lectronique","Mobile money"].includes(A.mode)&&""===A.numeroTransaction.trim(),style:{textTransform:"none",backgroundColor:o.theme.primary,color:"white",fontSize:"13px"}},"Valider"))))}))}],In={currentPage:An[0].target||null,notification:!1},Bn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(E.a)(Object(E.a)({},e),{},{notification:t.notification});default:return e}},_n=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},setNotification:function(e){return{type:"SET_NOTIFICATION",notification:e}}})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Encaissements")})),l.a.createElement("div",{className:"Encaissement row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:An,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Pn.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(Wt,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),Ln=i.a.permissions.functions.filter((function(e){return"Administration"===e.name})).flatMap((function(e){return e.subfunctions})).map((function(e){return e.target})),Yn=[{target:"logs",title:"Logs",icon:"action-polymer"}],Un=(0!==Ln.length&&Yn.filter((function(e){return Ln.includes(e.target)})),Yn),qn={listLogs:[],loading:!1};var Vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LIST_LOGS":return Object(E.a)(Object(E.a)({},e),{},{listLogs:t.listLogs});case"SET_LOADING":return Object(E.a)(Object(E.a)({},e),{},{loading:t.loading});default:return e}};function Gn(e){return l.a.createElement(it.a,Object.assign({elevation:6,variant:"filled"},e))}var Wn=[{id:"logs",Component:Object(c.b)((function(e){return{listLogs:e.logsReducer.listLogs}}),{thunkListLogs:function(){return function(){var e=Object(ee.a)($.a.mark((function e(t){return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SET_LOADING",loading:!0}),H()({url:"".concat(Q.a.url,"/gap/list/logs")}).then((function(e){var a=e.data.rows;t({type:"SET_LIST_LOGS",listLogs:a})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.listLogs,a=e.loading,c=e.thunkListLogs,o=e.setLoading,s=Object(r.useContext)(i.b),u=Object(r.useState)(),m=Object(n.a)(u,2),d=m[0],f=m[1],p=Object(r.useState)({user:"",typelog:"",objetlog:""}),b=Object(n.a)(p,2),y=b[0],v=b[1];function j(e){v(Object(E.a)(Object(E.a)({},y),{},{user:e}))}return Object(r.useEffect)((function(){c(),H()({url:"".concat(Q.a.url,"/gap/list/logs_users")}).then((function(e){var t=e.data.rows;f(t)}))}),[]),l.a.createElement("div",{className:"Facturesvalides row p-2"},l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("div",{className:"row mb-2 d-flex justify-content-center"},l.a.createElement(U.a,{size:"small",className:"col p-0",id:"listusers",options:d,onChange:function(e,t){j(t?t.ipppatient:null)},getOptionLabel:function(e){return e.auteurlog},filterSelectedOptions:!0,renderOption:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("small",null,e.auteurlog))},renderInput:function(e){return l.a.createElement(h.a,Object.assign({},e,{label:"Utilisateur",variant:"filled",placeholder:"Rechercher un utilisateur ..."}))}}),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(O.a,{id:"typelog-label"},"Type de Log "),l.a.createElement(N.a,{labelId:"typelog-label",defaultValue:"Tous",id:"typelog",onChange:function(e){!function(e){v(Object(E.a)(Object(E.a)({},y),{},{typelog:e}))}(e.target.value)},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Cr\xe9ation"},"Cr\xe9ation"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Suppression"},"Suppression"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Modification"},"Modification"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"Validation"},"Validation"))),l.a.createElement(x.a,{variant:"filled",size:"small",className:"col ml-2"},l.a.createElement(O.a,{id:"objetlog-label"},"Objet"),l.a.createElement(N.a,{labelId:"objetlog-label",id:"objetlog",defaultValue:y.objetlog,onChange:function(e){!function(e){v(Object(E.a)(Object(E.a)({},y),{},{objetlog:e}))}(e.target.value)},label:"Type de sejour ",style:{fontSize:"12px"}},l.a.createElement(S.a,{style:{fontSize:"12px"},value:"tous"},"Tous"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"patient"},"Patients"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"s\xe9jour"},"S\xe9jours"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"facture"},"Factures"),l.a.createElement(S.a,{style:{fontSize:"12px"},value:"bordereau"},"Bordereaux"))),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{className:"col mx-2",label:"Du",id:"datedebut",defaultValue:new Date("01/01/2020"),value:y.debutDate,format:"dd/MM/yyyy",onChange:function(e){}})),l.a.createElement(q.a,{utils:g.a,locale:J.a},l.a.createElement(V.a,{className:"col",label:"Au",id:"datefin",defaultValue:new Date("12/31/2020"),value:y.finDate,format:"dd/MM/yyyy",onChange:function(e){}})))),l.a.createElement("table",{className:"table-sm col-12 table-hover table-striped"},l.a.createElement("thead",{style:{backgroundColor:s.theme.secondaryDark}},l.a.createElement("tr",null,["N\xb0","Date","Heure","Auteur","type","Op\xe9ration","Objet"].map((function(e,t){return l.a.createElement("th",{className:"white-text",key:t},e)})))),l.a.createElement("tbody",null,t.map((function(e,t){var a=e.datelog,n=e.heurelog,r=e.typelog,c=(e.actionlog,e.operationlog),o=e.objetlog,i=e.auteurlog;return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t+1),l.a.createElement("td",{className:"font-weight-bold"},X()(a).format("DD/MM/YYYY")),l.a.createElement("td",{className:"font-weight-bold"},n),l.a.createElement("td",null,i),l.a.createElement("td",{className:"font-weight-bold"},r),l.a.createElement("td",{className:"font-weight-bold"},c),l.a.createElement("td",{className:"font-weight-bold"},o))})))),l.a.createElement(ot.a,{open:a,onClose:function(){return o(!1)}},l.a.createElement(Gn,{variant:"standard",severity:"info"},"Chargement ...")))}))}],Hn=Object(c.b)((function(e){var t=e.pageReducer;return{currentPage:t.currentPage,notification:t.notification}}),{setCurrentPage:Jt,setNotification:Kt})((function(e){var t=e.sendTitle,a=e.currentPage,n=e.setCurrentPage,c=e.setNotification,o=e.notification;return Object(r.useEffect)((function(){t("Administration")})),l.a.createElement("div",{className:"Administration row"},l.a.createElement("section",{className:"col-12"},l.a.createElement(ft,{links:Un,currentPage:a,setCurrentPage:n})),l.a.createElement("section",{className:"col-12 px-3 mt-2",style:{height:"83vh",overflowY:"scroll",overflowX:"hidden"}},Wn.map((function(e,t){var n=e.id,r=e.Component;return n===a&&l.a.createElement(r,{key:t})}))),l.a.createElement(ot.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:o,className:"col-2"},l.a.createElement(Wt,{title:"Nouvelle facture",cancel:function(){return c(!1)}},l.a.createElement("br",null))))})),Jn=a(97),Kn=a(122),Xn=Object(Jn.c)({pageReducer:Me,PatientReducer:Ve,sejourReducer:ce}),Qn=Object(Jn.d)(Xn,Object(Jn.a)(Kn.a)),Zn=Object(Jn.c)({pageReducer:Xt,factureReducer:Lt,compteReducer:Ot}),$n=Object(Jn.d)(Zn,Object(Jn.a)(Kn.a)),er=Object(Jn.c)({pageReducer:on,assuranceReducer:oa,bordereauReducer:Pa}),tr=Object(Jn.d)(er,Object(Jn.a)(Kn.a)),ar={currentPage:bn[0].target||null,notification:!1},nr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(E.a)(Object(E.a)({},e),{},{notification:t.notification});default:return e}},rr=Object(Jn.c)({pageReducer:nr,bordereauReducer:Sn}),lr=Object(Jn.d)(rr,Object(Jn.a)(Kn.a)),cr=Object(Jn.c)({pageReducer:Bn,encaissementReducer:Mn}),or=Object(Jn.d)(cr,Object(Jn.a)(Kn.a)),ir={currentPage:Un[0].target||null,notification:!1},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_PAGE":return Object(E.a)(Object(E.a)({},e),{},{currentPage:t.currentPage});case"SET_NOTIFICATION":return Object(E.a)(Object(E.a)({},e),{},{notification:t.notification});default:return e}},ur=Object(Jn.c)({pageReducer:sr,logsReducer:Vn}),mr=[{title:"Admission",path:"/gap/admission",Component:pt,store:Qn},{title:"Caisse",path:"/gap/caisse",Component:Qt,store:$n},{title:"Assurance",path:"/gap/assurance",Component:sn,store:tr},{title:"Statistques",path:"/gap/statistiques",Component:kn,store:lr},{title:"Encaissement",path:"/gap/encaissement_mutuelles",Component:_n,store:or},{title:"Administration",path:"/gap/administration",Component:Hn,store:Object(Jn.d)(ur,Object(Jn.a)(Kn.a))},{title:"Acceuil",path:"/gap",Component:dn}],dr=a(17);a(718);mt.a.object.isRequired;var fr=function(e){var t=e.icon,a=e.text,n=e.actif,r=e.active;return l.a.createElement("div",{title:a,className:"row Sideitem text-center d-flex justify-content-center ".concat(n?"text-info active":"text-light"),onClick:function(){return r()}},l.a.createElement("i",{style:{fontSize:"9px"},className:"mdi-".concat(t," mdi-3x col-9")})," ")};fr.prototype={icon:mt.a.string.isRequired,text:mt.a.string.isRequired};var pr=function(e){var t=e.children;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},t))},br=function(e){e.user;var t=e.fonctions,a=Object(r.useState)(0),c=Object(n.a)(a,2),o=c[0],i=c[1];return l.a.createElement("div",{className:"col-12 page Sidebar"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(pr,null,t.map((function(e,t){var a=e.title,n=e.icon,r=e.path;return l.a.createElement(dr.b,{key:t,exact:!0,to:r},l.a.createElement(fr,{text:a,icon:n,actif:o===t,active:function(){return i(t)}}))})))))))};br.prototype={user:mt.a.object.isRequired,functions:mt.a.array.isRequired};var Er=br,gr=new(a(16).a),hr=function(){gr.get("user_winhealth")&&gr.get("currentPage")&&(gr.remove("user_winhealth",{path:"/"}),gr.remove("currentPage",{path:"/"}),window.location="/connexion")},yr=a(727),vr=a(721),jr=a.n(vr),xr=a(719),Or=a.n(xr),Nr=a(720),Sr=a.n(Nr),wr=function(e){var t=e.toggleFullscreen,a=e.title,c=e.fullscreen,o=e.user;X.a.locale("fr");var i=Object(r.useState)(X()().format("ddd DD MMMM YYYY - HH : mm : ss")),s=Object(n.a)(i,2),u=s[0],m=s[1],d=l.a.useState(null),f=Object(n.a)(d,2),p=f[0],b=f[1];return Object(r.useEffect)((function(){var e=setInterval((function(){m(X()().format("ddd DD MMMM YYYY - HH : mm : ss"))}),1e3);return function(){clearInterval(e)}}),[]),l.a.createElement("div",{className:"row p-1"},l.a.createElement("div",{className:"col-3"},l.a.createElement("small",{className:"font-weight-bold"},a)),l.a.createElement("div",{className:"col-6 text-center"},l.a.createElement("small",null,u)),l.a.createElement("div",{className:"col-3 text-center"},l.a.createElement(w.a,{size:"small",onClick:t},c?l.a.createElement(Sr.a,null):l.a.createElement(Or.a,null)),l.a.createElement(w.a,{"aria-controls":"simple-menu","aria-haspopup":"true",size:"small",onClick:function(e){b(e.currentTarget)}},l.a.createElement(jr.a,null)),l.a.createElement(yr.a,{elevation:1,id:"simple-menu",anchorEl:p,keepMounted:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(p),onClose:function(){b(null)}},l.a.createElement(S.a,{style:{fontSize:"13px"},onClick:hr},"D\xe9connexion")),l.a.createElement("small",null,o)))};wr.prototype={toggleFullscreen:mt.a.func.isRequired,fullscreen:mt.a.bool.isRequired,title:mt.a.string.isRequired};var Cr=wr;t.default=function(){var e=Object(r.useState)("Accueil"),t=Object(n.a)(e,2),a=t[0],s=t[1],u=Object(r.useState)(!1),d=Object(n.a)(u,2),f=d[0],p=d[1];return l.a.createElement("div",{className:"col-12 page",id:"gap"},l.a.createElement("div",{className:"row"},l.a.createElement("section",{id:"navbar",style:{flex:"none"}},l.a.createElement(Er,{user:i.a.user,fonctions:m})),l.a.createElement("section",{className:"white",id:"principal",style:{flex:1,height:"100vh",overflowY:"hidden",overflowX:"hidden"}},l.a.createElement("section",{className:"col-12 bg-light",id:"Topbar"},l.a.createElement(Cr,{title:a,user:"".concat(i.a.user.nomuser," ").concat(i.a.user.prenomsuser," - ").concat(i.a.user.labelprofil),toggleFullscreen:function(){document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),p(!1)):(document.documentElement.requestFullscreen(),p(!0))},fullscreen:f})),l.a.createElement("section",{className:"col-12"},mr.map((function(e,t){var a=e.path,n=e.Component,r=e.store;return l.a.createElement(o.b,{exact:!0,key:t,path:a},r?l.a.createElement(c.a,{store:r},l.a.createElement(n,{sendTitle:function(e){s(e)}})):l.a.createElement(n,{sendTitle:function(e){s(e)}}))}))))))}}}]);